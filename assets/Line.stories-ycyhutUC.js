import{r as Si,R as ie}from"./index-RYns6xqu.js";import{B as ha,f as it,g as we,h as Z,_ as X,i as G,j as $,k as K,l as Qe,m as Mr,n as tr,o as Nr,p as mt,q as Le,r as Y,s as da,t as Dt,u as ue,v as Vt,w as rt,x as Ht,y as Wt,z as pa,A as va,C as vn,E as ga,F as ya,G as te,H as ma,I as Xe,J as ar,K as Re,L as Ea,M as cr,N as Kt,O as Pe,P as he,Q as xa,R as Sa,S as Ta,T as kr,U as Je,V as xt,W as Ca,X as ae,Y as gn,Z as zt,$ as j,a0 as Lt,a1 as Ti,a2 as wa,a3 as Ci,a4 as Ie,a5 as Pa,a6 as qr,a7 as ba,a8 as Aa,a9 as yn,aa as Ut,ab as We,ac as ze,ad as fr,ae as mn,af as En,ag as xe,ah as Ma,ai as Or,aj as hr,ak as Na,al as ka,am as Oa,an as De,ao as Ra,ap as La,aq as Ia,ar as xn,as as Sn,at as Da,au as wi,av as Tn,aw as Ga,ax as Cn,ay as Fa,az as Ba,aA as _a,aB as Se,aC as wn,aD as Ua,aE as Va,aF as Ha,aG as Pn,aH as Ya,aI as Xa,aJ as Wa,aK as Yt,aL as za,aM as Ka,aN as qa,aO as Za,aP as Qa,aQ as Ja,aR as $a,D as ja,a as to}from"./index-BSYnM7IN.js";import{g as dr,i as eo}from"./utils-a-s_PdQg.js";import"./index-DvSUCdeO.js";import"./index-BQ5IbGbl.js";function ro(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]}var Rr=function(){return Rr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Rr.apply(this,arguments)},no=Si.forwardRef(function(n,e){return ie.createElement(ha,Rr({},n,{chartType:"Line",ref:e}))}),io=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pi={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(io,function(){function t(E,v,x,S,w){r(E,v,x||0,S||E.length-1,w||a)}function r(E,v,x,S,w){for(;S>x;){if(S-x>600){var b=S-x+1,P=v-x+1,O=Math.log(b),I=.5*Math.exp(2*O/3),D=.5*Math.sqrt(O*I*(b-I)/b)*(P-b/2<0?-1:1),F=Math.max(x,Math.floor(v-P*I/b+D)),_=Math.min(S,Math.floor(v+(b-P)*I/b+D));r(E,v,F,_,w)}var L=E[v],V=x,H=S;for(i(E,x,v),w(E[S],L)>0&&i(E,x,S);V<H;){for(i(E,V,H),V++,H--;w(E[V],L)<0;)V++;for(;w(E[H],L)>0;)H--}w(E[x],L)===0?i(E,x,H):(H++,i(E,H,S)),H<=v&&(x=H+1),v<=H&&(S=H-1)}}function i(E,v,x){var S=E[v];E[v]=E[x],E[x]=S}function a(E,v){return E<v?-1:E>v?1:0}var o=function(v){v===void 0&&(v=9),this._maxEntries=Math.max(4,v),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()};o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(v){var x=this.data,S=[];if(!T(v,x))return S;for(var w=this.toBBox,b=[];x;){for(var P=0;P<x.children.length;P++){var O=x.children[P],I=x.leaf?w(O):O;T(v,I)&&(x.leaf?S.push(O):m(v,I)?this._all(O,S):b.push(O))}x=b.pop()}return S},o.prototype.collides=function(v){var x=this.data;if(!T(v,x))return!1;for(var S=[];x;){for(var w=0;w<x.children.length;w++){var b=x.children[w],P=x.leaf?this.toBBox(b):b;if(T(v,P)){if(x.leaf||m(v,P))return!0;S.push(b)}}x=S.pop()}return!1},o.prototype.load=function(v){if(!(v&&v.length))return this;if(v.length<this._minEntries){for(var x=0;x<v.length;x++)this.insert(v[x]);return this}var S=this._build(v.slice(),0,v.length-1,0);if(!this.data.children.length)this.data=S;else if(this.data.height===S.height)this._splitRoot(this.data,S);else{if(this.data.height<S.height){var w=this.data;this.data=S,S=w}this._insert(S,this.data.height-S.height-1,!0)}return this},o.prototype.insert=function(v){return v&&this._insert(v,this.data.height-1),this},o.prototype.clear=function(){return this.data=M([]),this},o.prototype.remove=function(v,x){if(!v)return this;for(var S=this.data,w=this.toBBox(v),b=[],P=[],O,I,D;S||b.length;){if(S||(S=b.pop(),I=b[b.length-1],O=P.pop(),D=!0),S.leaf){var F=s(v,S.children,x);if(F!==-1)return S.children.splice(F,1),b.push(S),this._condense(b),this}!D&&!S.leaf&&m(S,w)?(b.push(S),P.push(O),O=0,I=S,S=S.children[0]):I?(O++,S=I.children[O],D=!1):S=null}return this},o.prototype.toBBox=function(v){return v},o.prototype.compareMinX=function(v,x){return v.minX-x.minX},o.prototype.compareMinY=function(v,x){return v.minY-x.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(v){return this.data=v,this},o.prototype._all=function(v,x){for(var S=[];v;)v.leaf?x.push.apply(x,v.children):S.push.apply(S,v.children),v=S.pop();return x},o.prototype._build=function(v,x,S,w){var b=S-x+1,P=this._maxEntries,O;if(b<=P)return O=M(v.slice(x,S+1)),l(O,this.toBBox),O;w||(w=Math.ceil(Math.log(b)/Math.log(P)),P=Math.ceil(b/Math.pow(P,w-1))),O=M([]),O.leaf=!1,O.height=w;var I=Math.ceil(b/P),D=I*Math.ceil(Math.sqrt(P));k(v,x,S,D,this.compareMinX);for(var F=x;F<=S;F+=D){var _=Math.min(F+D-1,S);k(v,F,_,I,this.compareMinY);for(var L=F;L<=_;L+=I){var V=Math.min(L+I-1,_);O.children.push(this._build(v,L,V,w-1))}}return l(O,this.toBBox),O},o.prototype._chooseSubtree=function(v,x,S,w){for(;w.push(x),!(x.leaf||w.length-1===S);){for(var b=1/0,P=1/0,O=void 0,I=0;I<x.children.length;I++){var D=x.children[I],F=d(D),_=g(v,D)-F;_<P?(P=_,b=F<b?F:b,O=D):_===P&&F<b&&(b=F,O=D)}x=O||x.children[0]}return x},o.prototype._insert=function(v,x,S){var w=S?v:this.toBBox(v),b=[],P=this._chooseSubtree(w,this.data,x,b);for(P.children.push(v),c(P,w);x>=0&&b[x].children.length>this._maxEntries;)this._split(b,x),x--;this._adjustParentBBoxes(w,b,x)},o.prototype._split=function(v,x){var S=v[x],w=S.children.length,b=this._minEntries;this._chooseSplitAxis(S,b,w);var P=this._chooseSplitIndex(S,b,w),O=M(S.children.splice(P,S.children.length-P));O.height=S.height,O.leaf=S.leaf,l(S,this.toBBox),l(O,this.toBBox),x?v[x-1].children.push(O):this._splitRoot(S,O)},o.prototype._splitRoot=function(v,x){this.data=M([v,x]),this.data.height=v.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(v,x,S){for(var w,b=1/0,P=1/0,O=x;O<=S-x;O++){var I=u(v,0,O,this.toBBox),D=u(v,O,S,this.toBBox),F=y(I,D),_=d(I)+d(D);F<b?(b=F,w=O,P=_<P?_:P):F===b&&_<P&&(P=_,w=O)}return w||S-x},o.prototype._chooseSplitAxis=function(v,x,S){var w=v.leaf?this.compareMinX:h,b=v.leaf?this.compareMinY:p,P=this._allDistMargin(v,x,S,w),O=this._allDistMargin(v,x,S,b);P<O&&v.children.sort(w)},o.prototype._allDistMargin=function(v,x,S,w){v.children.sort(w);for(var b=this.toBBox,P=u(v,0,x,b),O=u(v,S-x,S,b),I=f(P)+f(O),D=x;D<S-x;D++){var F=v.children[D];c(P,v.leaf?b(F):F),I+=f(P)}for(var _=S-x-1;_>=x;_--){var L=v.children[_];c(O,v.leaf?b(L):L),I+=f(O)}return I},o.prototype._adjustParentBBoxes=function(v,x,S){for(var w=S;w>=0;w--)c(x[w],v)},o.prototype._condense=function(v){for(var x=v.length-1,S=void 0;x>=0;x--)v[x].children.length===0?x>0?(S=v[x-1].children,S.splice(S.indexOf(v[x]),1)):this.clear():l(v[x],this.toBBox)};function s(E,v,x){if(!x)return v.indexOf(E);for(var S=0;S<v.length;S++)if(x(E,v[S]))return S;return-1}function l(E,v){u(E,0,E.children.length,v,E)}function u(E,v,x,S,w){w||(w=M(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var b=v;b<x;b++){var P=E.children[b];c(w,E.leaf?S(P):P)}return w}function c(E,v){return E.minX=Math.min(E.minX,v.minX),E.minY=Math.min(E.minY,v.minY),E.maxX=Math.max(E.maxX,v.maxX),E.maxY=Math.max(E.maxY,v.maxY),E}function h(E,v){return E.minX-v.minX}function p(E,v){return E.minY-v.minY}function d(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function f(E){return E.maxX-E.minX+(E.maxY-E.minY)}function g(E,v){return(Math.max(v.maxX,E.maxX)-Math.min(v.minX,E.minX))*(Math.max(v.maxY,E.maxY)-Math.min(v.minY,E.minY))}function y(E,v){var x=Math.max(E.minX,v.minX),S=Math.max(E.minY,v.minY),w=Math.min(E.maxX,v.maxX),b=Math.min(E.maxY,v.maxY);return Math.max(0,w-x)*Math.max(0,b-S)}function m(E,v){return E.minX<=v.minX&&E.minY<=v.minY&&v.maxX<=E.maxX&&v.maxY<=E.maxY}function T(E,v){return v.minX<=E.maxX&&v.minY<=E.maxY&&v.maxX>=E.minX&&v.maxY>=E.minY}function M(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function k(E,v,x,S,w){for(var b=[v,x];b.length;)if(x=b.pop(),v=b.pop(),!(x-v<=S)){var P=v+Math.ceil((x-v)/S/2)*S;t(E,P,v,x,w),b.push(v,P,P,x)}}return o})})(Pi);var ao=Pi.exports,A;(function(n){n.GROUP="g",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.IMAGE="image",n.RECT="rect",n.LINE="line",n.POLYLINE="polyline",n.POLYGON="polygon",n.TEXT="text",n.PATH="path",n.HTML="html",n.MESH="mesh"})(A||(A={}));var de;(function(n){n[n.ZERO=0]="ZERO",n[n.NEGATIVE_ONE=1]="NEGATIVE_ONE"})(de||(de={}));var or=function(){function n(){this.plugins=[]}return n.prototype.addRenderingPlugin=function(e){this.plugins.push(e),this.context.renderingPlugins.push(e)},n.prototype.removeAllRenderingPlugins=function(){var e=this;this.plugins.forEach(function(t){var r=e.context.renderingPlugins.indexOf(t);r>=0&&e.context.renderingPlugins.splice(r,1)})},n}(),oo=function(){function n(e){this.clipSpaceNearZ=de.NEGATIVE_ONE,this.plugins=[],this.config=Y({enableDirtyCheck:!0,enableCulling:!1,enableAutoRendering:!0,enableDirtyRectangleRendering:!0,enableDirtyRectangleRenderingDebug:!1,enableSizeAttenuation:!0},e)}return n.prototype.registerPlugin=function(e){var t=this.plugins.findIndex(function(r){return r===e});t===-1&&this.plugins.push(e)},n.prototype.unregisterPlugin=function(e){var t=this.plugins.findIndex(function(r){return r===e});t>-1&&this.plugins.splice(t,1)},n.prototype.getPlugins=function(){return this.plugins},n.prototype.getPlugin=function(e){return this.plugins.find(function(t){return t.name===e})},n.prototype.getConfig=function(){return this.config},n.prototype.setConfig=function(e){Object.assign(this.config,e)},n}();function oe(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n}function pr(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n}function $e(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function bn(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function so(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}function lo(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}function vr(n){return n===void 0?0:n>360||n<-360?n%360:n}function Et(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=0),Array.isArray(n)&&n.length===3?Pa(n):ae(n)?rt(n,e,t):rt(n[0],n[1]||e,n[2]||t)}function J(n){return n*(Math.PI/180)}function At(n){return n*(180/Math.PI)}function uo(n){return 360*n}function co(n,e){var t=e[0],r=e[1],i=e[2],a=e[3],o=t*t,s=r*r,l=i*i,u=a*a,c=o+s+l+u,h=t*a-r*i;return h>.499995*c?(n[0]=Math.PI/2,n[1]=2*Math.atan2(r,t),n[2]=0):h<-.499995*c?(n[0]=-Math.PI/2,n[1]=2*Math.atan2(r,t),n[2]=0):(n[0]=Math.asin(2*(t*i-a*r)),n[1]=Math.atan2(2*(t*a+r*i),1-2*(l+u)),n[2]=Math.atan2(2*(t*r+i*a),1-2*(s+l))),n}function fo(n,e){var t,r,i=Math.PI*.5,a=G(tr(Z(),e),3),o=a[0],s=a[1],l=a[2],u=Math.asin(-e[2]/o);return u<i?u>-i?(t=Math.atan2(e[6]/s,e[10]/l),r=Math.atan2(e[1]/o,e[0]/o)):(r=0,t=-Math.atan2(e[4]/s,e[5]/s)):(r=0,t=Math.atan2(e[4]/s,e[5]/s)),n[0]=t,n[1]=u,n[2]=r,n}function gr(n,e){return e.length===16?fo(n,e):co(n,e)}function ho(n,e,t,r,i){var a=Math.cos(n),o=Math.sin(n);return da(r*a,i*o,0,-r*o,i*a,0,e,t,1)}function po(n,e,t,r,i,a,o,s){s===void 0&&(s=!1);var l=2*a/(t-e),u=2*a/(r-i),c=(t+e)/(t-e),h=(r+i)/(r-i),p,d;return s?(p=-o/(o-a),d=-o*a/(o-a)):(p=-(o+a)/(o-a),d=-2*o*a/(o-a)),n[0]=l,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=u,n[6]=0,n[7]=0,n[8]=c,n[9]=h,n[10]=p,n[11]=-1,n[12]=0,n[13]=0,n[14]=d,n[15]=0,n}function An(n){var e=n[0],t=n[1],r=n[3],i=n[4],a=Math.sqrt(e*e+t*t),o=Math.sqrt(r*r+i*i),s=e*i-t*r;s<0&&(e<i?a=-a:o=-o),a&&(e*=1/a,t*=1/a),o&&(r*=1/o,i*=1/o);var l=Math.atan2(t,e),u=At(l);return[n[6],n[7],a,o,u]}var It=it(),kt=it(),Te=we(),B=[Z(),Z(),Z()],Mn=Z();function vo(n,e,t,r,i,a){if(!go(It,n)||(Or(kt,It),kt[3]=0,kt[7]=0,kt[11]=0,kt[15]=1,Math.abs(za(kt))<1e-8))return!1;var o=It[3],s=It[7],l=It[11],u=It[12],c=It[13],h=It[14],p=It[15];if(o!==0||s!==0||l!==0){Te[0]=o,Te[1]=s,Te[2]=l,Te[3]=p;var d=Dt(kt,kt);if(!d)return!1;Ka(kt,kt),Pe(i,Te,kt)}else i[0]=i[1]=i[2]=0,i[3]=1;if(e[0]=u,e[1]=c,e[2]=h,yo(B,It),t[0]=Wt(B[0]),he(B[0],B[0]),r[0]=Ht(B[0],B[1]),yr(B[1],B[1],B[0],1,-r[0]),t[1]=Wt(B[1]),he(B[1],B[1]),r[0]/=t[1],r[1]=Ht(B[0],B[2]),yr(B[2],B[2],B[0],1,-r[1]),r[2]=Ht(B[1],B[2]),yr(B[2],B[2],B[1],1,-r[2]),t[2]=Wt(B[2]),he(B[2],B[2]),r[1]/=t[2],r[2]/=t[2],qa(Mn,B[1],B[2]),Ht(B[0],Mn)<0)for(var f=0;f<3;f++)t[f]*=-1,B[f][0]*=-1,B[f][1]*=-1,B[f][2]*=-1;return a[0]=.5*Math.sqrt(Math.max(1+B[0][0]-B[1][1]-B[2][2],0)),a[1]=.5*Math.sqrt(Math.max(1-B[0][0]+B[1][1]-B[2][2],0)),a[2]=.5*Math.sqrt(Math.max(1-B[0][0]-B[1][1]+B[2][2],0)),a[3]=.5*Math.sqrt(Math.max(1+B[0][0]+B[1][1]+B[2][2],0)),B[2][1]>B[1][2]&&(a[0]=-a[0]),B[0][2]>B[2][0]&&(a[1]=-a[1]),B[1][0]>B[0][1]&&(a[2]=-a[2]),!0}function go(n,e){var t=e[15];if(t===0)return!1;for(var r=1/t,i=0;i<16;i++)n[i]=e[i]*r;return!0}function yo(n,e){n[0][0]=e[0],n[0][1]=e[1],n[0][2]=e[2],n[1][0]=e[4],n[1][1]=e[5],n[1][2]=e[6],n[2][0]=e[8],n[2][1]=e[9],n[2][2]=e[10]}function yr(n,e,t,r,i){n[0]=e[0]*r+t[0]*i,n[1]=e[1]*r+t[1]*i,n[2]=e[2]*r+t[2]*i}var ft=function(){function n(){this.center=[0,0,0],this.halfExtents=[0,0,0],this.min=[0,0,0],this.max=[0,0,0]}return n.isEmpty=function(e){return!e||e.halfExtents[0]===0&&e.halfExtents[1]===0&&e.halfExtents[2]===0},n.prototype.update=function(e,t){oe(this.center,e),oe(this.halfExtents,t),pr(this.min,this.center,this.halfExtents),$e(this.max,this.center,this.halfExtents)},n.prototype.setMinMax=function(e,t){$e(this.center,t,e),bn(this.center,this.center,.5),pr(this.halfExtents,t,e),bn(this.halfExtents,this.halfExtents,.5),oe(this.min,e),oe(this.max,t)},n.prototype.getMin=function(){return this.min},n.prototype.getMax=function(){return this.max},n.prototype.add=function(e){if(!n.isEmpty(e)){if(n.isEmpty(this)){this.setMinMax(e.getMin(),e.getMax());return}var t=this.center,r=t[0],i=t[1],a=t[2],o=this.halfExtents,s=o[0],l=o[1],u=o[2],c=r-s,h=r+s,p=i-l,d=i+l,f=a-u,g=a+u,y=e.center,m=y[0],T=y[1],M=y[2],k=e.halfExtents,E=k[0],v=k[1],x=k[2],S=m-E,w=m+E,b=T-v,P=T+v,O=M-x,I=M+x;S<c&&(c=S),w>h&&(h=w),b<p&&(p=b),P>d&&(d=P),O<f&&(f=O),I>g&&(g=I),t[0]=(c+h)*.5,t[1]=(p+d)*.5,t[2]=(f+g)*.5,o[0]=(h-c)*.5,o[1]=(d-p)*.5,o[2]=(g-f)*.5,this.min[0]=c,this.min[1]=p,this.min[2]=f,this.max[0]=h,this.max[1]=d,this.max[2]=g}},n.prototype.setFromTransformedAABB=function(e,t){var r=this.center,i=this.halfExtents,a=e.center,o=e.halfExtents,s=t[0],l=t[4],u=t[8],c=t[1],h=t[5],p=t[9],d=t[2],f=t[6],g=t[10],y=Math.abs(s),m=Math.abs(l),T=Math.abs(u),M=Math.abs(c),k=Math.abs(h),E=Math.abs(p),v=Math.abs(d),x=Math.abs(f),S=Math.abs(g);r[0]=t[12]+s*a[0]+l*a[1]+u*a[2],r[1]=t[13]+c*a[0]+h*a[1]+p*a[2],r[2]=t[14]+d*a[0]+f*a[1]+g*a[2],i[0]=y*o[0]+m*o[1]+T*o[2],i[1]=M*o[0]+k*o[1]+E*o[2],i[2]=v*o[0]+x*o[1]+S*o[2],pr(this.min,r,i),$e(this.max,r,i)},n.prototype.intersects=function(e){var t=this.getMax(),r=this.getMin(),i=e.getMax(),a=e.getMin();return r[0]<=i[0]&&t[0]>=a[0]&&r[1]<=i[1]&&t[1]>=a[1]&&r[2]<=i[2]&&t[2]>=a[2]},n.prototype.intersection=function(e){if(!this.intersects(e))return null;var t=new n,r=so([0,0,0],this.getMin(),e.getMin()),i=lo([0,0,0],this.getMax(),e.getMax());return t.setMinMax(r,i),t},n.prototype.getNegativeFarPoint=function(e){return e.pnVertexFlag===273?oe([0,0,0],this.min):e.pnVertexFlag===272?[this.min[0],this.min[1],this.max[2]]:e.pnVertexFlag===257?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===256?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===17?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===16?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===1?[this.max[0],this.max[1],this.min[2]]:[this.max[0],this.max[1],this.max[2]]},n.prototype.getPositiveFarPoint=function(e){return e.pnVertexFlag===273?oe([0,0,0],this.max):e.pnVertexFlag===272?[this.max[0],this.max[1],this.min[2]]:e.pnVertexFlag===257?[this.max[0],this.min[1],this.max[2]]:e.pnVertexFlag===256?[this.max[0],this.min[1],this.min[2]]:e.pnVertexFlag===17?[this.min[0],this.max[1],this.max[2]]:e.pnVertexFlag===16?[this.min[0],this.max[1],this.min[2]]:e.pnVertexFlag===1?[this.min[0],this.min[1],this.max[2]]:[this.min[0],this.min[1],this.min[2]]},n}(),mo=function(){function n(e,t){this.distance=e||0,this.normal=t||rt(0,1,0),this.updatePNVertexFlag()}return n.prototype.updatePNVertexFlag=function(){this.pnVertexFlag=(+(this.normal[0]>=0)<<8)+(+(this.normal[1]>=0)<<4)+ +(this.normal[2]>=0)},n.prototype.distanceToPoint=function(e){return Ht(e,this.normal)-this.distance},n.prototype.normalize=function(){var e=1/Za(this.normal);Qa(this.normal,this.normal,e),this.distance*=e},n.prototype.intersectsLine=function(e,t,r){var i=this.distanceToPoint(e),a=this.distanceToPoint(t),o=i/(i-a),s=o>=0&&o<=1;return s&&r&&Ja(r,e,t,o),s},n}(),Xt;(function(n){n[n.OUTSIDE=4294967295]="OUTSIDE",n[n.INSIDE=0]="INSIDE",n[n.INDETERMINATE=2147483647]="INDETERMINATE"})(Xt||(Xt={}));var Eo=function(){function n(e){if(this.planes=[],e)this.planes=e;else for(var t=0;t<6;t++)this.planes.push(new mo)}return n.prototype.extractFromVPMatrix=function(e){var t=G(e,16),r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],d=t[10],f=t[11],g=t[12],y=t[13],m=t[14],T=t[15];Ut(this.planes[0].normal,o-r,c-s,f-h),this.planes[0].distance=T-g,Ut(this.planes[1].normal,o+r,c+s,f+h),this.planes[1].distance=T+g,Ut(this.planes[2].normal,o+i,c+l,f+p),this.planes[2].distance=T+y,Ut(this.planes[3].normal,o-i,c-l,f-p),this.planes[3].distance=T-y,Ut(this.planes[4].normal,o-a,c-u,f-d),this.planes[4].distance=T-m,Ut(this.planes[5].normal,o+a,c+u,f+d),this.planes[5].distance=T+m,this.planes.forEach(function(M){M.normalize(),M.updatePNVertexFlag()})},n}(),ht=function(){function n(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(e){this.x=e.x,this.y=e.y},n}(),ee=function(){function n(e,t,r,i){this.x=e,this.y=t,this.width=r,this.height=i,this.left=e,this.right=e+r,this.top=t,this.bottom=t+i}return n.prototype.toJSON=function(){},n}(),et="Method not implemented.",se="Use document.documentElement instead.",xo="Cannot append a destroyed element.",tt;(function(n){n[n.ORBITING=0]="ORBITING",n[n.EXPLORING=1]="EXPLORING",n[n.TRACKING=2]="TRACKING"})(tt||(tt={}));var Ge;(function(n){n[n.DEFAULT=0]="DEFAULT",n[n.ROTATIONAL=1]="ROTATIONAL",n[n.TRANSLATIONAL=2]="TRANSLATIONAL",n[n.CINEMATIC=3]="CINEMATIC"})(Ge||(Ge={}));var gt;(function(n){n[n.ORTHOGRAPHIC=0]="ORTHOGRAPHIC",n[n.PERSPECTIVE=1]="PERSPECTIVE"})(gt||(gt={}));var bi={UPDATED:"updated"},Nn=2e-4,So=function(){function n(){this.clipSpaceNearZ=de.NEGATIVE_ONE,this.eventEmitter=new qr,this.matrix=it(),this.right=rt(1,0,0),this.up=rt(0,1,0),this.forward=rt(0,0,1),this.position=rt(0,0,1),this.focalPoint=rt(0,0,0),this.distanceVector=rt(0,0,-1),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=1/0,this.minDistance=-1/0,this.zoom=1,this.rotateWorld=!1,this.fov=30,this.near=.1,this.far=1e3,this.aspect=1,this.projectionMatrix=it(),this.projectionMatrixInverse=it(),this.jitteredProjectionMatrix=void 0,this.enableUpdate=!0,this.type=tt.EXPLORING,this.trackingMode=Ge.DEFAULT,this.projectionMode=gt.PERSPECTIVE,this.frustum=new Eo,this.orthoMatrix=it()}return n.prototype.isOrtho=function(){return this.projectionMode===gt.ORTHOGRAPHIC},n.prototype.getProjectionMode=function(){return this.projectionMode},n.prototype.getPerspective=function(){return this.jitteredProjectionMatrix||this.projectionMatrix},n.prototype.getPerspectiveInverse=function(){return this.projectionMatrixInverse},n.prototype.getFrustum=function(){return this.frustum},n.prototype.getPosition=function(){return this.position},n.prototype.getFocalPoint=function(){return this.focalPoint},n.prototype.getDollyingStep=function(){return this.dollyingStep},n.prototype.getNear=function(){return this.near},n.prototype.getFar=function(){return this.far},n.prototype.getZoom=function(){return this.zoom},n.prototype.getOrthoMatrix=function(){return this.orthoMatrix},n.prototype.getView=function(){return this.view},n.prototype.setEnableUpdate=function(e){this.enableUpdate=e},n.prototype.setType=function(e,t){return this.type=e,this.type===tt.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===tt.TRACKING&&t!==void 0&&this.setTrackingMode(t),this},n.prototype.setProjectionMode=function(e){return this.projectionMode=e,this},n.prototype.setTrackingMode=function(e){if(this.type!==tt.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=e,this},n.prototype.setWorldRotation=function(e){return this.rotateWorld=e,this._getAngles(),this},n.prototype.getViewTransform=function(){return Dt(it(),this.matrix)},n.prototype.getWorldTransform=function(){return this.matrix},n.prototype.jitterProjectionMatrix=function(e,t){var r=ue(it(),[e,t,0]);this.jitteredProjectionMatrix=Vt(it(),r,this.projectionMatrix)},n.prototype.clearJitterProjectionMatrix=function(){this.jitteredProjectionMatrix=void 0},n.prototype.setMatrix=function(e){return this.matrix=e,this._update(),this},n.prototype.setProjectionMatrix=function(e){this.projectionMatrix=e},n.prototype.setFov=function(e){return this.setPerspective(this.near,this.far,e,this.aspect),this},n.prototype.setAspect=function(e){return this.setPerspective(this.near,this.far,this.fov,e),this},n.prototype.setNear=function(e){return this.projectionMode===gt.PERSPECTIVE?this.setPerspective(e,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,e,this.far),this},n.prototype.setFar=function(e){return this.projectionMode===gt.PERSPECTIVE?this.setPerspective(this.near,e,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,e),this},n.prototype.setViewOffset=function(e,t,r,i,a,o){return this.aspect=e/t,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.projectionMode===gt.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},n.prototype.clearViewOffset=function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===gt.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this},n.prototype.setZoom=function(e){return this.zoom=e,this.projectionMode===gt.ORTHOGRAPHIC?this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far):this.projectionMode===gt.PERSPECTIVE&&this.setPerspective(this.near,this.far,this.fov,this.aspect),this},n.prototype.setZoomByViewportPoint=function(e,t){var r=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),i=r.x,a=r.y,o=this.roll;this.rotate(0,0,-o),this.setPosition(i,a),this.setFocalPoint(i,a),this.setZoom(e),this.rotate(0,0,o);var s=this.canvas.viewport2Canvas({x:t[0],y:t[1]}),l=s.x,u=s.y,c=rt(l-i,u-a,0),h=Ht(c,this.right)/Wt(this.right),p=Ht(c,this.up)/Wt(this.up),d=G(this.getPosition(),2),f=d[0],g=d[1],y=G(this.getFocalPoint(),2),m=y[0],T=y[1];return this.setPosition(f-h,g-p),this.setFocalPoint(m-h,T-p),this},n.prototype.setPerspective=function(e,t,r,i){var a;this.projectionMode=gt.PERSPECTIVE,this.fov=r,this.near=e,this.far=t,this.aspect=i;var o=this.near*Math.tan(J(.5*this.fov))/this.zoom,s=2*o,l=this.aspect*s,u=-.5*l;if(!((a=this.view)===null||a===void 0)&&a.enabled){var c=this.view.fullWidth,h=this.view.fullHeight;u+=this.view.offsetX*l/c,o-=this.view.offsetY*s/h,l*=this.view.width/c,s*=this.view.height/h}return po(this.projectionMatrix,u,u+l,o-s,o,e,this.far,this.clipSpaceNearZ===de.ZERO),Dt(this.projectionMatrixInverse,this.projectionMatrix),this.triggerUpdate(),this},n.prototype.setOrthographic=function(e,t,r,i,a,o){var s;this.projectionMode=gt.ORTHOGRAPHIC,this.rright=t,this.left=e,this.top=r,this.bottom=i,this.near=a,this.far=o;var l=(this.rright-this.left)/(2*this.zoom),u=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,h=(this.top+this.bottom)/2,p=c-l,d=c+l,f=h+u,g=h-u;if(!((s=this.view)===null||s===void 0)&&s.enabled){var y=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;p+=y*this.view.offsetX,d=p+y*this.view.width,f-=m*this.view.offsetY,g=f-m*this.view.height}return this.clipSpaceNearZ===de.NEGATIVE_ONE?pa(this.projectionMatrix,p,d,f,g,a,o):va(this.projectionMatrix,p,d,f,g,a,o),Dt(this.projectionMatrixInverse,this.projectionMatrix),this._getOrthoMatrix(),this.triggerUpdate(),this},n.prototype.setPosition=function(e,t,r){t===void 0&&(t=this.position[1]),r===void 0&&(r=this.position[2]);var i=Et(e,t,r);return this._setPosition(i),this.setFocalPoint(this.focalPoint),this.triggerUpdate(),this},n.prototype.setFocalPoint=function(e,t,r){t===void 0&&(t=this.focalPoint[1]),r===void 0&&(r=this.focalPoint[2]);var i=rt(0,1,0);if(this.focalPoint=Et(e,t,r),this.trackingMode===Ge.CINEMATIC){var a=vn(Z(),this.focalPoint,this.position);e=a[0],t=a[1],r=a[2];var o=Wt(a),s=At(Math.asin(t/o)),l=90+At(Math.atan2(r,e)),u=it();ga(u,u,J(l)),ya(u,u,J(s)),i=te(Z(),[0,1,0],u)}return Dt(this.matrix,ma(it(),this.position,this.focalPoint,i)),this._getAxes(),this._getDistance(),this._getAngles(),this.triggerUpdate(),this},n.prototype.getDistance=function(){return this.distance},n.prototype.getDistanceVector=function(){return this.distanceVector},n.prototype.setDistance=function(e){if(this.distance===e||e<0)return this;this.distance=e,this.distance<Nn&&(this.distance=Nn),this.dollyingStep=this.distance/100;var t=Z();e=this.distance;var r=this.forward,i=this.focalPoint;return t[0]=e*r[0]+i[0],t[1]=e*r[1]+i[1],t[2]=e*r[2]+i[2],this._setPosition(t),this.triggerUpdate(),this},n.prototype.setMaxDistance=function(e){return this.maxDistance=e,this},n.prototype.setMinDistance=function(e){return this.minDistance=e,this},n.prototype.setAzimuth=function(e){return this.azimuth=vr(e),this.computeMatrix(),this._getAxes(),this.type===tt.ORBITING||this.type===tt.EXPLORING?this._getPosition():this.type===tt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},n.prototype.getAzimuth=function(){return this.azimuth},n.prototype.setElevation=function(e){return this.elevation=vr(e),this.computeMatrix(),this._getAxes(),this.type===tt.ORBITING||this.type===tt.EXPLORING?this._getPosition():this.type===tt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},n.prototype.getElevation=function(){return this.elevation},n.prototype.setRoll=function(e){return this.roll=vr(e),this.computeMatrix(),this._getAxes(),this.type===tt.ORBITING||this.type===tt.EXPLORING?this._getPosition():this.type===tt.TRACKING&&this._getFocalPoint(),this.triggerUpdate(),this},n.prototype.getRoll=function(){return this.roll},n.prototype._update=function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles(),this._getOrthoMatrix(),this.triggerUpdate()},n.prototype.computeMatrix=function(){var e=Xe(mt(),[0,0,1],J(this.roll));ar(this.matrix);var t=Xe(mt(),[1,0,0],J((this.rotateWorld&&this.type!==tt.TRACKING||this.type===tt.TRACKING?1:-1)*this.elevation)),r=Xe(mt(),[0,1,0],J((this.rotateWorld&&this.type!==tt.TRACKING||this.type===tt.TRACKING?1:-1)*this.azimuth)),i=Re(mt(),r,t);i=Re(mt(),i,e);var a=Ea(it(),i);this.type===tt.ORBITING||this.type===tt.EXPLORING?(cr(this.matrix,this.matrix,this.focalPoint),Vt(this.matrix,this.matrix,a),cr(this.matrix,this.matrix,[0,0,this.distance])):this.type===tt.TRACKING&&(cr(this.matrix,this.matrix,this.position),Vt(this.matrix,this.matrix,a))},n.prototype._setPosition=function(e,t,r){this.position=Et(e,t,r);var i=this.matrix;i[12]=this.position[0],i[13]=this.position[1],i[14]=this.position[2],i[15]=1,this._getOrthoMatrix()},n.prototype._getAxes=function(){Kt(this.right,Et(Pe(we(),[1,0,0,0],this.matrix))),Kt(this.up,Et(Pe(we(),[0,1,0,0],this.matrix))),Kt(this.forward,Et(Pe(we(),[0,0,1,0],this.matrix))),he(this.right,this.right),he(this.up,this.up),he(this.forward,this.forward)},n.prototype._getAngles=function(){var e=this.distanceVector[0],t=this.distanceVector[1],r=this.distanceVector[2],i=Wt(this.distanceVector);if(i===0){this.elevation=0,this.azimuth=0;return}this.type===tt.TRACKING?(this.elevation=At(Math.asin(t/i)),this.azimuth=At(Math.atan2(-e,-r))):this.rotateWorld?(this.elevation=At(Math.asin(t/i)),this.azimuth=At(Math.atan2(-e,-r))):(this.elevation=-At(Math.asin(t/i)),this.azimuth=-At(Math.atan2(-e,-r)))},n.prototype._getPosition=function(){Kt(this.position,Et(Pe(we(),[0,0,0,1],this.matrix))),this._getDistance()},n.prototype._getFocalPoint=function(){xa(this.distanceVector,[0,0,-this.distance],Sa(Ta(),this.matrix)),kr(this.focalPoint,this.position,this.distanceVector),this._getDistance()},n.prototype._getDistance=function(){this.distanceVector=vn(Z(),this.focalPoint,this.position),this.distance=Wt(this.distanceVector),this.dollyingStep=this.distance/100},n.prototype._getOrthoMatrix=function(){if(this.projectionMode===gt.ORTHOGRAPHIC){var e=this.position,t=Xe(mt(),[0,0,1],-this.roll*Math.PI/180);Je(this.orthoMatrix,t,rt((this.rright-this.left)/2-e[0],(this.top-this.bottom)/2-e[1],0),rt(this.zoom,this.zoom,1),e)}},n.prototype.triggerUpdate=function(){if(this.enableUpdate){var e=this.getViewTransform(),t=Vt(it(),this.getPerspective(),e);this.getFrustum().extractFromVPMatrix(t),this.eventEmitter.emit(bi.UPDATED)}},n.prototype.rotate=function(e,t,r){throw new Error(et)},n.prototype.pan=function(e,t){throw new Error(et)},n.prototype.dolly=function(e){throw new Error(et)},n.prototype.createLandmark=function(e,t){throw new Error(et)},n.prototype.gotoLandmark=function(e,t){throw new Error(et)},n.prototype.cancelLandmarkAnimation=function(){throw new Error(et)},n}();function ct(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var t=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=e?e.apply(this,r):r[0],o=t.cache;if(o.has(a))return o.get(a);var s=n.apply(this,r);return t.cache=o.set(a,s)||o,s};return t.cache=new(ct.Cache||Map),t}ct.Cache=Map;var N;(function(n){n[n.kUnknown=0]="kUnknown",n[n.kNumber=1]="kNumber",n[n.kPercentage=2]="kPercentage",n[n.kEms=3]="kEms",n[n.kPixels=4]="kPixels",n[n.kRems=5]="kRems",n[n.kDegrees=6]="kDegrees",n[n.kRadians=7]="kRadians",n[n.kGradians=8]="kGradians",n[n.kTurns=9]="kTurns",n[n.kMilliseconds=10]="kMilliseconds",n[n.kSeconds=11]="kSeconds",n[n.kInteger=12]="kInteger"})(N||(N={}));var Pt;(function(n){n[n.kUNumber=0]="kUNumber",n[n.kUPercent=1]="kUPercent",n[n.kULength=2]="kULength",n[n.kUAngle=3]="kUAngle",n[n.kUTime=4]="kUTime",n[n.kUOther=5]="kUOther"})(Pt||(Pt={}));var kn;(function(n){n[n.kAll=0]="kAll",n[n.kNonNegative=1]="kNonNegative",n[n.kInteger=2]="kInteger",n[n.kNonNegativeInteger=3]="kNonNegativeInteger",n[n.kPositiveInteger=4]="kPositiveInteger"})(kn||(kn={}));var Lr;(function(n){n[n.kYes=0]="kYes",n[n.kNo=1]="kNo"})(Lr||(Lr={}));var Ir;(function(n){n[n.kYes=0]="kYes",n[n.kNo=1]="kNo"})(Ir||(Ir={}));var To=[{name:"em",unit_type:N.kEms},{name:"px",unit_type:N.kPixels},{name:"deg",unit_type:N.kDegrees},{name:"rad",unit_type:N.kRadians},{name:"grad",unit_type:N.kGradians},{name:"ms",unit_type:N.kMilliseconds},{name:"s",unit_type:N.kSeconds},{name:"rem",unit_type:N.kRems},{name:"turn",unit_type:N.kTurns}],qt;(function(n){n[n.kUnknownType=0]="kUnknownType",n[n.kUnparsedType=1]="kUnparsedType",n[n.kKeywordType=2]="kKeywordType",n[n.kUnitType=3]="kUnitType",n[n.kSumType=4]="kSumType",n[n.kProductType=5]="kProductType",n[n.kNegateType=6]="kNegateType",n[n.kInvertType=7]="kInvertType",n[n.kMinType=8]="kMinType",n[n.kMaxType=9]="kMaxType",n[n.kClampType=10]="kClampType",n[n.kTransformType=11]="kTransformType",n[n.kPositionType=12]="kPositionType",n[n.kURLImageType=13]="kURLImageType",n[n.kColorType=14]="kColorType",n[n.kUnsupportedColorType=15]="kUnsupportedColorType"})(qt||(qt={}));var Co=function(n){return To.find(function(e){return e.name===n}).unit_type},wo=function(n){return n?n==="number"?N.kNumber:n==="percent"||n==="%"?N.kPercentage:Co(n):N.kUnknown},Po=function(n){switch(n){case N.kNumber:case N.kInteger:return Pt.kUNumber;case N.kPercentage:return Pt.kUPercent;case N.kPixels:return Pt.kULength;case N.kMilliseconds:case N.kSeconds:return Pt.kUTime;case N.kDegrees:case N.kRadians:case N.kGradians:case N.kTurns:return Pt.kUAngle;default:return Pt.kUOther}},bo=function(n){switch(n){case Pt.kUNumber:return N.kNumber;case Pt.kULength:return N.kPixels;case Pt.kUPercent:return N.kPercentage;case Pt.kUTime:return N.kSeconds;case Pt.kUAngle:return N.kDegrees;default:return N.kUnknown}},On=function(n){var e=1;switch(n){case N.kPixels:case N.kDegrees:case N.kSeconds:break;case N.kMilliseconds:e=.001;break;case N.kRadians:e=180/Math.PI;break;case N.kGradians:e=.9;break;case N.kTurns:e=360;break}return e},Dr=function(n){switch(n){case N.kNumber:case N.kInteger:return"";case N.kPercentage:return"%";case N.kEms:return"em";case N.kRems:return"rem";case N.kPixels:return"px";case N.kDegrees:return"deg";case N.kRadians:return"rad";case N.kGradians:return"grad";case N.kMilliseconds:return"ms";case N.kSeconds:return"s";case N.kTurns:return"turn"}return""},sr=function(){function n(){}return n.isAngle=function(e){return e===N.kDegrees||e===N.kRadians||e===N.kGradians||e===N.kTurns},n.isLength=function(e){return e>=N.kEms&&e<N.kDegrees},n.isRelativeUnit=function(e){return e===N.kPercentage||e===N.kEms||e===N.kRems},n.isTime=function(e){return e===N.kSeconds||e===N.kMilliseconds},n.prototype.toString=function(){return this.buildCSSText(Lr.kNo,Ir.kNo,"")},n.prototype.isNumericValue=function(){return this.getType()>=qt.kUnitType&&this.getType()<=qt.kClampType},n}(),Ao=function(n){X(e,n);function e(t){var r=n.call(this)||this;return r.colorSpace=t,r}return e.prototype.getType=function(){return qt.kColorType},e.prototype.to=function(t){return this},e}(sr),Gt;(function(n){n[n.Constant=0]="Constant",n[n.LinearGradient=1]="LinearGradient",n[n.RadialGradient=2]="RadialGradient"})(Gt||(Gt={}));var Ke=function(n){X(e,n);function e(t,r){var i=n.call(this)||this;return i.type=t,i.value=r,i}return e.prototype.clone=function(){return new e(this.type,this.value)},e.prototype.buildCSSText=function(t,r,i){return i},e.prototype.getType=function(){return qt.kColorType},e}(sr),St=function(n){X(e,n);function e(t){var r=n.call(this)||this;return r.value=t,r}return e.prototype.clone=function(){return new e(this.value)},e.prototype.getType=function(){return qt.kKeywordType},e.prototype.buildCSSText=function(t,r,i){return i+this.value},e}(sr),Mo=ct(function(n){return n===void 0&&(n=""),n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}),Rn=function(n){return n.split("").map(function(e,t){return e.toUpperCase()===e?"".concat(t!==0?"-":"").concat(e.toLowerCase()):e}).join("")};function No(n){if(!n)throw new Error}function fe(n){return typeof n=="function"}function ko(n){return typeof n=="symbol"}var Oo={d:{alias:"path"},strokeDasharray:{alias:"lineDash"},strokeWidth:{alias:"lineWidth"},textAnchor:{alias:"textAlign"},src:{alias:"img"}},Gr=ct(function(n){var e=Mo(n),t=Oo[e];return e=(t==null?void 0:t.alias)||e,e}),Ro=function(n,e){e===void 0&&(e="");var t="";return Number.isFinite(n)?(No(Number.isNaN(n)),t="NaN"):n>0?t="infinity":t="-infinity",t+=e},Fr=function(n){return bo(Po(n))},st=function(n){X(e,n);function e(t,r){r===void 0&&(r=N.kNumber);var i=n.call(this)||this,a;return typeof r=="string"?a=wo(r):a=r,i.unit=a,i.value=t,i}return e.prototype.clone=function(){return new e(this.value,this.unit)},e.prototype.equals=function(t){var r=t;return this.value===r.value&&this.unit===r.unit},e.prototype.getType=function(){return qt.kUnitType},e.prototype.convertTo=function(t){if(this.unit===t)return new e(this.value,this.unit);var r=Fr(this.unit);if(r!==Fr(t)||r===N.kUnknown)return null;var i=On(this.unit)/On(t);return new e(this.value*i,t)},e.prototype.buildCSSText=function(t,r,i){var a;switch(this.unit){case N.kUnknown:break;case N.kInteger:a=Number(this.value).toFixed(0);break;case N.kNumber:case N.kPercentage:case N.kEms:case N.kRems:case N.kPixels:case N.kDegrees:case N.kRadians:case N.kGradians:case N.kMilliseconds:case N.kSeconds:case N.kTurns:{var o=-999999,s=999999,l=this.value,u=Dr(this.unit);if(l<o||l>s){var c=Dr(this.unit);!Number.isFinite(l)||Number.isNaN(l)?a=Ro(l,c):a=l+(c||"")}else a="".concat(l).concat(u)}}return i+=a,i},e}(sr),at=new st(0,"px");new st(1,"px");var Mt=new st(0,"deg"),Zr=function(n){X(e,n);function e(t,r,i,a,o){a===void 0&&(a=1),o===void 0&&(o=!1);var s=n.call(this,"rgb")||this;return s.r=t,s.g=r,s.b=i,s.alpha=a,s.isNone=o,s}return e.prototype.clone=function(){return new e(this.r,this.g,this.b,this.alpha)},e.prototype.buildCSSText=function(t,r,i){return i+"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.alpha,")")},e}(Ao),Q=new St("unset"),Lo=new St("initial"),Io=new St("inherit"),mr={"":Q,unset:Q,initial:Lo,inherit:Io},Br=function(n){return mr[n]||(mr[n]=new St(n)),mr[n]},er=new Zr(0,0,0,0,!0),Ai=new Zr(0,0,0,0),Do=ct(function(n,e,t,r){return new Zr(n,e,t,r)},function(n,e,t,r){return"rgba(".concat(n,",").concat(e,",").concat(t,",").concat(r,")")}),q=function(n,e){return e===void 0&&(e=N.kNumber),new st(n,e)};new st(50,"%");var _r;(function(n){n[n.Standard=0]="Standard"})(_r||(_r={}));var ve;(function(n){n[n.ADDED=0]="ADDED",n[n.REMOVED=1]="REMOVED",n[n.Z_INDEX_CHANGED=2]="Z_INDEX_CHANGED"})(ve||(ve={}));var Mi={absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ee(0,0,0,0)},R;(function(n){n.COORDINATE="<coordinate>",n.COLOR="<color>",n.PAINT="<paint>",n.NUMBER="<number>",n.ANGLE="<angle>",n.OPACITY_VALUE="<opacity-value>",n.SHADOW_BLUR="<shadow-blur>",n.LENGTH="<length>",n.PERCENTAGE="<percentage>",n.LENGTH_PERCENTAGE="<length> | <percentage>",n.LENGTH_PERCENTAGE_12="[<length> | <percentage>]{1,2}",n.LENGTH_PERCENTAGE_14="[<length> | <percentage>]{1,4}",n.LIST_OF_POINTS="<list-of-points>",n.PATH="<path>",n.FILTER="<filter>",n.Z_INDEX="<z-index>",n.OFFSET_DISTANCE="<offset-distance>",n.DEFINED_PATH="<defined-path>",n.MARKER="<marker>",n.TRANSFORM="<transform>",n.TRANSFORM_ORIGIN="<transform-origin>",n.TEXT="<text>",n.TEXT_TRANSFORM="<text-transform>"})(R||(R={}));function Go(n){var e=n.type,t=n.value;return e==="hex"?"#".concat(t):e==="literal"?t:e==="rgb"?"rgb(".concat(t.join(","),")"):"rgba(".concat(t.join(","),")")}var Fo=function(){var n={linearGradient:/^(linear\-gradient)/i,repeatingLinearGradient:/^(repeating\-linear\-gradient)/i,radialGradient:/^(radial\-gradient)/i,repeatingRadialGradient:/^(repeating\-radial\-gradient)/i,conicGradient:/^(conic\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function t(L){throw new Error(e+": "+L)}function r(){var L=i();return e.length>0&&t("Invalid input not EOF"),L}function i(){return M(a)}function a(){return o("linear-gradient",n.linearGradient,l)||o("repeating-linear-gradient",n.repeatingLinearGradient,l)||o("radial-gradient",n.radialGradient,h)||o("repeating-radial-gradient",n.repeatingRadialGradient,h)||o("conic-gradient",n.conicGradient,h)}function o(L,V,H){return s(V,function(lt){var bt=H();return bt&&(F(n.comma)||t("Missing comma before color stops")),{type:L,orientation:bt,colorStops:M(k)}})}function s(L,V){var H=F(L);if(H){F(n.startCall)||t("Missing (");var lt=V(H);return F(n.endCall)||t("Missing )"),lt}}function l(){return u()||c()}function u(){return D("directional",n.sideOrCorner,1)}function c(){return D("angular",n.angleValue,1)}function h(){var L,V=p(),H;return V&&(L=[],L.push(V),H=e,F(n.comma)&&(V=p(),V?L.push(V):e=H)),L}function p(){var L=d()||f();if(L)L.at=y();else{var V=g();if(V){L=V;var H=y();H&&(L.at=H)}else{var lt=m();lt&&(L={type:"default-radial",at:lt})}}return L}function d(){var L=D("shape",/^(circle)/i,0);return L&&(L.style=I()||g()),L}function f(){var L=D("shape",/^(ellipse)/i,0);return L&&(L.style=P()||g()),L}function g(){return D("extent-keyword",n.extentKeywords,1)}function y(){if(D("position",/^at/,0)){var L=m();return L||t("Missing positioning value"),L}}function m(){var L=T();if(L.x||L.y)return{type:"position",value:L}}function T(){return{x:P(),y:P()}}function M(L){var V=L(),H=[];if(V)for(H.push(V);F(n.comma);)V=L(),V?H.push(V):t("One extra comma");return H}function k(){var L=E();return L||t("Expected color definition"),L.length=P(),L}function E(){return x()||w()||S()||v()}function v(){return D("literal",n.literalColor,0)}function x(){return D("hex",n.hexColor,1)}function S(){return s(n.rgbColor,function(){return{type:"rgb",value:M(b)}})}function w(){return s(n.rgbaColor,function(){return{type:"rgba",value:M(b)}})}function b(){return F(n.number)[1]}function P(){return D("%",n.percentageValue,1)||O()||I()}function O(){return D("position-keyword",n.positionKeywords,1)}function I(){return D("px",n.pixelValue,1)||D("em",n.emValue,1)}function D(L,V,H){var lt=F(V);if(lt)return{type:L,value:lt[H]}}function F(L){var V=/^[\n\r\t\s]+/.exec(e);V&&_(V[0].length);var H=L.exec(e);return H&&_(H[0].length),H}function _(L){e=e.substring(L)}return function(L){return e=L,r()}}();function Bo(n,e,t,r){var i=J(r.value),a=0,o=0,s=a+e/2,l=o+t/2,u=Math.abs(e*Math.cos(i))+Math.abs(t*Math.sin(i)),c=n[0]+s-Math.cos(i)*u/2,h=n[1]+l-Math.sin(i)*u/2,p=n[0]+s+Math.cos(i)*u/2,d=n[1]+l+Math.sin(i)*u/2;return{x1:c,y1:h,x2:p,y2:d}}function _o(n,e,t,r,i,a){var o=r.value,s=i.value;r.unit===N.kPercentage&&(o=r.value/100*e),i.unit===N.kPercentage&&(s=i.value/100*t);var l=Math.max(Yt([0,0],[o,s]),Yt([0,t],[o,s]),Yt([e,t],[o,s]),Yt([e,0],[o,s]));return a&&(a instanceof st?l=a.value:a instanceof St&&(a.value==="closest-side"?l=Math.min(o,e-o,s,t-s):a.value==="farthest-side"?l=Math.max(o,e-o,s,t-s):a.value==="closest-corner"&&(l=Math.min(Yt([0,0],[o,s]),Yt([0,t],[o,s]),Yt([e,t],[o,s]),Yt([e,0],[o,s]))))),{x:o+n[0],y:s+n[1],r:l}}var Uo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Vo=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Ho=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ni=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Yo(n){var e,t,r,i=n.length;n[i-1].length=(e=n[i-1].length)!==null&&e!==void 0?e:{type:"%",value:"100"},i>1&&(n[0].length=(t=n[0].length)!==null&&t!==void 0?t:{type:"%",value:"0"});for(var a=0,o=Number(n[0].length.value),s=1;s<i;s++){var l=(r=n[s].length)===null||r===void 0?void 0:r.value;if(!K(l)&&!K(o)){for(var u=1;u<s-a;u++)n[a+u].length={type:"%",value:"".concat(o+(Number(l)-o)*u/(s-a))};a=s,o=Number(l)}}}var Xo={left:180,top:-90,bottom:90,right:0,"left top":225,"top left":225,"left bottom":135,"bottom left":135,"right top":-45,"top right":-45,"right bottom":45,"bottom right":45},Wo=ct(function(n){var e;return n.type==="angular"?e=Number(n.value):e=Xo[n.value]||0,q(e,"deg")}),zo=ct(function(n){var e=50,t=50,r="%",i="%";if((n==null?void 0:n.type)==="position"){var a=n.value,o=a.x,s=a.y;(o==null?void 0:o.type)==="position-keyword"&&(o.value==="left"?e=0:o.value==="center"?e=50:o.value==="right"?e=100:o.value==="top"?t=0:o.value==="bottom"&&(t=100)),(s==null?void 0:s.type)==="position-keyword"&&(s.value==="left"?e=0:s.value==="center"?t=50:s.value==="right"?e=100:s.value==="top"?t=0:s.value==="bottom"&&(t=100)),((o==null?void 0:o.type)==="px"||(o==null?void 0:o.type)==="%"||(o==null?void 0:o.type)==="em")&&(r=o==null?void 0:o.type,e=Number(o.value)),((s==null?void 0:s.type)==="px"||(s==null?void 0:s.type)==="%"||(s==null?void 0:s.type)==="em")&&(i=s==null?void 0:s.type,t=Number(s.value))}return{cx:q(e,r),cy:q(t,i)}}),Ko=ct(function(n){var e;if(n.indexOf("linear")>-1||n.indexOf("radial")>-1){var t=Fo(n);return t.map(function(s){var l=s.type,u=s.orientation,c=s.colorStops;Yo(c);var h=c.map(function(M){return{offset:q(Number(M.length.value),"%"),color:Go(M)}});if(l==="linear-gradient")return new Ke(Gt.LinearGradient,{angle:u?Wo(u):Mt,steps:h});if(l==="radial-gradient"&&(u||(u=[{type:"shape",value:"circle"}]),u[0].type==="shape"&&u[0].value==="circle")){var p=zo(u[0].at),d=p.cx,f=p.cy,g=void 0;if(u[0].style){var y=u[0].style,m=y.type,T=y.value;m==="extent-keyword"?g=Br(T):g=q(T,m)}return new Ke(Gt.RadialGradient,{cx:d,cy:f,size:g,steps:h})}})}var r=n[0];if(n[1]==="("||n[2]==="("){if(r==="l"){var i=Uo.exec(n);if(i){var a=((e=i[2].match(Ni))===null||e===void 0?void 0:e.map(function(s){return s.split(":")}))||[];return[new Ke(Gt.LinearGradient,{angle:q(parseFloat(i[1]),"deg"),steps:a.map(function(s){var l=G(s,2),u=l[0],c=l[1];return{offset:q(Number(u)*100,"%"),color:c}})})]}}else if(r==="r"){var o=qo(n);if(o)if(xt(o))n=o;else return[new Ke(Gt.RadialGradient,o)]}else if(r==="p")return Zo(n)}});function qo(n){var e,t=Vo.exec(n);if(t){var r=((e=t[4].match(Ni))===null||e===void 0?void 0:e.map(function(i){return i.split(":")}))||[];return{cx:q(50,"%"),cy:q(50,"%"),steps:r.map(function(i){var a=G(i,2),o=a[0],s=a[1];return{offset:q(Number(o)*100,"%"),color:s}})}}return null}function Zo(n){var e=Ho.exec(n);if(e){var t=e[1],r=e[2];switch(t){case"a":t="repeat";break;case"x":t="repeat-x";break;case"y":t="repeat-y";break;case"n":t="no-repeat";break;default:t="no-repeat"}return{image:r,repetition:t}}return null}function Qo(n){return!!n.type&&!!n.value}function lr(n){return n&&!!n.image}function Fe(n){return n&&!K(n.r)&&!K(n.g)&&!K(n.b)}var pe=ct(function(n){if(lr(n))return Y({repetition:"repeat"},n);if(K(n)&&(n=""),n==="transparent")return Ai;if(n==="currentColor")n="black";else if(n==="none")return er;var e=Ko(n);if(e)return e;var t=Ca(n),r=[0,0,0,0];return t!==null&&(r[0]=t.r||0,r[1]=t.g||0,r[2]=t.b||0,r[3]=t.opacity),Do.apply(void 0,$([],G(r),!1))});function Jo(n,e){if(!(!Fe(n)||!Fe(e)))return[[Number(n.r),Number(n.g),Number(n.b),Number(n.alpha)],[Number(e.r),Number(e.g),Number(e.b),Number(e.alpha)],function(t){var r=t.slice();if(r[3])for(var i=0;i<3;i++)r[i]=Math.round(De(r[i],0,255));return r[3]=De(r[3],0,1),"rgba(".concat(r.join(","),")")}]}function Ue(n,e){if(K(e))return q(0,"px");if(e="".concat(e).trim().toLowerCase(),isFinite(Number(e))){if("px".search(n)>=0)return q(Number(e),"px");if("deg".search(n)>=0)return q(Number(e),"deg")}var t=[];e=e.replace(n,function(i){return t.push(i),"U"+i});var r="U("+n.source+")";return t.map(function(i){return q(Number(e.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(r,"g"),"*0")),i)})[0]}var ki=function(n){return Ue(new RegExp("px","g"),n)},$o=ct(ki),jo=function(n){return Ue(new RegExp("%","g"),n)};ct(jo);var Be=function(n){return ae(n)||isFinite(Number(n))?q(Number(n)||0,"px"):Ue(new RegExp("px|%|em|rem","g"),n)},ge=ct(Be),Qr=function(n){return Ue(new RegExp("deg|rad|grad|turn","g"),n)},Oi=ct(Qr);function ts(n,e,t,r,i){i===void 0&&(i=0);var a="",o=n.value||0,s=e.value||0,l=Fr(n.unit),u=n.convertTo(l),c=e.convertTo(l);return u&&c?(o=u.value,s=c.value,a=Dr(n.unit)):(st.isLength(n.unit)||st.isLength(e.unit))&&(o=wt(n,i,t),s=wt(e,i,t),a="px"),[o,s,function(h){return h+a}]}function yt(n){var e=0;return n.unit===N.kDegrees?e=n.value:n.unit===N.kRadians?e=At(Number(n.value)):n.unit===N.kTurns&&(e=uo(Number(n.value))),e}function Ln(n,e){var t;return Array.isArray(n)?t=n.map(function(r){return Number(r)}):xt(n)?t=n.split(" ").map(function(r){return Number(r)}):ae(n)&&(t=[n]),e===2?t.length===1?[t[0],t[0]]:[t[0],t[1]]:t.length===1?[t[0],t[0],t[0],t[0]]:t.length===2?[t[0],t[1],t[0],t[1]]:t.length===3?[t[0],t[1],t[2],t[1]]:[t[0],t[1],t[2],t[3]]}function Ri(n){return xt(n)?n.split(" ").map(function(e){return ge(e)}):n.map(function(e){return ge(e.toString())})}function wt(n,e,t,r){if(r===void 0&&(r=!1),n.unit===N.kPixels)return Number(n.value);if(n.unit===N.kPercentage&&t){var i=t.nodeName===A.GROUP?t.getLocalBounds():t.getGeometryBounds();return(r?i.min[e]:0)+n.value/100*i.halfExtents[e]*2}return 0}var es=function(n){return Ue(/deg|rad|grad|turn|px|%/g,n)},rs=["blur","brightness","drop-shadow","contrast","grayscale","sepia","saturate","hue-rotate","invert"];function Li(n){if(n===void 0&&(n=""),n=n.toLowerCase().trim(),n==="none")return[];for(var e=/\s*([\w-]+)\(([^)]*)\)/g,t=[],r,i=0;r=e.exec(n);){if(r.index!==i)return[];if(i=r.index+r[0].length,rs.indexOf(r[1])>-1&&t.push({name:r[1],params:r[2].split(" ").map(function(a){return es(a)||pe(a)})}),e.lastIndex===n.length)return t}return[]}function Ii(n){return n.toString()}var ye=function(n){return typeof n=="number"?q(n):/^\s*[-+]?(\d*\.)?\d+\s*$/.test(n)?q(Number(n)):q(0)},re=ct(ye);ct(function(n){return xt(n)?n.split(" ").map(re):n.map(re)});function Jr(n,e){return[n,e,Ii]}function $r(n,e){return function(t,r){return[t,r,function(i){return Ii(De(i,n,e))}]}}function Di(n,e){if(n.length===e.length)return[n,e,function(t){return t}]}function In(n){return n.parsedStyle.d.totalLength===0&&(n.parsedStyle.d.totalLength=ba(n.parsedStyle.d.absolutePath)),n.parsedStyle.d.totalLength}function ns(n){return n.parsedStyle.points.totalLength===0&&(n.parsedStyle.points.totalLength=Aa(n.parsedStyle.points.points)),n.parsedStyle.points.totalLength}function is(n){for(var e=0;e<n.length;e++){var t=n[e-1],r=n[e],i=r[0];if(i==="M"&&t){var a=t[0],o=[r[1],r[2]],s=void 0;a==="L"||a==="M"?s=[t[1],t[2]]:(a==="C"||a==="A"||a==="Q")&&(s=[t[t.length-2],t[t.length-1]]),s&&rr(o,s)&&(n.splice(e,1),e--)}}}function as(n){for(var e=!1,t=n.length,r=0;r<t;r++){var i=n[r],a=i[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function os(n){for(var e=[],t=[],r=[],i=0;i<n.length;i++){var a=n[i],o=a[0];o==="M"?(r.length&&(t.push(r),r=[]),r.push([a[1],a[2]])):o==="Z"?r.length&&(e.push(r),r=[]):r.push([a[1],a[2]])}return r.length>0&&t.push(r),{polygons:e,polylines:t}}function rr(n,e){return n[0]===e[0]&&n[1]===e[1]}function ss(n,e){for(var t=[],r=[],i=[],a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,l=o.params,u=o.prePoint,c=void 0;switch(o.command){case"Q":c=Ia(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":c=La(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var h=o.arcParams;c=Ra(h.cx,h.cy,h.rx,h.ry,h.xRotation,h.startAngle,h.endAngle);break;default:t.push(s[0]),r.push(s[1]);break}c&&(o.box=c,t.push(c.x,c.x+c.width),r.push(c.y,c.y+c.height))}t=t.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0}),r=r.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0});var p=xn(t),d=xn(r),f=Sn(t),g=Sn(r);if(i.length===0)return{x:p,y:d,width:f-p,height:g-d};for(var a=0;a<i.length;a++){var o=i[a],s=o.currentPoint,y=void 0;s[0]===p?(y=qe(o,e),p=p-y.xExtra):s[0]===f&&(y=qe(o,e),f=f+y.xExtra),s[1]===d?(y=qe(o,e),d=d-y.yExtra):s[1]===g&&(y=qe(o,e),g=g+y.yExtra)}return{x:p,y:d,width:f-p,height:g-d}}function qe(n,e){var t=n.prePoint,r=n.currentPoint,i=n.nextPoint,a=Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2),o=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2),s=Math.pow(t[0]-i[0],2)+Math.pow(t[1]-i[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Da(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(i[1]-r[1],i[0]-r[0])),c=Math.abs(Math.atan2(i[0]-r[0],i[1]-r[1]));u=u>Math.PI/2?Math.PI-u:u,c=c>Math.PI/2?Math.PI-c:c;var h={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(c-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return h}function Dn(n,e){return[e[0]+(e[0]-n[0]),e[1]+(e[1]-n[1])]}var Gn=function(n,e){var t=n.x*e.x+n.y*e.y,r=Math.sqrt((Math.pow(n.x,2)+Math.pow(n.y,2))*(Math.pow(e.x,2)+Math.pow(e.y,2))),i=n.x*e.y-n.y*e.x<0?-1:1,a=i*Math.acos(t/r);return a},Fn=function(n,e,t,r,i,a,o,s){e=Math.abs(e),t=Math.abs(t),r=wi(r,360);var l=J(r);if(n.x===o.x&&n.y===o.y)return{x:n.x,y:n.y,ellipticalArcAngle:0};if(e===0||t===0)return{x:0,y:0,ellipticalArcAngle:0};var u=(n.x-o.x)/2,c=(n.y-o.y)/2,h={x:Math.cos(l)*u+Math.sin(l)*c,y:-Math.sin(l)*u+Math.cos(l)*c},p=Math.pow(h.x,2)/Math.pow(e,2)+Math.pow(h.y,2)/Math.pow(t,2);p>1&&(e=Math.sqrt(p)*e,t=Math.sqrt(p)*t);var d=Math.pow(e,2)*Math.pow(t,2)-Math.pow(e,2)*Math.pow(h.y,2)-Math.pow(t,2)*Math.pow(h.x,2),f=Math.pow(e,2)*Math.pow(h.y,2)+Math.pow(t,2)*Math.pow(h.x,2),g=d/f;g=g<0?0:g;var y=(i!==a?1:-1)*Math.sqrt(g),m={x:y*(e*h.y/t),y:y*(-(t*h.x)/e)},T={x:Math.cos(l)*m.x-Math.sin(l)*m.y+(n.x+o.x)/2,y:Math.sin(l)*m.x+Math.cos(l)*m.y+(n.y+o.y)/2},M={x:(h.x-m.x)/e,y:(h.y-m.y)/t},k=Gn({x:1,y:0},M),E={x:(-h.x-m.x)/e,y:(-h.y-m.y)/t},v=Gn(M,E);!a&&v>0?v-=2*Math.PI:a&&v<0&&(v+=2*Math.PI),v%=2*Math.PI;var x=k+v*s,S=e*Math.cos(x),w=t*Math.sin(x),b={x:Math.cos(l)*S-Math.sin(l)*w+T.x,y:Math.sin(l)*S+Math.cos(l)*w+T.y,ellipticalArcStartAngle:k,ellipticalArcEndAngle:k+v,ellipticalArcAngle:x,ellipticalArcCenter:T,resultantRx:e,resultantRy:t};return b};function ls(n){for(var e=[],t=null,r=null,i=null,a=0,o=n.length,s=0;s<o;s++){var l=n[s];r=n[s+1];var u=l[0],c={command:u,prePoint:t,params:l,startTangent:null,endTangent:null,currentPoint:null,nextPoint:null,arcParams:null,box:null,cubicParams:null};switch(u){case"M":i=[l[1],l[2]],a=s;break;case"A":var h=us(t,l);c.arcParams=h;break}if(u==="Z")t=i,r=n[a+1];else{var p=l.length;t=[l[p-2],l[p-1]]}r&&r[0]==="Z"&&(r=n[a],e[a]&&(e[a].prePoint=t)),c.currentPoint=t,e[a]&&rr(t,e[a].currentPoint)&&(e[a].prePoint=c.prePoint);var d=r?[r[r.length-2],r[r.length-1]]:null;c.nextPoint=d;var f=c.prePoint;if(["L","H","V"].includes(u))c.startTangent=[f[0]-t[0],f[1]-t[1]],c.endTangent=[t[0]-f[0],t[1]-f[1]];else if(u==="Q"){var g=[l[1],l[2]];c.startTangent=[f[0]-g[0],f[1]-g[1]],c.endTangent=[t[0]-g[0],t[1]-g[1]]}else if(u==="T"){var y=e[s-1],g=Dn(y.currentPoint,f);y.command==="Q"?(c.command="Q",c.startTangent=[f[0]-g[0],f[1]-g[1]],c.endTangent=[t[0]-g[0],t[1]-g[1]]):(c.command="TL",c.startTangent=[f[0]-t[0],f[1]-t[1]],c.endTangent=[t[0]-f[0],t[1]-f[1]])}else if(u==="C"){var m=[l[1],l[2]],T=[l[3],l[4]];c.startTangent=[f[0]-m[0],f[1]-m[1]],c.endTangent=[t[0]-T[0],t[1]-T[1]],c.startTangent[0]===0&&c.startTangent[1]===0&&(c.startTangent=[m[0]-T[0],m[1]-T[1]]),c.endTangent[0]===0&&c.endTangent[1]===0&&(c.endTangent=[T[0]-m[0],T[1]-m[1]])}else if(u==="S"){var y=e[s-1],m=Dn(y.currentPoint,f),T=[l[1],l[2]];y.command==="C"?(c.command="C",c.startTangent=[f[0]-m[0],f[1]-m[1]],c.endTangent=[t[0]-T[0],t[1]-T[1]]):(c.command="SQ",c.startTangent=[f[0]-T[0],f[1]-T[1]],c.endTangent=[t[0]-T[0],t[1]-T[1]])}else if(u==="A"){var M=Bn(c,0),k=M.x,E=M.y,v=Bn(c,1,!1),x=v.x,S=v.y;c.startTangent=[k,E],c.endTangent=[x,S]}e.push(c)}return e}function Bn(n,e,t){t===void 0&&(t=!0);var r=n.arcParams,i=r.rx,a=i===void 0?0:i,o=r.ry,s=o===void 0?0:o,l=r.xRotation,u=r.arcFlag,c=r.sweepFlag,h=Fn({x:n.prePoint[0],y:n.prePoint[1]},a,s,l,!!u,!!c,{x:n.currentPoint[0],y:n.currentPoint[1]},e),p=Fn({x:n.prePoint[0],y:n.prePoint[1]},a,s,l,!!u,!!c,{x:n.currentPoint[0],y:n.currentPoint[1]},t?e+.005:e-.005),d=p.x-h.x,f=p.y-h.y,g=Math.sqrt(d*d+f*f);return{x:-d/g,y:-f/g}}function Ze(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Ur(n,e){return Ze(n)*Ze(e)?(n[0]*e[0]+n[1]*e[1])/(Ze(n)*Ze(e)):1}function _n(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(Ur(n,e))}function us(n,e){var t=e[1],r=e[2],i=wi(J(e[3]),Math.PI*2),a=e[4],o=e[5],s=n[0],l=n[1],u=e[6],c=e[7],h=Math.cos(i)*(s-u)/2+Math.sin(i)*(l-c)/2,p=-1*Math.sin(i)*(s-u)/2+Math.cos(i)*(l-c)/2,d=h*h/(t*t)+p*p/(r*r);d>1&&(t*=Math.sqrt(d),r*=Math.sqrt(d));var f=t*t*(p*p)+r*r*(h*h),g=f?Math.sqrt((t*t*(r*r)-f)/f):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var y=r?g*t*p/r:0,m=t?g*-r*h/t:0,T=(s+u)/2+Math.cos(i)*y-Math.sin(i)*m,M=(l+c)/2+Math.sin(i)*y+Math.cos(i)*m,k=[(h-y)/t,(p-m)/r],E=[(-1*h-y)/t,(-1*p-m)/r],v=_n([1,0],k),x=_n(k,E);return Ur(k,E)<=-1&&(x=Math.PI),Ur(k,E)>=1&&(x=0),o===0&&x>0&&(x=x-2*Math.PI),o===1&&x<0&&(x=x+2*Math.PI),{cx:T,cy:M,rx:rr(n,[u,c])?0:t,ry:rr(n,[u,c])?0:r,startAngle:v,endAngle:v+x,xRotation:i,arcFlag:a,sweepFlag:o}}function cs(n,e,t,r,i){e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),i===void 0&&(i=0);var a=n.map(function(o,s){var l=o[0],u=n[s+1],c=s===0&&(e!==0||t!==0),h=(s===n.length-1||u&&(u[0]==="M"||u[0]==="Z"))&&r!==0&&i!==0;switch(l){case"M":return c?"M ".concat(o[1]+e,",").concat(o[2]+t," L ").concat(o[1],",").concat(o[2]):"M ".concat(o[1],",").concat(o[2]);case"L":return"L ".concat(o[1]+(h?r:0),",").concat(o[2]+(h?i:0));case"Q":return"Q ".concat(o[1]," ").concat(o[2],",").concat(o[3]," ").concat(o[4])+(h?" L ".concat(o[3]+r,",").concat(o[4]+i):"");case"C":return"C ".concat(o[1]," ").concat(o[2],",").concat(o[3]," ").concat(o[4],",").concat(o[5]," ").concat(o[6])+(h?" L ".concat(o[5]+r,",").concat(o[6]+i):"");case"A":return"A ".concat(o[1]," ").concat(o[2]," ").concat(o[3]," ").concat(o[4]," ").concat(o[5]," ").concat(o[6]," ").concat(o[7])+(h?" L ".concat(o[6]+r,",").concat(o[7]+i):"");case"Z":return"Z"}}).join(" ");return~a.indexOf("NaN")?"":a}var Gi=function(n){if(n===""||Array.isArray(n)&&n.length===0)return{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:{x:0,y:0,width:0,height:0}};var e;try{e=yn(n)}catch{e=yn(""),console.error("[g]: Invalid SVG Path definition: ".concat(n))}is(e);var t=as(e),r=os(e),i=r.polygons,a=r.polylines,o=ls(e),s=ss(o,0),l=s.x,u=s.y,c=s.width,h=s.height;return{absolutePath:e,hasArc:t,segments:o,polygons:i,polylines:a,totalLength:0,rect:{x:Number.isFinite(l)?l:0,y:Number.isFinite(u)?u:0,width:Number.isFinite(c)?c:0,height:Number.isFinite(h)?h:0}}},fs=ct(Gi);function Vr(n){return xt(n)?fs(n):Gi(n)}function hs(n,e,t){var r=n.curve,i=e.curve;(!r||r.length===0)&&(r=Tn(n.absolutePath,!1),n.curve=r),(!i||i.length===0)&&(i=Tn(e.absolutePath,!1),e.curve=i);var a=[r,i];r.length!==i.length&&(a=Ga(r,i));var o=Cn(a[0])!==Cn(a[1])?Fa(a[0]):Ba(a[0]);return[o,_a(a[1],o),function(s){return s}]}function Fi(n,e){var t;return xt(n)?t=n.split(" ").map(function(r){var i=G(r.split(","),2),a=i[0],o=i[1];return[Number(a),Number(o)]}):t=n,{points:t,totalLength:0,segments:[]}}function ds(n,e){return[n.points,e.points,function(t){return t}]}var nt=null;function vt(n){return function(e){var t=0;return n.map(function(r){return r===nt?e[t++]:r})}}function Jt(n){return n}var nr={matrix:["NNNNNN",[nt,nt,0,0,nt,nt,0,0,0,0,1,0,nt,nt,0,1],Jt],matrix3d:["NNNNNNNNNNNNNNNN",Jt],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",vt([nt,nt,new st(1)]),Jt],scalex:["N",vt([nt,new st(1),new st(1)]),vt([nt,new st(1)])],scaley:["N",vt([new st(1),nt,new st(1)]),vt([new st(1),nt])],scalez:["N",vt([new st(1),new st(1),nt])],scale3d:["NNN",Jt],skew:["Aa",null,Jt],skewx:["A",null,vt([nt,Mt])],skewy:["A",null,vt([Mt,nt])],translate:["Tt",vt([nt,nt,at]),Jt],translatex:["T",vt([nt,at,at]),vt([nt,at])],translatey:["T",vt([at,nt,at]),vt([at,nt])],translatez:["L",vt([at,at,nt])],translate3d:["TTL",Jt]};function jr(n){if(n=(n||"none").toLowerCase().trim(),n==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,t=[],r,i=0;r=e.exec(n);){if(r.index!==i)return[];i=r.index+r[0].length;var a=r[1],o=nr[a];if(!o)return[];var s=r[2].split(","),l=o[0];if(l.length<s.length)return[];for(var u=[],c=0;c<l.length;c++){var h=s[c],p=l[c],d=void 0;if(h?d={A:function(f){return f.trim()==="0"?Mt:Oi(f)},N:re,T:ge,L:$o}[p.toUpperCase()](h):d={a:Mt,n:u[0],t:at}[p],d===void 0)return[];u.push(d)}if(t.push({t:a,d:u}),e.lastIndex===n.length)return t}return[]}function Un(n){if(n=(n||"none").toLowerCase().trim(),n==="none")return[];for(var e=/\s*(\w+)\(([^)]*)\)/g,t=[],r,i=0;r=e.exec(n);){if(r.index!==i)return[];i=r.index+r[0].length;var a=r[1],o=nr[a];if(!o)return[];var s=r[2].split(","),l=o[0];if(l.length<s.length)return[];for(var u=[],c=0;c<l.length;c++){var h=s[c],p=l[c],d=void 0;if(h?d={A:function(f){return f.trim()==="0"?Mt:Qr(f)},N:ye,T:Be,L:ki}[p.toUpperCase()](h):d={a:Mt,n:u[0],t:at}[p],d===void 0)return[];u.push(d)}if(t.push({t:a,d:u}),e.lastIndex===n.length)return t}return[]}function ps(n){var e,t,r,i;switch(n.t){case"rotatex":return i=J(yt(n.d[0])),[1,0,0,0,0,Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1];case"rotatey":return i=J(yt(n.d[0])),[Math.cos(i),0,-Math.sin(i),0,0,1,0,0,Math.sin(i),0,Math.cos(i),0,0,0,0,1];case"rotate":case"rotatez":return i=J(yt(n.d[0])),[Math.cos(i),Math.sin(i),0,0,-Math.sin(i),Math.cos(i),0,0,0,0,1,0,0,0,0,1];case"rotate3d":e=n.d[0].value,t=n.d[1].value,r=n.d[2].value,i=J(yt(n.d[3]));var a=e*e+t*t+r*r;if(a===0)e=1,t=0,r=0;else if(a!==1){var o=Math.sqrt(a);e/=o,t/=o,r/=o}var s=Math.sin(i/2),l=s*Math.cos(i/2),u=s*s;return[1-2*(t*t+r*r)*u,2*(e*t*u+r*l),2*(e*r*u-t*l),0,2*(e*t*u-r*l),1-2*(e*e+r*r)*u,2*(t*r*u+e*l),0,2*(e*r*u+t*l),2*(t*r*u-e*l),1-2*(e*e+t*t)*u,0,0,0,0,1];case"scale":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,1,0,0,0,0,1];case"scalex":return[n.d[0].value,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,n.d[0].value,0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,n.d[0].value,0,0,0,0,1];case"scale3d":return[n.d[0].value,0,0,0,0,n.d[1].value,0,0,0,0,n.d[2].value,0,0,0,0,1];case"skew":var c=J(yt(n.d[0])),h=J(yt(n.d[1]));return[1,Math.tan(h),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return i=J(yt(n.d[0])),[1,0,0,0,Math.tan(i),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return i=J(yt(n.d[0])),[1,Math.tan(i),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return e=wt(n.d[0],0,null)||0,t=wt(n.d[1],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,t,0,1];case"translatex":return e=wt(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,0,0,1];case"translatey":return t=wt(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,t,0,1];case"translatez":return r=wt(n.d[0],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,r,1];case"translate3d":return e=wt(n.d[0],0,null)||0,t=wt(n.d[1],0,null)||0,r=wt(n.d[2],0,null)||0,[1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1];case"perspective":var p=wt(n.d[0],0,null)||0,d=p?-1/p:0;return[1,0,0,0,0,1,0,0,0,0,1,d,0,0,0,1];case"matrix":return[n.d[0].value,n.d[1].value,0,0,n.d[2].value,n.d[3].value,0,0,0,0,1,0,n.d[4].value,n.d[5].value,0,1];case"matrix3d":return n.d.map(function(f){return f.value})}}function vs(n,e){return[n[0]*e[0]+n[4]*e[1]+n[8]*e[2]+n[12]*e[3],n[1]*e[0]+n[5]*e[1]+n[9]*e[2]+n[13]*e[3],n[2]*e[0]+n[6]*e[1]+n[10]*e[2]+n[14]*e[3],n[3]*e[0]+n[7]*e[1]+n[11]*e[2]+n[15]*e[3],n[0]*e[4]+n[4]*e[5]+n[8]*e[6]+n[12]*e[7],n[1]*e[4]+n[5]*e[5]+n[9]*e[6]+n[13]*e[7],n[2]*e[4]+n[6]*e[5]+n[10]*e[6]+n[14]*e[7],n[3]*e[4]+n[7]*e[5]+n[11]*e[6]+n[15]*e[7],n[0]*e[8]+n[4]*e[9]+n[8]*e[10]+n[12]*e[11],n[1]*e[8]+n[5]*e[9]+n[9]*e[10]+n[13]*e[11],n[2]*e[8]+n[6]*e[9]+n[10]*e[10]+n[14]*e[11],n[3]*e[8]+n[7]*e[9]+n[11]*e[10]+n[15]*e[11],n[0]*e[12]+n[4]*e[13]+n[8]*e[14]+n[12]*e[15],n[1]*e[12]+n[5]*e[13]+n[9]*e[14]+n[13]*e[15],n[2]*e[12]+n[6]*e[13]+n[10]*e[14]+n[14]*e[15],n[3]*e[12]+n[7]*e[13]+n[11]*e[14]+n[15]*e[15]]}function gs(n){return n.length===0?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:n.map(ps).reduce(vs)}function Vn(n){var e=[0,0,0],t=[1,1,1],r=[0,0,0],i=[0,0,0,1],a=[0,0,0,1];return vo(gs(n),e,t,r,i,a),[[e,t,r,a,i]]}var ys=function(){function n(r,i){for(var a=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],o=0;o<4;o++)for(var s=0;s<4;s++)for(var l=0;l<4;l++)a[o][s]+=i[o][l]*r[l][s];return a}function e(r){return r[0][2]==0&&r[0][3]==0&&r[1][2]==0&&r[1][3]==0&&r[2][0]==0&&r[2][1]==0&&r[2][2]==1&&r[2][3]==0&&r[3][2]==0&&r[3][3]==1}function t(r,i,a,o,s){for(var l=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],u=0;u<4;u++)l[u][3]=s[u];for(var u=0;u<3;u++)for(var c=0;c<3;c++)l[3][u]+=r[c]*l[c][u];var h=o[0],p=o[1],d=o[2],f=o[3],g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(p*p+d*d),g[0][1]=2*(h*p-d*f),g[0][2]=2*(h*d+p*f),g[1][0]=2*(h*p+d*f),g[1][1]=1-2*(h*h+d*d),g[1][2]=2*(p*d-h*f),g[2][0]=2*(h*d-p*f),g[2][1]=2*(p*d+h*f),g[2][2]=1-2*(h*h+p*p),l=n(l,g);var y=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];a[2]&&(y[2][1]=a[2],l=n(l,y)),a[1]&&(y[2][1]=0,y[2][0]=a[0],l=n(l,y)),a[0]&&(y[2][0]=0,y[1][0]=a[0],l=n(l,y));for(var u=0;u<3;u++)for(var c=0;c<3;c++)l[u][c]*=i[u];return e(l)?[l[0][0],l[0][1],l[1][0],l[1][1],l[3][0],l[3][1]]:l[0].concat(l[1],l[2],l[3])}return t}();function ms(n){return n.toFixed(6).replace(".000000","")}function Er(n,e){var t,r;return n.decompositionPair!==e&&(n.decompositionPair=e,t=Vn(n)),e.decompositionPair!==n&&(e.decompositionPair=n,r=Vn(e)),t[0]===null||r[0]===null?[[!1],[!0],function(i){return i?e[0].d:n[0].d}]:(t[0].push(0),r[0].push(1),[t,r,function(i){var a=xs(t[0][3],r[0][3],i[5]),o=ys(i[0],i[1],i[2],a,i[4]),s=o.map(ms).join(",");return s}])}function Es(n,e){for(var t=0,r=0;r<n.length;r++)t+=n[r]*e[r];return t}function xs(n,e,t){var r=Es(n,e);r=De(r,-1,1);var i=[];if(r===1)i=n;else for(var a=Math.acos(r),o=Math.sin(t*a)*1/Math.sqrt(1-r*r),s=0;s<4;s++)i.push(n[s]*(Math.cos(t*a)-r*o)+e[s]*o);return i}function xr(n){return n.replace(/[xy]/,"")}function Sr(n){return n.replace(/(x|y|z|3d)?$/,"3d")}var Ss=function(n,e){return n==="perspective"&&e==="perspective"||(n==="matrix"||n==="matrix3d")&&(e==="matrix"||e==="matrix3d")};function Ts(n,e,t){var r=!1;if(!n.length||!e.length){n.length||(r=!0,n=e,e=[]);for(var i=function(v){var x=n[v],S=x.t,w=x.d,b=S.substring(0,5)==="scale"?1:0;e.push({t:S,d:w.map(function(P){return typeof P=="number"?q(b):q(b,P.unit)})})},a=0;a<n.length;a++)i(a)}var o=[],s=[],l=[];if(n.length!==e.length){var u=Er(n,e);o=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]]}else for(var a=0;a<n.length;a++){var c=n[a].t,h=e[a].t,p=n[a].d,d=e[a].d,f=nr[c],g=nr[h],y=void 0;if(Ss(c,h)){var u=Er([n[a]],[e[a]]);o.push(u[0]),s.push(u[1]),l.push(["matrix",[u[2]]]);continue}else if(c===h)y=c;else if(f[2]&&g[2]&&xr(c)===xr(h))y=xr(c),p=f[2](p),d=g[2](d);else if(f[1]&&g[1]&&Sr(c)===Sr(h))y=Sr(c),p=f[1](p),d=g[1](d);else{var u=Er(n,e);o=[u[0]],s=[u[1]],l=[["matrix",[u[2]]]];break}for(var m=[],T=[],M=[],k=0;k<p.length;k++){var u=ts(p[k],d[k],t,!1,k);m[k]=u[0],T[k]=u[1],M.push(u[2])}o.push(m),s.push(T),l.push([y,M])}if(r){var E=o;o=s,s=E}return[o,s,function(v){return v.map(function(x,S){var w=x.map(function(b,P){return l[S][1][P](b)}).join(",");return l[S][0]==="matrix"&&w.split(",").length===16&&(l[S][0]="matrix3d"),l[S][0]==="matrix3d"&&w.split(",").length===6&&(l[S][0]="matrix"),l[S][0]+"("+w+")"}).join(" ")}]}var Bi=ct(function(n){if(xt(n)){if(n==="text-anchor")return[q(0,"px"),q(0,"px")];var e=n.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[ge(ir(e[0])),ge(ir(e[1]))]}else return[q(n[0]||0,"px"),q(n[1]||0,"px")]}),Cs=function(n){if(xt(n)){if(n==="text-anchor")return[q(0,"px"),q(0,"px")];var e=n.split(" ");return e.length===1&&(e[0]==="top"||e[0]==="bottom"?(e[1]=e[0],e[0]="center"):e[1]="center"),e.length!==2?null:[Be(ir(e[0])),Be(ir(e[1]))]}else return[q(n[0]||0,"px"),q(n[1]||0,"px")]};function ir(n){return n==="center"?"50%":n==="left"||n==="top"?"0%":n==="right"||n==="bottom"?"100%":n}var tn=[{n:"display",k:["none"]},{n:"opacity",int:!0,inh:!0,d:"1",syntax:R.OPACITY_VALUE},{n:"fillOpacity",int:!0,inh:!0,d:"1",syntax:R.OPACITY_VALUE},{n:"strokeOpacity",int:!0,inh:!0,d:"1",syntax:R.OPACITY_VALUE},{n:"fill",int:!0,k:["none"],d:"none",syntax:R.PAINT},{n:"fillRule",k:["nonzero","evenodd"],d:"nonzero"},{n:"stroke",int:!0,k:["none"],d:"none",syntax:R.PAINT,l:!0},{n:"shadowType",k:["inner","outer","both"],d:"outer",l:!0},{n:"shadowColor",int:!0,syntax:R.COLOR},{n:"shadowOffsetX",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"shadowOffsetY",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"shadowBlur",int:!0,l:!0,d:"0",syntax:R.SHADOW_BLUR},{n:"lineWidth",int:!0,inh:!0,d:"1",l:!0,a:["strokeWidth"],syntax:R.LENGTH_PERCENTAGE},{n:"increasedLineWidthForHitTesting",inh:!0,d:"0",l:!0,syntax:R.LENGTH_PERCENTAGE},{n:"lineJoin",inh:!0,l:!0,a:["strokeLinejoin"],k:["miter","bevel","round"],d:"miter"},{n:"lineCap",inh:!0,l:!0,a:["strokeLinecap"],k:["butt","round","square"],d:"butt"},{n:"lineDash",int:!0,inh:!0,k:["none"],a:["strokeDasharray"],syntax:R.LENGTH_PERCENTAGE_12},{n:"lineDashOffset",int:!0,inh:!0,d:"0",a:["strokeDashoffset"],syntax:R.LENGTH_PERCENTAGE},{n:"offsetPath",syntax:R.DEFINED_PATH},{n:"offsetDistance",int:!0,syntax:R.OFFSET_DISTANCE},{n:"dx",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"dy",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"zIndex",ind:!0,int:!0,d:"0",k:["auto"],syntax:R.Z_INDEX},{n:"visibility",k:["visible","hidden"],ind:!0,inh:!0,int:!0,d:"visible"},{n:"pointerEvents",inh:!0,k:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","all"],d:"auto"},{n:"filter",ind:!0,l:!0,k:["none"],d:"none",syntax:R.FILTER},{n:"clipPath",syntax:R.DEFINED_PATH},{n:"textPath",syntax:R.DEFINED_PATH},{n:"textPathSide",k:["left","right"],d:"left"},{n:"textPathStartOffset",l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"transform",p:100,int:!0,k:["none"],d:"none",syntax:R.TRANSFORM},{n:"transformOrigin",p:100,d:"0 0",l:!0,syntax:R.TRANSFORM_ORIGIN},{n:"cx",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"cy",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"cz",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"r",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"rx",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"ry",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"x",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"y",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"z",int:!0,l:!0,d:"0",syntax:R.COORDINATE},{n:"width",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"height",int:!0,l:!0,k:["auto","fit-content","min-content","max-content"],d:"0",syntax:R.LENGTH_PERCENTAGE},{n:"radius",int:!0,l:!0,d:"0",syntax:R.LENGTH_PERCENTAGE_14},{n:"x1",int:!0,l:!0,syntax:R.COORDINATE},{n:"y1",int:!0,l:!0,syntax:R.COORDINATE},{n:"z1",int:!0,l:!0,syntax:R.COORDINATE},{n:"x2",int:!0,l:!0,syntax:R.COORDINATE},{n:"y2",int:!0,l:!0,syntax:R.COORDINATE},{n:"z2",int:!0,l:!0,syntax:R.COORDINATE},{n:"d",int:!0,l:!0,d:"",syntax:R.PATH,p:50},{n:"points",int:!0,l:!0,syntax:R.LIST_OF_POINTS,p:50},{n:"text",l:!0,d:"",syntax:R.TEXT,p:50},{n:"textTransform",l:!0,inh:!0,k:["capitalize","uppercase","lowercase","none"],d:"none",syntax:R.TEXT_TRANSFORM,p:51},{n:"font",l:!0},{n:"fontSize",int:!0,inh:!0,d:"16px",l:!0,syntax:R.LENGTH_PERCENTAGE},{n:"fontFamily",l:!0,inh:!0,d:"sans-serif"},{n:"fontStyle",l:!0,inh:!0,k:["normal","italic","oblique"],d:"normal"},{n:"fontWeight",l:!0,inh:!0,k:["normal","bold","bolder","lighter"],d:"normal"},{n:"fontVariant",l:!0,inh:!0,k:["normal","small-caps"],d:"normal"},{n:"lineHeight",l:!0,syntax:R.LENGTH,int:!0,d:"0"},{n:"letterSpacing",l:!0,syntax:R.LENGTH,int:!0,d:"0"},{n:"miterLimit",l:!0,syntax:R.NUMBER,d:function(n){return n===A.PATH||n===A.POLYGON||n===A.POLYLINE?"4":"10"}},{n:"wordWrap",l:!0},{n:"wordWrapWidth",l:!0},{n:"maxLines",l:!0},{n:"textOverflow",l:!0,d:"clip"},{n:"leading",l:!0},{n:"textBaseline",l:!0,inh:!0,k:["top","hanging","middle","alphabetic","ideographic","bottom"],d:"alphabetic"},{n:"textAlign",l:!0,inh:!0,k:["start","center","middle","end","left","right"],d:"start"},{n:"markerStart",syntax:R.MARKER},{n:"markerEnd",syntax:R.MARKER},{n:"markerMid",syntax:R.MARKER},{n:"markerStartOffset",syntax:R.LENGTH,l:!0,int:!0,d:"0"},{n:"markerEndOffset",syntax:R.LENGTH,l:!0,int:!0,d:"0"}],Hn=tn.filter(function(n){return!!n.l}).map(function(n){return n.n}),_t={},ce=new WeakMap,ws=function(n,e){var t=ce.get(n);return!t||t.length===0?!0:t.includes(e)},Ps=function(){function n(e){var t=this;this.runtime=e,tn.forEach(function(r){t.registerMetadata(r)})}return n.prototype.registerMetadata=function(e){$([e.n],G(e.a||[]),!1).forEach(function(t){_t[t]=e})},n.prototype.unregisterMetadata=function(e){delete _t[e]},n.prototype.getPropertySyntax=function(e){return this.runtime.CSSPropertySyntaxFactory[e]},n.prototype.processProperties=function(e,t,r){var i=this;if(r===void 0&&(r={skipUpdateAttribute:!1,skipParse:!1,forceUpdateGeometry:!1,usedAttributes:[],memoize:!0}),this.runtime.enableCSSParsing){var c=r.skipUpdateAttribute,h=r.skipParse,p=r.forceUpdateGeometry,d=r.usedAttributes,f=r.memoize,g=p,y=Object.keys(t);y.forEach(function(m){var T;c||(e.attributes[m]=t[m]),!g&&(!((T=_t[m])===null||T===void 0)&&T.l)&&(g=!0)}),h||y.forEach(function(m){e.computedStyle[m]=i.parseProperty(m,e.attributes[m],e,f)}),d!=null&&d.length&&(y=Array.from(new Set(y.concat(d)))),y.forEach(function(m){m in e.computedStyle&&(e.parsedStyle[m]=i.computeProperty(m,e.computedStyle[m],e,f))}),g&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,r.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e)),y.forEach(function(m){m in e.parsedStyle&&i.postProcessProperty(m,e,y)}),this.runtime.enableCSSParsing&&e.children.length&&y.forEach(function(m){m in e.parsedStyle&&i.isPropertyInheritable(m)&&e.children.forEach(function(T){T.internalSetAttribute(m,null,{skipUpdateAttribute:!0,skipParse:!0})})})}else{Object.assign(e.attributes,t);var a=Object.keys(t),o=e.parsedStyle.clipPath,s=e.parsedStyle.offsetPath;e.parsedStyle=Object.assign(e.parsedStyle,t);var l=!!r.forceUpdateGeometry;if(!l){for(var u=0;u<Hn.length;u++)if(Hn[u]in t){l=!0;break}}t.fill&&(e.parsedStyle.fill=pe(t.fill)),t.stroke&&(e.parsedStyle.stroke=pe(t.stroke)),t.shadowColor&&(e.parsedStyle.shadowColor=pe(t.shadowColor)),t.filter&&(e.parsedStyle.filter=Li(t.filter)),K(t.radius)||(e.parsedStyle.radius=Ln(t.radius,4)),K(t.lineDash)||(e.parsedStyle.lineDash=Ln(t.lineDash,2)),t.points&&(e.parsedStyle.points=Fi(t.points)),t.d===""&&(e.parsedStyle.d=Y({},Mi)),t.d&&(e.parsedStyle.d=Vr(t.d)),t.textTransform&&this.runtime.CSSPropertySyntaxFactory["<text-transform>"].calculator(null,null,{value:t.textTransform},e,null),j(t.clipPath)||this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("clipPath",o,t.clipPath,e,this.runtime),t.offsetPath&&this.runtime.CSSPropertySyntaxFactory["<defined-path>"].calculator("offsetPath",s,t.offsetPath,e,this.runtime),t.transform&&(e.parsedStyle.transform=jr(t.transform)),t.transformOrigin&&(e.parsedStyle.transformOrigin=Bi(t.transformOrigin)),t.markerStart&&(e.parsedStyle.markerStart=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,t.markerStart,t.markerStart,null,null)),t.markerEnd&&(e.parsedStyle.markerEnd=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator(null,t.markerEnd,t.markerEnd,null,null)),t.markerMid&&(e.parsedStyle.markerMid=this.runtime.CSSPropertySyntaxFactory["<marker>"].calculator("",t.markerMid,t.markerMid,null,null)),K(t.zIndex)||this.runtime.CSSPropertySyntaxFactory["<z-index>"].postProcessor(e,a),K(t.offsetDistance)||this.runtime.CSSPropertySyntaxFactory["<offset-distance>"].postProcessor(e,a),t.transform&&this.runtime.CSSPropertySyntaxFactory["<transform>"].postProcessor(e,a),t.transformOrigin&&this.runtime.CSSPropertySyntaxFactory["<transform-origin>"].postProcessor(e,a),l&&(e.geometry.dirty=!0,e.renderable.boundsDirty=!0,e.renderable.renderBoundsDirty=!0,r.forceUpdateGeometry||this.runtime.sceneGraphService.dirtifyToRoot(e))}},n.prototype.parseProperty=function(e,t,r,i){var a=_t[e],o=t;if((t===""||K(t))&&(t="unset"),t==="unset"||t==="initial"||t==="inherit")o=Br(t);else if(a){var s=a.k,l=a.syntax,u=l&&this.getPropertySyntax(l);s&&s.indexOf(t)>-1?o=Br(t):u&&(!i&&u.parserUnmemoize?o=u.parserUnmemoize(t,r):u.parser&&(o=u.parser(t,r)))}return o},n.prototype.computeProperty=function(e,t,r,i){var a=_t[e],o=r.id==="g-root",s=t;if(a){var l=a.syntax,u=a.inh,c=a.d;if(t instanceof St){var h=t.value;if(h==="unset"&&(u&&!o?h="inherit":h="initial"),h==="initial")K(c)||(t=this.parseProperty(e,fe(c)?c(r.nodeName):c,r,i));else if(h==="inherit"){var p=this.tryToResolveProperty(r,e,{inherited:!0});if(K(p)){this.addUnresolveProperty(r,e);return}else return p}}var d=l&&this.getPropertySyntax(l);if(d&&d.calculator){var f=r.parsedStyle[e];s=d.calculator(e,f,t,r,this.runtime)}else t instanceof St?s=t.value:s=t}return s},n.prototype.postProcessProperty=function(e,t,r){var i=_t[e];if(i&&i.syntax){var a=i.syntax&&this.getPropertySyntax(i.syntax),o=a;o&&o.postProcessor&&o.postProcessor(t,r)}},n.prototype.addUnresolveProperty=function(e,t){var r=ce.get(e);r||(ce.set(e,[]),r=ce.get(e)),r.indexOf(t)===-1&&r.push(t)},n.prototype.tryToResolveProperty=function(e,t,r){r===void 0&&(r={});var i=r.inherited;if(i&&e.parentElement&&ws(e.parentElement,t)){var a=e.parentElement.parsedStyle[t];return a==="unset"||a==="initial"||a==="inherit"?void 0:a}},n.prototype.recalc=function(e){var t=ce.get(e);if(t&&t.length){var r={};t.forEach(function(i){r[i]=e.attributes[i]}),this.processProperties(e,r),ce.delete(e)}},n.prototype.updateGeometry=function(e){var t=e.nodeName,r=this.runtime.geometryUpdaterFactory[t];if(r){var i=e.geometry;i.contentBounds||(i.contentBounds=new ft),i.renderBounds||(i.renderBounds=new ft);var a=e.parsedStyle,o=r.update(a,e),s=o.cx,l=s===void 0?0:s,u=o.cy,c=u===void 0?0:u,h=o.cz,p=h===void 0?0:h,d=o.hwidth,f=d===void 0?0:d,g=o.hheight,y=g===void 0?0:g,m=o.hdepth,T=m===void 0?0:m,M=[Math.abs(f),Math.abs(y),T],k=a,E=k.stroke,v=k.lineWidth,x=v===void 0?1:v,S=k.increasedLineWidthForHitTesting,w=S===void 0?0:S,b=k.shadowType,P=b===void 0?"outer":b,O=k.shadowColor,I=k.filter,D=I===void 0?[]:I,F=k.transformOrigin,_=[l,c,p];i.contentBounds.update(_,M);var L=t===A.POLYLINE||t===A.POLYGON||t===A.PATH?Math.SQRT2:.5,V=E&&!E.isNone;if(V){var H=((x||0)+(w||0))*L;M[0]+=H,M[1]+=H}if(i.renderBounds.update(_,M),O&&P&&P!=="inner"){var lt=i.renderBounds,bt=lt.min,Tt=lt.max,ur=a,ji=ur.shadowBlur,ta=ur.shadowOffsetX,ea=ur.shadowOffsetY,Ve=ji||0,an=ta||0,on=ea||0,ra=bt[0]-Ve+an,na=Tt[0]+Ve+an,ia=bt[1]-Ve+on,aa=Tt[1]+Ve+on;bt[0]=Math.min(bt[0],ra),Tt[0]=Math.max(Tt[0],na),bt[1]=Math.min(bt[1],ia),Tt[1]=Math.max(Tt[1],aa),i.renderBounds.setMinMax(bt,Tt)}D.forEach(function(un){var cn=un.name,He=un.params;if(cn==="blur"){var fn=He[0].value;i.renderBounds.update(i.renderBounds.center,$e(i.renderBounds.halfExtents,i.renderBounds.halfExtents,[fn,fn,0]))}else if(cn==="drop-shadow"){var hn=He[0].value,dn=He[1].value,Ye=He[2].value,pn=i.renderBounds,Zt=pn.min,Qt=pn.max,la=Zt[0]-Ye+hn,ua=Qt[0]+Ye+hn,ca=Zt[1]-Ye+dn,fa=Qt[1]+Ye+dn;Zt[0]=Math.min(Zt[0],la),Qt[0]=Math.max(Qt[0],ua),Zt[1]=Math.min(Zt[1],ca),Qt[1]=Math.max(Qt[1],fa),i.renderBounds.setMinMax(Zt,Qt)}}),e.geometry.dirty=!1;var oa=f<0,sa=y<0,sn=(oa?-1:1)*(F?wt(F[0],0,e,!0):0),ln=(sa?-1:1)*(F?wt(F[1],1,e,!0):0);(sn||ln)&&e.setOrigin(sn,ln)}},n.prototype.updateSizeAttenuation=function(e,t){e.style.isSizeAttenuation?(e.style.rawLineWidth||(e.style.rawLineWidth=e.style.lineWidth),e.style.lineWidth=(e.style.rawLineWidth||1)/t,e.nodeName===A.CIRCLE&&(e.style.rawR||(e.style.rawR=e.style.r),e.style.r=(e.style.rawR||1)/t)):(e.style.rawLineWidth&&(e.style.lineWidth=e.style.rawLineWidth,delete e.style.rawLineWidth),e.nodeName===A.CIRCLE&&e.style.rawR&&(e.style.r=e.style.rawR,delete e.style.rawR))},n.prototype.isPropertyInheritable=function(e){var t=_t[e];return t?t.inh:!1},n}(),bs=function(){function n(){this.parser=Oi,this.parserUnmemoize=Qr,this.parserWithCSSDisabled=null,this.mixer=Jr}return n.prototype.calculator=function(e,t,r,i){return yt(r)},n}(),As=function(){function n(){}return n.prototype.calculator=function(e,t,r,i,a){return r instanceof St&&(r=null),a.sceneGraphService.updateDisplayObjectDependency(e,t,r,i),e==="clipPath"&&i.forEach(function(o){o.childNodes.length===0&&a.sceneGraphService.dirtifyToRoot(o)}),r},n}(),Ms=function(){function n(){this.parser=pe,this.parserWithCSSDisabled=pe,this.mixer=Jo}return n.prototype.calculator=function(e,t,r,i){return r instanceof St?r.value==="none"?er:Ai:r},n}(),Ns=function(){function n(){this.parser=Li}return n.prototype.calculator=function(e,t,r){return r instanceof St?[]:r},n}();function Yn(n){var e=n.parsedStyle.fontSize;return K(e)?null:e}var Hr=function(){function n(){this.parser=ge,this.parserUnmemoize=Be,this.parserWithCSSDisabled=null,this.mixer=Jr}return n.prototype.calculator=function(e,t,r,i,a){var o;if(ae(r))return r;if(st.isRelativeUnit(r.unit)){var s=a.styleValueRegistry;if(r.unit===N.kPercentage)return 0;if(r.unit===N.kEms){if(i.parentNode){var l=Yn(i.parentNode);if(l)return l*=r.value,l;s.addUnresolveProperty(i,e)}else s.addUnresolveProperty(i,e);return 0}else if(r.unit===N.kRems){if(!((o=i==null?void 0:i.ownerDocument)===null||o===void 0)&&o.documentElement){var l=Yn(i.ownerDocument.documentElement);if(l)return l*=r.value,l;s.addUnresolveProperty(i,e)}else s.addUnresolveProperty(i,e);return 0}}else return r.value},n}(),ks=function(){function n(){this.mixer=Di}return n.prototype.parser=function(e){var t=Ri(ae(e)?[e]:e),r;return t.length===1?r=[t[0],t[0]]:r=[t[0],t[1]],r},n.prototype.calculator=function(e,t,r){return r.map(function(i){return i.value})},n}(),Os=function(){function n(){this.mixer=Di}return n.prototype.parser=function(e){var t=Ri(ae(e)?[e]:e),r;return t.length===1?r=[t[0],t[0],t[0],t[0]]:t.length===2?r=[t[0],t[1],t[0],t[1]]:t.length===3?r=[t[0],t[1],t[2],t[1]]:r=[t[0],t[1],t[2],t[3]],r},n.prototype.calculator=function(e,t,r){return r.map(function(i){return i.value})},n}(),Rs=function(){function n(){}return n.prototype.calculator=function(e,t,r,i){r instanceof St&&(r=null);var a=r==null?void 0:r.cloneNode(!0);return a&&(a.style.isMarker=!0),a},n}(),Ls=function(){function n(){this.mixer=Jr,this.parser=re,this.parserUnmemoize=ye,this.parserWithCSSDisabled=null}return n.prototype.calculator=function(e,t,r){return r.value},n}(),Is=function(){function n(){this.parser=re,this.parserUnmemoize=ye,this.parserWithCSSDisabled=null,this.mixer=$r(0,1)}return n.prototype.calculator=function(e,t,r){return r.value},n.prototype.postProcessor=function(e){var t=e.parsedStyle,r=t.offsetPath,i=t.offsetDistance;if(r){var a=r.nodeName;if(a===A.LINE||a===A.PATH||a===A.POLYLINE){var o=r.getPoint(i);o&&e.setLocalPosition(o.x,o.y)}}},n}(),Ds=function(){function n(){this.parser=re,this.parserUnmemoize=ye,this.parserWithCSSDisabled=null,this.mixer=$r(0,1)}return n.prototype.calculator=function(e,t,r){return r.value},n}(),Gs=function(){function n(){this.parser=Vr,this.parserWithCSSDisabled=Vr,this.mixer=hs}return n.prototype.calculator=function(e,t,r){return r instanceof St&&r.value==="unset"?{absolutePath:[],hasArc:!1,segments:[],polygons:[],polylines:[],curve:null,totalLength:0,rect:new ee(0,0,0,0)}:r},n}(),Fs=function(){function n(){this.parser=Fi,this.mixer=ds}return n}(),Bs=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.mixer=$r(0,1/0),t}return e}(Hr),_s=function(){function n(){}return n.prototype.calculator=function(e,t,r,i){return r instanceof St?r.value==="unset"?"":r.value:"".concat(r)},n.prototype.postProcessor=function(e){e.nodeValue="".concat(e.parsedStyle.text)||""},n}(),Us=function(){function n(){}return n.prototype.calculator=function(e,t,r,i){var a=i.getAttribute("text");if(a){var o=a;r.value==="capitalize"?o=a.charAt(0).toUpperCase()+a.slice(1):r.value==="lowercase"?o=a.toLowerCase():r.value==="uppercase"&&(o=a.toUpperCase()),i.parsedStyle.text=o}return r.value},n}(),Tr={},Vs=0;function Hs(n,e){if(n){var t=typeof n=="string"?n:n.id||Vs++;Tr[t]&&Tr[t].destroy(),Tr[t]=e}}var _e=typeof window<"u"&&typeof window.document<"u";function Ys(n){return!!n.getAttribute}function Xs(n,e){for(var t=0,r=n.length;t<r;){var i=t+r>>>1;_i(n[i],e)<0?t=i+1:r=i}return t}function _i(n,e){var t=Number(n.parsedStyle.zIndex||0),r=Number(e.parsedStyle.zIndex||0);if(t===r){var i=n.parentNode;if(i){var a=i.childNodes||[];return a.indexOf(n)-a.indexOf(e)}}return t-r}function Ws(n){var e,t=n;do{var r=(e=t.parsedStyle)===null||e===void 0?void 0:e.clipPath;if(r)return t;t=t.parentElement}while(t!==null);return null}function Ui(n,e){if(_e)return document.defaultView.getComputedStyle(n,null).getPropertyValue(e)}function zs(n){var e=Ui(n,"width");return e==="auto"?n.offsetWidth:parseFloat(e)}function Ks(n){var e=Ui(n,"height");return e==="auto"?n.offsetHeight:parseFloat(e)}var qs=1,Zs={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Yr=typeof performance=="object"&&performance.now?performance:Date,Qs=1,Js=function(){return Qs++},Ft=typeof self=="object"&&self.self==self?self:typeof global=="object"&&global.global==global?global:{},$s=Date.now(),js=function(){return Ft.performance&&typeof Ft.performance.now=="function"?Ft.performance.now():Date.now()-$s},be={},Xn=Date.now(),tl=function(n){if(typeof n!="function")throw new TypeError(n+" is not a function");var e=Date.now(),t=e-Xn,r=t>16?0:16-t,i=Js();return be[i]=n,Object.keys(be).length>1||setTimeout(function(){Xn=e;var a=be;be={},Object.keys(a).forEach(function(o){return a[o](js())})},r),i},el=function(n){delete be[n]},rl=["","webkit","moz","ms","o"],Vi=function(n){return typeof n!="string"?tl:n===""?Ft.requestAnimationFrame:Ft[n+"RequestAnimationFrame"]},nl=function(n){return typeof n!="string"?el:n===""?Ft.cancelAnimationFrame:Ft[n+"CancelAnimationFrame"]||Ft[n+"CancelRequestAnimationFrame"]},il=function(n,e){for(var t=0;n[t]!==void 0;){if(e(n[t]))return n[t];t=t+1}},Hi=il(rl,function(n){return!!Vi(n)}),en=Vi(Hi),Yi=nl(Hi);Ft.requestAnimationFrame=en;Ft.cancelAnimationFrame=Yi;var al=function(){function n(){this.callbacks=[]}return n.prototype.getCallbacksNum=function(){return this.callbacks.length},n.prototype.tapPromise=function(e,t){this.callbacks.push(t)},n.prototype.promise=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.callbacks.map(function(r){return r.apply(void 0,$([],G(e),!1))}))},n}(),ol=function(){function n(){this.callbacks=[]}return n.prototype.tapPromise=function(e,t){this.callbacks.push(t)},n.prototype.promise=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Le(this,void 0,void 0,function(){var r,i,a,o;return Ie(this,function(s){switch(s.label){case 0:return this.callbacks.length?[4,(o=this.callbacks)[0].apply(o,$([],G(e),!1))]:[3,6];case 1:r=s.sent(),i=0,s.label=2;case 2:return i<this.callbacks.length-1?(a=this.callbacks[i],[4,a(r)]):[3,5];case 3:r=s.sent(),s.label=4;case 4:return i++,[3,2];case 5:return[2,r];case 6:return[2,null]}})})},n}(),dt=function(){function n(){this.callbacks=[]}return n.prototype.tap=function(e,t){this.callbacks.push(t)},n.prototype.call=function(){var e=arguments;this.callbacks.forEach(function(t){t.apply(void 0,e)})},n}(),Cr=function(){function n(){this.callbacks=[]}return n.prototype.tap=function(e,t){this.callbacks.push(t)},n.prototype.call=function(){if(this.callbacks.length){for(var e=arguments,t=this.callbacks[0].apply(void 0,e),r=0;r<this.callbacks.length-1;r++){var i=this.callbacks[r];t=i(t)}return t}return null},n}(),sl=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ll=/([\"\'])[^\'\"]+\1/;function ul(n){for(var e=n.fontSize,t=e===void 0?16:e,r=n.fontFamily,i=r===void 0?"sans-serif":r,a=n.fontStyle,o=a===void 0?"normal":a,s=n.fontVariant,l=s===void 0?"normal":s,u=n.fontWeight,c=u===void 0?"normal":u,h=ae(t)&&"".concat(t,"px")||"16px",p=i.split(","),d=p.length-1;d>=0;d--){var f=p[d].trim();!ll.test(f)&&sl.indexOf(f)<0&&(f='"'.concat(f,'"')),p[d]=f}return"".concat(o," ").concat(l," ").concat(c," ").concat(h," ").concat(p.join(","))}function wr(n,e,t){return ar(n),n[4]=Math.tan(e),n[1]=Math.tan(t),n}var Ce=1e-5,cl=it(),ot=it();function fl(n,e){if(n.length){var t=ar(cl);n.forEach(function(r){var i=r.t,a=r.d;if(i==="scale"){var o=(a==null?void 0:a.map(function(m){return Math.max(m.value,Ce)}))||[1,1];Se(ot,[o[0],o[1],1])}else if(i==="scalex"){var o=(a==null?void 0:a.map(function(T){return Math.max(T.value,Ce)}))||[1];Se(ot,[o[0],1,1])}else if(i==="scaley"){var o=(a==null?void 0:a.map(function(T){return Math.max(T.value,Ce)}))||[1];Se(ot,[1,o[0],1])}else if(i==="scalez"){var o=(a==null?void 0:a.map(function(T){return Math.max(T.value,Ce)}))||[1];Se(ot,[1,1,o[0]])}else if(i==="scale3d"){var o=(a==null?void 0:a.map(function(T){return Math.max(T.value,Ce)}))||[1,1,1];Se(ot,[o[0],o[1],o[2]])}else if(i==="translate"){var s=a||[at,at];ue(ot,[s[0].value,s[1].value,0])}else if(i==="translatex"){var s=a||[at];ue(ot,[s[0].value,0,0])}else if(i==="translatey"){var s=a||[at];ue(ot,[0,s[0].value,0])}else if(i==="translatez"){var s=a||[at];ue(ot,[0,0,s[0].value])}else if(i==="translate3d"){var s=a||[at,at,at];ue(ot,[s[0].value,s[1].value,s[2].value])}else if(i==="rotate"){var l=a||[Mt];wn(ot,J(yt(l[0])))}else if(i==="rotatex"){var l=a||[Mt];Ua(ot,J(yt(l[0])))}else if(i==="rotatey"){var l=a||[Mt];Va(ot,J(yt(l[0])))}else if(i==="rotatez"){var l=a||[Mt];wn(ot,J(yt(l[0])))}else if(i==="rotate3d"){var l=a||[at,at,at,Mt];Ha(ot,J(yt(l[3])),[l[0].value,l[1].value,l[2].value])}else if(i==="skew"){var u=(a==null?void 0:a.map(function(m){return m.value}))||[0,0];wr(ot,J(u[0]),J(u[1]))}else if(i==="skewx"){var u=(a==null?void 0:a.map(function(T){return T.value}))||[0];wr(ot,J(u[0]),0)}else if(i==="skewy"){var u=(a==null?void 0:a.map(function(T){return T.value}))||[0];wr(ot,0,J(u[0]))}else if(i==="matrix"){var c=G(a.map(function(m){return m.value}),6),h=c[0],p=c[1],d=c[2],f=c[3],g=c[4],y=c[5];Pn(ot,h,p,0,0,d,f,0,0,0,0,1,0,g,y,0,1)}else i==="matrix3d"&&Pn.apply(Ya,$([ot],G(a.map(function(m){return m.value})),!1));Xa(t,t,ot)}),e.setLocalTransform(t)}else e.resetLocalTransform();return e.getLocalTransform()}var hl=function(){function n(){this.parser=jr,this.parserUnmemoize=Un,this.parserWithCSSDisabled=Un,this.mixer=Ts}return n.prototype.calculator=function(e,t,r,i){return r instanceof St?[]:r},n.prototype.postProcessor=function(e){var t=e.parsedStyle.transform;fl(t,e)},n}(),dl=function(){function n(){this.parser=Bi,this.parserUnmemoize=Cs}return n.prototype.postProcessor=function(e){var t=e.parsedStyle.transformOrigin;t[0].unit===N.kPixels&&t[1].unit===N.kPixels?e.setOrigin(t[0].value,t[1].value):e.getGeometryBounds()},n}(),pl=function(){function n(){this.parser=re,this.parserUnmemoize=ye}return n.prototype.calculator=function(e,t,r,i){return r.value},n.prototype.postProcessor=function(e){if(e.parentNode){var t=e.parentNode,r=t.renderable,i=t.sortable;r&&(r.dirty=!0),i&&(i.dirty=!0,i.dirtyReason=ve.Z_INDEX_CHANGED)}},n}(),vl=function(){function n(){}return n.prototype.update=function(e,t){var r=e.cx,i=r===void 0?0:r,a=e.cy,o=a===void 0?0:a,s=e.r,l=s===void 0?0:s;return{cx:i,cy:o,hwidth:l,hheight:l}},n}(),gl=function(){function n(){}return n.prototype.update=function(e,t){var r=e.cx,i=r===void 0?0:r,a=e.cy,o=a===void 0?0:a,s=e.rx,l=s===void 0?0:s,u=e.ry,c=u===void 0?0:u;return{cx:i,cy:o,hwidth:l,hheight:c}},n}(),yl=function(){function n(){}return n.prototype.update=function(e){var t=e.x1,r=e.y1,i=e.x2,a=e.y2,o=Math.min(t,i),s=Math.max(t,i),l=Math.min(r,a),u=Math.max(r,a),c=s-o,h=u-l,p=c/2,d=h/2;return{cx:o+p,cy:l+d,hwidth:p,hheight:d}},n}(),ml=function(){function n(){}return n.prototype.update=function(e){var t=e.d,r=t.rect,i=r.x,a=r.y,o=r.width,s=r.height,l=o/2,u=s/2;return{cx:i+l,cy:a+u,hwidth:l,hheight:u}},n}(),El=function(){function n(){}return n.prototype.update=function(e){if(e.points&&Wa(e.points.points)){var t=e.points.points,r=Math.min.apply(Math,$([],G(t.map(function(h){return h[0]})),!1)),i=Math.max.apply(Math,$([],G(t.map(function(h){return h[0]})),!1)),a=Math.min.apply(Math,$([],G(t.map(function(h){return h[1]})),!1)),o=Math.max.apply(Math,$([],G(t.map(function(h){return h[1]})),!1)),s=i-r,l=o-a,u=s/2,c=l/2;return{cx:r+u,cy:a+c,hwidth:u,hheight:c}}return{cx:0,cy:0,hwidth:0,hheight:0}},n}(),xl=function(){function n(){}return n.prototype.update=function(e,t){var r=e.x,i=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.src,l=e.width,u=l===void 0?0:l,c=e.height,h=c===void 0?0:c,p=u,d=h;return s&&!xt(s)&&(p||(p=s.width,e.width=p),d||(d=s.height,e.height=d)),{cx:i+p/2,cy:o+d/2,hwidth:p/2,hheight:d/2}},n}(),Sl=function(){function n(e){this.globalRuntime=e}return n.prototype.isReadyToMeasure=function(e,t){var r=e.text,i=e.textAlign,a=e.textBaseline,o=e.fontSize,s=e.fontStyle,l=e.fontWeight,u=e.fontVariant,c=e.lineWidth;return C.enableCSSParsing?r&&o&&s&&l&&u&&i&&a&&!K(c):r},n.prototype.update=function(e,t){var r,i,a=e.text,o=e.textAlign,s=o===void 0?"start":o,l=e.lineWidth,u=l===void 0?1:l,c=e.textBaseline,h=c===void 0?"alphabetic":c,p=e.dx,d=p===void 0?0:p,f=e.dy,g=f===void 0?0:f,y=e.x,m=y===void 0?0:y,T=e.y,M=T===void 0?0:T;if(!this.isReadyToMeasure(e,t))return e.metrics={font:"",width:0,height:0,lines:[],lineWidths:[],lineHeight:0,maxLineWidth:0,fontProperties:{ascent:0,descent:0,fontSize:0},lineMetrics:[]},{hwidth:0,hheight:0,cx:0,cy:0};var k=(((i=(r=t==null?void 0:t.ownerDocument)===null||r===void 0?void 0:r.defaultView)===null||i===void 0?void 0:i.getConfig())||{}).offscreenCanvas,E=this.globalRuntime.textService.measureText(a,e,k);e.metrics=E;var v=E.width,x=E.height,S=E.lineHeight,w=E.fontProperties,b=v/2,P=x/2,O=m+b;s==="center"||s==="middle"?O+=u/2-b:(s==="right"||s==="end")&&(O+=u-b*2);var I=M-P;return h==="middle"?I+=P:h==="top"||h==="hanging"?I+=P*2:h==="alphabetic"?I+=this.globalRuntime.enableCSSParsing?S-w.ascent:0:(h==="bottom"||h==="ideographic")&&(I+=0),d&&(O+=d),g&&(I+=g),{cx:O,cy:I,hwidth:b,hheight:P}},n}(),Tl=function(){function n(){}return n.prototype.update=function(e,t){return{cx:0,cy:0,hwidth:0,hheight:0}},n}();function Cl(n){return!!n.type}var rn=function(){function n(e){this.eventPhase=n.prototype.NONE,this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.defaultPrevented=!1,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new ht,this.page=new ht,this.canvas=new ht,this.viewport=new ht,this.composed=!1,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}return Object.defineProperty(n.prototype,"name",{get:function(){return this.type},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"layerX",{get:function(){return this.layer.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"layerY",{get:function(){return this.layer.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageX",{get:function(){return this.page.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pageY",{get:function(){return this.page.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"x",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasX",{get:function(){return this.canvas.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"canvasY",{get:function(){return this.canvas.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewportX",{get:function(){return this.viewport.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewportY",{get:function(){return this.viewport.y},enumerable:!1,configurable:!0}),n.prototype.composedPath=function(){return this.manager&&(!this.path||this.path[0]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path},Object.defineProperty(n.prototype,"propagationPath",{get:function(){return this.composedPath()},enumerable:!1,configurable:!0}),n.prototype.preventDefault=function(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0},n.prototype.stopImmediatePropagation=function(){this.propagationImmediatelyStopped=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n.prototype.initEvent=function(){},n.prototype.initUIEvent=function(){},n.prototype.clone=function(){throw new Error(et)},n}(),Xi=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.client=new ht,t.movement=new ht,t.offset=new ht,t.global=new ht,t.screen=new ht,t}return Object.defineProperty(e.prototype,"clientX",{get:function(){return this.client.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.client.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementX",{get:function(){return this.movement.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"movementY",{get:function(){return this.movement.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){return this.offset.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.offset.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalX",{get:function(){return this.global.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalY",{get:function(){return this.global.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenX",{get:function(){return this.screen.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screenY",{get:function(){return this.screen.y},enumerable:!1,configurable:!0}),e.prototype.getModifierState=function(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)},e.prototype.initMouseEvent=function(){throw new Error(et)},e}(rn),Xr=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.width=0,t.height=0,t.isPrimary=!1,t}return e.prototype.getCoalescedEvents=function(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]},e.prototype.getPredictedEvents=function(){throw new Error("getPredictedEvents is not supported!")},e.prototype.clone=function(){return this.manager.clonePointerEvent(this)},e}(Xi),Wr=function(n){X(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.clone=function(){return this.manager.cloneWheelEvent(this)},e}(Xi),pt=function(n){X(e,n);function e(t,r){var i=n.call(this,null)||this;return i.type=t,i.detail=r,Object.assign(i,r),i}return e}(rn),Wn=":",Wi=function(){function n(){this.emitter=new qr}return n.prototype.on=function(e,t,r){return this.addEventListener(e,t,r),this},n.prototype.addEventListener=function(e,t,r){var i=gn(r)&&r||Qe(r)&&r.capture,a=Qe(r)&&r.once,o=fe(t)?void 0:t,s=!1,l="";if(e.indexOf(Wn)>-1){var u=G(e.split(Wn),2),c=u[0],h=u[1];e=h,l=c,s=!0}if(e=i?"".concat(e,"capture"):e,t=fe(t)?t:t.handleEvent,s){var p=t;t=function(){for(var d,f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];((d=f[0].target)===null||d===void 0?void 0:d.name)===l&&p.apply(void 0,$([],G(f),!1))}}return a?this.emitter.once(e,t,o):this.emitter.on(e,t,o),this},n.prototype.off=function(e,t,r){return e?this.removeEventListener(e,t,r):this.removeAllEventListeners(),this},n.prototype.removeAllEventListeners=function(){this.emitter.removeAllListeners()},n.prototype.removeEventListener=function(e,t,r){var i=gn(r)&&r||Qe(r)&&r.capture,a=fe(t)?void 0:t;return e=i?"".concat(e,"capture"):e,t=fe(t)?t:t==null?void 0:t.handleEvent,this.emitter.off(e,t,a),this},n.prototype.emit=function(e,t){this.dispatchEvent(new pt(e,t))},n.prototype.dispatchEvent=function(e,t){var r,i;if(t===void 0&&(t=!1),!Cl(e))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");var a;if(this.document?a=this:this.defaultView?a=this.defaultView:a=(r=this.ownerDocument)===null||r===void 0?void 0:r.defaultView,a){if(e.manager=a.getEventService()||null,!e.manager)return!1;e.defaultPrevented=!1,e.path=[],t||(e.target=this),(i=e.manager)===null||i===void 0||i.dispatchEvent(e,e.type,t)}return!e.defaultPrevented},n}(),ut=function(n){X(e,n);function e(){var t=n.call(this)||this;return t.shadow=!1,t.ownerDocument=null,t.isConnected=!1,t.baseURI="",t.childNodes=[],t.nodeType=0,t.nodeName="",t.nodeValue=null,t.parentNode=null,t}return e.isNode=function(t){return!!t.childNodes},Object.defineProperty(e.prototype,"textContent",{get:function(){var t,r,i="";this.nodeName===A.TEXT&&(i+=this.style.text);try{for(var a=zt(this.childNodes),o=a.next();!o.done;o=a.next()){var s=o.value;s.nodeName===A.TEXT?i+=s.nodeValue:i+=s.textContent}}catch(l){t={error:l}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i},set:function(t){var r=this;this.childNodes.slice().forEach(function(i){r.removeChild(i)}),this.nodeName===A.TEXT&&(this.style.text="".concat(t))},enumerable:!1,configurable:!0}),e.prototype.getRootNode=function(t){return t===void 0&&(t={}),this.parentNode?this.parentNode.getRootNode(t):t.composed&&this.host?this.host.getRootNode(t):this},e.prototype.hasChildNodes=function(){return this.childNodes.length>0},e.prototype.isDefaultNamespace=function(t){throw new Error(et)},e.prototype.lookupNamespaceURI=function(t){throw new Error(et)},e.prototype.lookupPrefix=function(t){throw new Error(et)},e.prototype.normalize=function(){throw new Error(et)},e.prototype.isEqualNode=function(t){return this===t},e.prototype.isSameNode=function(t){return this.isEqualNode(t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.childNodes.length>0?this.childNodes[0]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.childNodes.length>0?this.childNodes[this.childNodes.length-1]:null},enumerable:!1,configurable:!0}),e.prototype.compareDocumentPosition=function(t){var r;if(t===this)return 0;for(var i=t,a=this,o=[i],s=[a];(r=i.parentNode)!==null&&r!==void 0?r:a.parentNode;)i=i.parentNode?(o.push(i.parentNode),i.parentNode):i,a=a.parentNode?(s.push(a.parentNode),a.parentNode):a;if(i!==a)return e.DOCUMENT_POSITION_DISCONNECTED|e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|e.DOCUMENT_POSITION_PRECEDING;var l=o.length>s.length?o:s,u=l===o?s:o;if(l[l.length-u.length]===u[0])return l===o?e.DOCUMENT_POSITION_CONTAINED_BY|e.DOCUMENT_POSITION_FOLLOWING:e.DOCUMENT_POSITION_CONTAINS|e.DOCUMENT_POSITION_PRECEDING;for(var c=l.length-u.length,h=u.length-1;h>=0;h--){var p=u[h],d=l[c+h];if(d!==p){var f=p.parentNode.childNodes;return f.indexOf(p)<f.indexOf(d)?u===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING:l===o?e.DOCUMENT_POSITION_PRECEDING:e.DOCUMENT_POSITION_FOLLOWING}}return e.DOCUMENT_POSITION_FOLLOWING},e.prototype.contain=function(t){return this.contains(t)},e.prototype.contains=function(t){for(var r=t;r&&this!==r;)r=r.parentNode;return!!r},e.prototype.getAncestor=function(t){for(var r=this;t>0&&r;)r=r.parentNode,t--;return r},e.prototype.forEach=function(t,r){r===void 0&&(r=!1),t(this)||(r?this.childNodes.slice():this.childNodes).forEach(function(i){i.forEach(t)})},e.DOCUMENT_POSITION_DISCONNECTED=1,e.DOCUMENT_POSITION_PRECEDING=2,e.DOCUMENT_POSITION_FOLLOWING=4,e.DOCUMENT_POSITION_CONTAINS=8,e.DOCUMENT_POSITION_CONTAINED_BY=16,e.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,e}(Wi),wl=2048,Pl=function(){function n(e,t){var r=this;this.globalRuntime=e,this.context=t,this.emitter=new qr,this.nativeHTMLMap=new WeakMap,this.cursor="default",this.mappingTable={},this.mappingState={trackingData:{}},this.eventPool=new Map,this.tmpMatrix=it(),this.tmpVec3=Z(),this.onPointerDown=function(i){var a=r.createPointerEvent(i);if(r.dispatchEvent(a,"pointerdown"),a.pointerType==="touch")r.dispatchEvent(a,"touchstart");else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;r.dispatchEvent(a,o?"rightdown":"mousedown")}var s=r.trackingData(i.pointerId);s.pressTargetsByButton[i.button]=a.composedPath(),r.freeEvent(a)},this.onPointerUp=function(i){var a,o=Yr.now(),s=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);if(r.dispatchEvent(s,"pointerup"),s.pointerType==="touch")r.dispatchEvent(s,"touchend");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;r.dispatchEvent(s,l?"rightup":"mouseup")}var u=r.trackingData(i.pointerId),c=r.findMountedTarget(u.pressTargetsByButton[i.button]),h=c;if(c&&!s.composedPath().includes(c)){for(var p=c;p&&!s.composedPath().includes(p);){if(s.currentTarget=p,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch")r.notifyTarget(s,"touchendoutside");else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;r.notifyTarget(s,l?"rightupoutside":"mouseupoutside")}ut.isNode(p)&&(p=p.parentNode)}delete u.pressTargetsByButton[i.button],h=p}if(h){var d=r.clonePointerEvent(s,"click");d.target=h,d.path=[],u.clicksByButton[i.button]||(u.clicksByButton[i.button]={clickCount:0,target:d.target,timeStamp:o});var f=u.clicksByButton[i.button];f.target===d.target&&o-f.timeStamp<200?++f.clickCount:f.clickCount=1,f.target=d.target,f.timeStamp=o,d.detail=f.clickCount,!((a=s.detail)===null||a===void 0)&&a.preventClick||(!r.context.config.useNativeClickEvent&&(d.pointerType==="mouse"||d.pointerType==="touch")&&r.dispatchEvent(d,"click"),r.dispatchEvent(d,"pointertap")),r.freeEvent(d)}r.freeEvent(s)},this.onPointerMove=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0),o=a.pointerType==="mouse"||a.pointerType==="pen",s=r.trackingData(i.pointerId),l=r.findMountedTarget(s.overTargets);if(s.overTargets&&l!==a.target){var u=i.type==="mousemove"?"mouseout":"pointerout",c=r.createPointerEvent(i,u,l||void 0);if(r.dispatchEvent(c,"pointerout"),o&&r.dispatchEvent(c,"mouseout"),!a.composedPath().includes(l)){var h=r.createPointerEvent(i,"pointerleave",l||void 0);for(h.eventPhase=h.AT_TARGET;h.target&&!a.composedPath().includes(h.target);)h.currentTarget=h.target,r.notifyTarget(h),o&&r.notifyTarget(h,"mouseleave"),ut.isNode(h.target)&&(h.target=h.target.parentNode);r.freeEvent(h)}r.freeEvent(c)}if(l!==a.target){var p=i.type==="mousemove"?"mouseover":"pointerover",d=r.clonePointerEvent(a,p);r.dispatchEvent(d,"pointerover"),o&&r.dispatchEvent(d,"mouseover");for(var f=l&&ut.isNode(l)&&l.parentNode;f&&f!==(ut.isNode(r.rootTarget)&&r.rootTarget.parentNode)&&f!==a.target;)f=f.parentNode;var g=!f||f===(ut.isNode(r.rootTarget)&&r.rootTarget.parentNode);if(g){var y=r.clonePointerEvent(a,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==l&&y.target!==(ut.isNode(r.rootTarget)&&r.rootTarget.parentNode);)y.currentTarget=y.target,r.notifyTarget(y),o&&r.notifyTarget(y,"mouseenter"),ut.isNode(y.target)&&(y.target=y.target.parentNode);r.freeEvent(y)}r.freeEvent(d)}r.dispatchEvent(a,"pointermove"),a.pointerType==="touch"&&r.dispatchEvent(a,"touchmove"),o&&(r.dispatchEvent(a,"mousemove"),r.cursor=r.getCursor(a.target)),s.overTargets=a.composedPath(),r.freeEvent(a)},this.onPointerOut=function(i){var a=r.trackingData(i.pointerId);if(a.overTargets){var o=i.pointerType==="mouse"||i.pointerType==="pen",s=r.findMountedTarget(a.overTargets),l=r.createPointerEvent(i,"pointerout",s||void 0);r.dispatchEvent(l),o&&r.dispatchEvent(l,"mouseout");var u=r.createPointerEvent(i,"pointerleave",s||void 0);for(u.eventPhase=u.AT_TARGET;u.target&&u.target!==(ut.isNode(r.rootTarget)&&r.rootTarget.parentNode);)u.currentTarget=u.target,r.notifyTarget(u),o&&r.notifyTarget(u,"mouseleave"),ut.isNode(u.target)&&(u.target=u.target.parentNode);a.overTargets=null,r.freeEvent(l),r.freeEvent(u)}r.cursor=null},this.onPointerOver=function(i){var a=r.trackingData(i.pointerId),o=r.createPointerEvent(i),s=o.pointerType==="mouse"||o.pointerType==="pen";r.dispatchEvent(o,"pointerover"),s&&r.dispatchEvent(o,"mouseover"),o.pointerType==="mouse"&&(r.cursor=r.getCursor(o.target));var l=r.clonePointerEvent(o,"pointerenter");for(l.eventPhase=l.AT_TARGET;l.target&&l.target!==(ut.isNode(r.rootTarget)&&r.rootTarget.parentNode);)l.currentTarget=l.target,r.notifyTarget(l),s&&r.notifyTarget(l,"mouseenter"),ut.isNode(l.target)&&(l.target=l.target.parentNode);a.overTargets=o.composedPath(),r.freeEvent(o),r.freeEvent(l)},this.onPointerUpOutside=function(i){var a=r.trackingData(i.pointerId),o=r.findMountedTarget(a.pressTargetsByButton[i.button]),s=r.createPointerEvent(i);if(o){for(var l=o;l;)s.currentTarget=l,r.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"||(s.pointerType==="mouse"||s.pointerType==="pen")&&r.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),ut.isNode(l)&&(l=l.parentNode);delete a.pressTargetsByButton[i.button]}r.freeEvent(s)},this.onWheel=function(i){var a=r.createWheelEvent(i);r.dispatchEvent(a),r.freeEvent(a)},this.onClick=function(i){if(r.context.config.useNativeClickEvent){var a=r.createPointerEvent(i);r.dispatchEvent(a),r.freeEvent(a)}},this.onPointerCancel=function(i){var a=r.createPointerEvent(i,void 0,void 0,r.context.config.alwaysTriggerPointerEventOnCanvas?r.rootTarget:void 0);r.dispatchEvent(a),r.freeEvent(a)}}return n.prototype.init=function(){this.rootTarget=this.context.renderingContext.root.parentNode,this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointercancel",this.onPointerCancel),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel),this.addEventMapping("click",this.onClick)},n.prototype.destroy=function(){this.emitter.removeAllListeners(),this.mappingTable={},this.mappingState={},this.eventPool.clear()},n.prototype.getScale=function(){var e=this.context.contextService.getBoundingClientRect(),t=1,r=1,i=this.context.contextService.getDomElement();if(i&&e){var a=i.offsetWidth,o=i.offsetHeight;a&&o&&(t=e.width/a,r=e.height/o)}return{scaleX:t,scaleY:r,bbox:e}},n.prototype.client2Viewport=function(e){var t=this.getScale(),r=t.scaleX,i=t.scaleY,a=t.bbox;return new ht((e.x-((a==null?void 0:a.left)||0))/r,(e.y-((a==null?void 0:a.top)||0))/i)},n.prototype.viewport2Client=function(e){var t=this.getScale(),r=t.scaleX,i=t.scaleY,a=t.bbox;return new ht((e.x+((a==null?void 0:a.left)||0))*r,(e.y+((a==null?void 0:a.top)||0))*i)},n.prototype.viewport2Canvas=function(e){var t=e.x,r=e.y,i=this.rootTarget.defaultView,a=i.getCamera(),o=this.context.config,s=o.width,l=o.height,u=a.getPerspectiveInverse(),c=a.getWorldTransform(),h=Vt(this.tmpMatrix,c,u),p=Ut(this.tmpVec3,t/s*2-1,(1-r/l)*2-1,0);return te(p,p,h),new ht(p[0],p[1])},n.prototype.canvas2Viewport=function(e){var t=this.rootTarget.defaultView,r=t.getCamera(),i=r.getPerspective(),a=r.getViewTransform(),o=Vt(this.tmpMatrix,i,a),s=Ut(this.tmpVec3,e.x,e.y,0);te(this.tmpVec3,this.tmpVec3,o);var l=this.context.config,u=l.width,c=l.height;return new ht((s[0]+1)/2*u,(1-(s[1]+1)/2)*c)},n.prototype.setPickHandler=function(e){this.pickHandler=e},n.prototype.addEventMapping=function(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort(function(r,i){return r.priority-i.priority})},n.prototype.mapEvent=function(e){if(this.rootTarget){var t=this.mappingTable[e.type];if(t)for(var r=0,i=t.length;r<i;r++)t[r].fn(e);else console.warn("[EventService]: Event mapping not defined for ".concat(e.type))}},n.prototype.dispatchEvent=function(e,t,r){if(!r)e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t);else{e.eventPhase=e.AT_TARGET;var i=this.rootTarget.defaultView||null;e.currentTarget=i,this.notifyListeners(e,t)}this.emitter.emit(t||e.type,e)},n.prototype.propagate=function(e,t){if(e.target){var r=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(var i=r.length-1;i>=1;i--)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){var a=r.indexOf(e.currentTarget);e.eventPhase=e.BUBBLING_PHASE;for(var i=a+1;i<r.length;i++)if(e.currentTarget=r[i],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}},n.prototype.propagationPath=function(e){var t=[e],r=this.rootTarget.defaultView||null;if(r&&r===e)return t.unshift(r.document),t;for(var i=0;i<wl&&e!==this.rootTarget;i++)ut.isNode(e)&&e.parentNode&&(t.push(e.parentNode),e=e.parentNode);return r&&t.push(r),t},n.prototype.hitTest=function(e){var t=e.viewportX,r=e.viewportY,i=this.context.config,a=i.width,o=i.height,s=i.disableHitTesting;return t<0||r<0||t>a||r>o?null:!s&&this.pickHandler(e)||this.rootTarget||null},n.prototype.isNativeEventFromCanvas=function(e,t){var r=t==null?void 0:t.target;if(r!=null&&r.shadowRoot&&(r=t.composedPath()[0]),r){if(r===e)return!0;if(e&&e.contains)return e.contains(r)}return t!=null&&t.composedPath?t.composedPath().indexOf(e)>-1:!1},n.prototype.getExistedHTML=function(e){var t,r;if(e.nativeEvent.composedPath)try{for(var i=zt(e.nativeEvent.composedPath()),a=i.next();!a.done;a=i.next()){var o=a.value,s=this.nativeHTMLMap.get(o);if(s)return s}}catch(l){t={error:l}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return null},n.prototype.pickTarget=function(e){return this.hitTest({clientX:e.clientX,clientY:e.clientY,viewportX:e.viewportX,viewportY:e.viewportY,x:e.canvasX,y:e.canvasY})},n.prototype.createPointerEvent=function(e,t,r,i){var a=this.allocateEvent(Xr);this.copyPointerData(e,a),this.copyMouseData(e,a),this.copyData(e,a),a.nativeEvent=e.nativeEvent,a.originalEvent=e;var o=this.getExistedHTML(a),s=this.context.contextService.getDomElement();return a.target=r??(o||this.isNativeEventFromCanvas(s,a.nativeEvent)&&this.pickTarget(a)||i),typeof t=="string"&&(a.type=t),a},n.prototype.createWheelEvent=function(e){var t=this.allocateEvent(Wr);this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e;var r=this.getExistedHTML(t),i=this.context.contextService.getDomElement();return t.target=r||this.isNativeEventFromCanvas(i,t.nativeEvent)&&this.pickTarget(t),t},n.prototype.trackingData=function(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]},n.prototype.cloneWheelEvent=function(e){var t=this.allocateEvent(Wr);return t.nativeEvent=e.nativeEvent,t.originalEvent=e.originalEvent,this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.target=e.target,t.path=e.composedPath().slice(),t.type=e.type,t},n.prototype.clonePointerEvent=function(e,t){var r=this.allocateEvent(Xr);return r.nativeEvent=e.nativeEvent,r.originalEvent=e.originalEvent,this.copyPointerData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.target=e.target,r.path=e.composedPath().slice(),r.type=t??r.type,r},n.prototype.copyPointerData=function(e,t){t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist},n.prototype.copyMouseData=function(e,t){t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.client.copyFrom(e.client),t.movement.copyFrom(e.movement),t.canvas.copyFrom(e.canvas),t.screen.copyFrom(e.screen),t.global.copyFrom(e.global),t.offset.copyFrom(e.offset)},n.prototype.copyWheelData=function(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ},n.prototype.copyData=function(e,t){t.isTrusted=e.isTrusted,t.timeStamp=Yr.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.page.copyFrom(e.page),t.viewport.copyFrom(e.viewport)},n.prototype.allocateEvent=function(e){this.eventPool.has(e)||this.eventPool.set(e,[]);var t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=[],t.target=null,t},n.prototype.freeEvent=function(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");var t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)},n.prototype.notifyTarget=function(e,t){t=t??e.type;var r=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this.notifyListeners(e,r),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)},n.prototype.notifyListeners=function(e,t){var r=e.currentTarget.emitter,i=r._events[t];if(i)if("fn"in i)i.once&&r.removeListener(t,i.fn,void 0,!0),i.fn.call(e.currentTarget||i.context,e);else for(var a=0;a<i.length&&!e.propagationImmediatelyStopped;a++)i[a].once&&r.removeListener(t,i[a].fn,void 0,!0),i[a].fn.call(e.currentTarget||i[a].context,e)},n.prototype.findMountedTarget=function(e){if(!e)return null;for(var t=e[e.length-1],r=e.length-2;r>=0;r--){var i=e[r];if(i===this.rootTarget||ut.isNode(i)&&i.parentNode===t)t=e[r];else break}return t},n.prototype.getCursor=function(e){for(var t=e;t;){var r=Ys(t)&&t.getAttribute("cursor");if(r)return r;t=ut.isNode(t)&&t.parentNode}},n}(),bl=function(){function n(){}return n.prototype.getOrCreateCanvas=function(e,t){if(this.canvas)return this.canvas;if(e||C.offscreenCanvas)this.canvas=e||C.offscreenCanvas,this.context=this.canvas.getContext("2d",Y({willReadFrequently:!0},t));else try{this.canvas=new window.OffscreenCanvas(0,0),this.context=this.canvas.getContext("2d",Y({willReadFrequently:!0},t)),(!this.context||!this.context.measureText)&&(this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"))}catch{this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",Y({willReadFrequently:!0},t))}return this.canvas.width=10,this.canvas.height=10,this.canvas},n.prototype.getOrCreateContext=function(e,t){return this.context?this.context:(this.getOrCreateCanvas(e,t),this.context)},n}(),jt;(function(n){n[n.CAMERA_CHANGED=0]="CAMERA_CHANGED",n[n.DISPLAY_OBJECT_CHANGED=1]="DISPLAY_OBJECT_CHANGED",n[n.NONE=2]="NONE"})(jt||(jt={}));var Al=function(){function n(e,t){this.globalRuntime=e,this.context=t,this.inited=!1,this.stats={total:0,rendered:0},this.zIndexCounter=0,this.hooks={init:new dt,initAsync:new al,dirtycheck:new Cr,cull:new Cr,beginFrame:new dt,beforeRender:new dt,render:new dt,afterRender:new dt,endFrame:new dt,destroy:new dt,pick:new ol,pickSync:new Cr,pointerDown:new dt,pointerUp:new dt,pointerMove:new dt,pointerOut:new dt,pointerOver:new dt,pointerWheel:new dt,pointerCancel:new dt,click:new dt}}return n.prototype.init=function(e){var t=this,r=Y(Y({},this.globalRuntime),this.context);this.context.renderingPlugins.forEach(function(i){i.apply(r,t.globalRuntime)}),this.hooks.init.call(),this.hooks.initAsync.getCallbacksNum()===0?(this.inited=!0,e()):this.hooks.initAsync.promise().then(function(){t.inited=!0,e()})},n.prototype.getStats=function(){return this.stats},n.prototype.disableDirtyRectangleRendering=function(){var e=this.context.config.renderer,t=e.getConfig().enableDirtyRectangleRendering;return!t||this.context.renderingContext.renderReasons.has(jt.CAMERA_CHANGED)},n.prototype.render=function(e,t,r){var i=this;this.stats.total=0,this.stats.rendered=0,this.zIndexCounter=0;var a=this.context.renderingContext;if(this.globalRuntime.sceneGraphService.syncHierarchy(a.root),this.globalRuntime.sceneGraphService.triggerPendingEvents(),a.renderReasons.size&&this.inited){a.dirtyRectangleRenderingDisabled=this.disableDirtyRectangleRendering();var o=a.renderReasons.size===1&&a.renderReasons.has(jt.CAMERA_CHANGED),s=!e.disableRenderHooks||!(e.disableRenderHooks&&o);s&&this.renderDisplayObject(a.root,e,a),this.hooks.beginFrame.call(t),s&&a.renderListCurrentFrame.forEach(function(l){i.hooks.beforeRender.call(l),i.hooks.render.call(l),i.hooks.afterRender.call(l)}),this.hooks.endFrame.call(t),a.renderListCurrentFrame=[],a.renderReasons.clear(),r()}},n.prototype.renderDisplayObject=function(e,t,r){var i=this,a=t.renderer.getConfig(),o=a.enableDirtyCheck,s=a.enableCulling;this.globalRuntime.enableCSSParsing&&this.globalRuntime.styleValueRegistry.recalc(e);var l=e.renderable,u=o?l.dirty||r.dirtyRectangleRenderingDisabled?e:null:e;if(u){var c=s?this.hooks.cull.call(u,this.context.camera):u;c&&(this.stats.rendered++,r.renderListCurrentFrame.push(c))}e.renderable.dirty=!1,e.sortable.renderOrder=this.zIndexCounter++,this.stats.total++;var h=e.sortable;h.dirty&&(this.sort(e,h),h.dirty=!1,h.dirtyChildren=[],h.dirtyReason=void 0),(h.sorted||e.childNodes).forEach(function(p){i.renderDisplayObject(p,t,r)})},n.prototype.sort=function(e,t){t.sorted&&t.dirtyReason!==ve.Z_INDEX_CHANGED?t.dirtyChildren.forEach(function(r){var i=e.childNodes.indexOf(r);if(i===-1){var a=t.sorted.indexOf(r);a>=0&&t.sorted.splice(a,1)}else if(t.sorted.length===0)t.sorted.push(r);else{var o=Xs(t.sorted,r);t.sorted.splice(o,0,r)}}):t.sorted=e.childNodes.slice().sort(_i)},n.prototype.destroy=function(){this.inited=!1,this.hooks.destroy.call(),this.globalRuntime.sceneGraphService.clearPendingEvents()},n.prototype.dirtify=function(){this.context.renderingContext.renderReasons.add(jt.DISPLAY_OBJECT_CHANGED)},n}(),Ml=/\[\s*(.*)=(.*)\s*\]/,Nl=function(){function n(){}return n.prototype.selectOne=function(e,t){var r=this;if(e.startsWith("."))return t.find(function(s){return((s==null?void 0:s.classList)||[]).indexOf(r.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.find(function(s){return s.id===r.getIdOrClassname(e)});if(e.startsWith("[")){var i=this.getAttribute(e),a=i.name,o=i.value;return a?t.find(function(s){return t!==s&&(a==="name"?s.name===o:r.attributeToString(s,a)===o)}):null}else return t.find(function(s){return t!==s&&s.nodeName===e})},n.prototype.selectAll=function(e,t){var r=this;if(e.startsWith("."))return t.findAll(function(s){return t!==s&&((s==null?void 0:s.classList)||[]).indexOf(r.getIdOrClassname(e))>-1});if(e.startsWith("#"))return t.findAll(function(s){return t!==s&&s.id===r.getIdOrClassname(e)});if(e.startsWith("[")){var i=this.getAttribute(e),a=i.name,o=i.value;return a?t.findAll(function(s){return t!==s&&(a==="name"?s.name===o:r.attributeToString(s,a)===o)}):[]}else return t.findAll(function(s){return t!==s&&s.nodeName===e})},n.prototype.is=function(e,t){if(e.startsWith("."))return t.className===this.getIdOrClassname(e);if(e.startsWith("#"))return t.id===this.getIdOrClassname(e);if(e.startsWith("[")){var r=this.getAttribute(e),i=r.name,a=r.value;return i==="name"?t.name===a:this.attributeToString(t,i)===a}else return t.nodeName===e},n.prototype.getIdOrClassname=function(e){return e.substring(1)},n.prototype.getAttribute=function(e){var t=e.match(Ml),r="",i="";return t&&t.length>2&&(r=t[1].replace(/"/g,""),i=t[2].replace(/"/g,"")),{name:r,value:i}},n.prototype.attributeToString=function(e,t){if(!e.getAttribute)return"";var r=e.getAttribute(t);return K(r)?"":r.toString?r.toString():""},n}(),ne=function(n){X(e,n);function e(t,r,i,a,o,s,l,u){var c=n.call(this,null)||this;return c.relatedNode=r,c.prevValue=i,c.newValue=a,c.attrName=o,c.attrChange=s,c.prevParsedValue=l,c.newParsedValue=u,c.type=t,c}return e.ADDITION=2,e.MODIFICATION=1,e.REMOVAL=3,e}(rn),z;(function(n){n.REPARENT="reparent",n.DESTROY="destroy",n.ATTR_MODIFIED="DOMAttrModified",n.INSERTED="DOMNodeInserted",n.REMOVED="removed",n.MOUNTED="DOMNodeInsertedIntoDocument",n.UNMOUNTED="DOMNodeRemovedFromDocument",n.BOUNDS_CHANGED="bounds-changed",n.CULLED="culled"})(z||(z={}));function zn(n){var e=n.renderable;e&&(e.renderBoundsDirty=!0,e.boundsDirty=!0)}var kl=new ne(z.REPARENT,null,"","","",0,"",""),Ol=function(){function n(e){var t=this;this.runtime=e,this.pendingEvents=[],this.boundsChangedEvent=new pt(z.BOUNDS_CHANGED),this.rotate=function(){var r=mt();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=rt(a,o,s));var u=i.transformable;if(i.parentNode===null||!i.parentNode.transformable)t.rotateLocal(i,a);else{var c=mt();We(c,a[0],a[1],a[2]);var h=t.getRotation(i),p=t.getRotation(i.parentNode);ze(r,p),fr(r,r),Re(c,r,c),Re(u.localRotation,c,h),mn(u.localRotation,u.localRotation),l&&t.dirtifyLocal(i,u)}}}(),this.rotateLocal=function(){var r=mt();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=rt(a,o,s));var u=i.transformable;We(r,a[0],a[1],a[2]),En(u.localRotation,u.localRotation,r),l&&t.dirtifyLocal(i,u)}}(),this.setEulerAngles=function(){var r=mt();return function(i,a,o,s,l){o===void 0&&(o=0),s===void 0&&(s=0),l===void 0&&(l=!0),typeof a=="number"&&(a=rt(a,o,s));var u=i.transformable;if(i.parentNode===null||!i.parentNode.transformable)t.setLocalEulerAngles(i,a);else{We(u.localRotation,a[0],a[1],a[2]);var c=t.getRotation(i.parentNode);ze(r,fr(mt(),c)),En(u.localRotation,u.localRotation,r),l&&t.dirtifyLocal(i,u)}}}(),this.translateLocal=function(){return function(r,i,a,o,s){a===void 0&&(a=0),o===void 0&&(o=0),s===void 0&&(s=!0),typeof i=="number"&&(i=rt(i,a,o));var l=r.transformable;xe(i,Z())||(Ma(i,i,l.localRotation),kr(l.localPosition,l.localPosition,i),s&&t.dirtifyLocal(r,l))}}(),this.setPosition=function(){var r=it(),i=Z();return function(a,o,s){s===void 0&&(s=!0);var l=a.transformable;if(i[0]=o[0],i[1]=o[1],i[2]=o[2]||0,!xe(t.getPosition(a),i)){if(Kt(l.position,i),a.parentNode===null||!a.parentNode.transformable)Kt(l.localPosition,i);else{var u=a.parentNode.transformable;Or(r,u.worldTransform),Dt(r,r),te(l.localPosition,i,r)}s&&t.dirtifyLocal(a,l)}}}(),this.setLocalPosition=function(){var r=Z();return function(i,a,o){o===void 0&&(o=!0);var s=i.transformable;r[0]=a[0],r[1]=a[1],r[2]=a[2]||0,!xe(s.localPosition,r)&&(Kt(s.localPosition,r),o&&t.dirtifyLocal(i,s))}}(),this.translate=function(){var r=Z(),i=Z(),a=Z();return function(o,s,l,u,c){l===void 0&&(l=0),u===void 0&&(u=0),c===void 0&&(c=!0),typeof s=="number"&&(s=Ut(i,s,l,u)),!xe(s,r)&&(kr(a,t.getPosition(o),s),t.setPosition(o,a,c))}}(),this.setRotation=function(){var r=mt();return function(i,a,o,s,l,u){u===void 0&&(u=!0);var c=i.transformable;if(typeof a=="number"&&(a=hr(a,o,s,l)),i.parentNode===null||!i.parentNode.transformable)t.setLocalRotation(i,a);else{var h=t.getRotation(i.parentNode);ze(r,h),fr(r,r),Re(c.localRotation,r,a),mn(c.localRotation,c.localRotation),u&&t.dirtifyLocal(i,c)}}},this.displayObjectDependencyMap=new WeakMap,this.calcLocalTransform=function(){var r=it(),i=Z(),a=hr(0,0,0,1);return function(o){var s=o.localSkew[0]!==0||o.localSkew[1]!==0;if(s){if(Je(o.localTransform,o.localRotation,o.localPosition,rt(1,1,1),o.origin),o.localSkew[0]!==0||o.localSkew[1]!==0){var l=ar(r);l[4]=Math.tan(o.localSkew[0]),l[1]=Math.tan(o.localSkew[1]),Vt(o.localTransform,o.localTransform,l)}var u=Je(r,a,i,o.localScale,o.origin);Vt(o.localTransform,o.localTransform,u)}else Je(o.localTransform,o.localRotation,o.localPosition,o.localScale,o.origin)}}()}return n.prototype.matches=function(e,t){return this.runtime.sceneGraphSelector.is(e,t)},n.prototype.querySelector=function(e,t){return this.runtime.sceneGraphSelector.selectOne(e,t)},n.prototype.querySelectorAll=function(e,t){return this.runtime.sceneGraphSelector.selectAll(e,t)},n.prototype.attach=function(e,t,r){var i,a=!1;e.parentNode&&(a=e.parentNode!==t,this.detach(e)),e.parentNode=t,K(r)?e.parentNode.childNodes.push(e):e.parentNode.childNodes.splice(r,0,e);var o=t.sortable;(!((i=o==null?void 0:o.sorted)===null||i===void 0)&&i.length||e.parsedStyle.zIndex)&&(o.dirtyChildren.indexOf(e)===-1&&o.dirtyChildren.push(e),o.dirty=!0,o.dirtyReason=ve.ADDED);var s=e.transformable;s&&this.dirtifyWorld(e,s),s.frozen&&this.unfreezeParentToRoot(e),a&&e.dispatchEvent(kl)},n.prototype.detach=function(e){var t,r;if(e.parentNode){var i=e.transformable,a=e.parentNode.sortable;(!((t=a==null?void 0:a.sorted)===null||t===void 0)&&t.length||!((r=e.style)===null||r===void 0)&&r.zIndex)&&(a.dirtyChildren.indexOf(e)===-1&&a.dirtyChildren.push(e),a.dirty=!0,a.dirtyReason=ve.REMOVED);var o=e.parentNode.childNodes.indexOf(e);o>-1&&e.parentNode.childNodes.splice(o,1),i&&this.dirtifyWorld(e,i),e.parentNode=null}},n.prototype.getOrigin=function(e){return e.getGeometryBounds(),e.transformable.origin},n.prototype.setOrigin=function(e,t,r,i){r===void 0&&(r=0),i===void 0&&(i=0),typeof t=="number"&&(t=[t,r,i]);var a=e.transformable;if(!(t[0]===a.origin[0]&&t[1]===a.origin[1]&&t[2]===a.origin[2])){var o=a.origin;o[0]=t[0],o[1]=t[1],o[2]=t[2]||0,this.dirtifyLocal(e,a)}},n.prototype.setLocalEulerAngles=function(e,t,r,i,a){r===void 0&&(r=0),i===void 0&&(i=0),a===void 0&&(a=!0),typeof t=="number"&&(t=rt(t,r,i));var o=e.transformable;We(o.localRotation,t[0],t[1],t[2]),a&&this.dirtifyLocal(e,o)},n.prototype.scaleLocal=function(e,t,r){r===void 0&&(r=!0);var i=e.transformable;Na(i.localScale,i.localScale,rt(t[0],t[1],t[2]||1)),r&&this.dirtifyLocal(e,i)},n.prototype.setLocalScale=function(e,t,r){r===void 0&&(r=!0);var i=e.transformable,a=rt(t[0],t[1],t[2]||i.localScale[2]);xe(a,i.localScale)||(Kt(i.localScale,a),r&&this.dirtifyLocal(e,i))},n.prototype.setLocalRotation=function(e,t,r,i,a,o){o===void 0&&(o=!0),typeof t=="number"&&(t=hr(t,r,i,a));var s=e.transformable;ze(s.localRotation,t),o&&this.dirtifyLocal(e,s)},n.prototype.setLocalSkew=function(e,t,r){typeof t=="number"&&(t=ka(t,r));var i=e.transformable;Oa(i.localSkew,t),this.dirtifyLocal(e,i)},n.prototype.dirtifyLocal=function(e,t){t.localDirtyFlag||(t.localDirtyFlag=!0,t.dirtyFlag||this.dirtifyWorld(e,t))},n.prototype.dirtifyWorld=function(e,t){t.dirtyFlag||this.unfreezeParentToRoot(e),this.dirtifyWorldInternal(e,t),this.dirtifyToRoot(e,!0)},n.prototype.triggerPendingEvents=function(){var e=this,t=new Set,r=function(i,a){i.isConnected&&!t.has(i.entity)&&(e.boundsChangedEvent.detail=a,e.boundsChangedEvent.target=i,i.isMutationObserved?i.dispatchEvent(e.boundsChangedEvent):i.ownerDocument.defaultView.dispatchEvent(e.boundsChangedEvent,!0),t.add(i.entity))};this.pendingEvents.forEach(function(i){var a=G(i,2),o=a[0],s=a[1];s.affectChildren?o.forEach(function(l){r(l,s)}):r(o,s)}),this.clearPendingEvents(),t.clear()},n.prototype.clearPendingEvents=function(){this.pendingEvents=[]},n.prototype.dirtifyToRoot=function(e,t){t===void 0&&(t=!1);var r=e;for(r.renderable&&(r.renderable.dirty=!0);r;)zn(r),r=r.parentNode;t&&e.forEach(function(i){zn(i)}),this.informDependentDisplayObjects(e),this.pendingEvents.push([e,{affectChildren:t}])},n.prototype.updateDisplayObjectDependency=function(e,t,r,i){if(t&&t!==r){var a=this.displayObjectDependencyMap.get(t);if(a&&a[e]){var o=a[e].indexOf(i);a[e].splice(o,1)}}if(r){var s=this.displayObjectDependencyMap.get(r);s||(this.displayObjectDependencyMap.set(r,{}),s=this.displayObjectDependencyMap.get(r)),s[e]||(s[e]=[]),s[e].push(i)}},n.prototype.informDependentDisplayObjects=function(e){var t=this,r=this.displayObjectDependencyMap.get(e);r&&Object.keys(r).forEach(function(i){r[i].forEach(function(a){t.dirtifyToRoot(a,!0),a.dispatchEvent(new ne(z.ATTR_MODIFIED,a,t,t,i,ne.MODIFICATION,t,t)),a.isCustomElement&&a.isConnected&&a.attributeChangedCallback&&a.attributeChangedCallback(i,t,t)})})},n.prototype.getPosition=function(e){var t=e.transformable;return Mr(t.position,this.getWorldTransform(e,t))},n.prototype.getRotation=function(e){var t=e.transformable;return Nr(t.rotation,this.getWorldTransform(e,t))},n.prototype.getScale=function(e){var t=e.transformable;return tr(t.scaling,this.getWorldTransform(e,t))},n.prototype.getWorldTransform=function(e,t){return t===void 0&&(t=e.transformable),!t.localDirtyFlag&&!t.dirtyFlag||(e.parentNode&&e.parentNode.transformable&&this.getWorldTransform(e.parentNode),this.sync(e,t)),t.worldTransform},n.prototype.getLocalPosition=function(e){return e.transformable.localPosition},n.prototype.getLocalRotation=function(e){return e.transformable.localRotation},n.prototype.getLocalScale=function(e){return e.transformable.localScale},n.prototype.getLocalSkew=function(e){return e.transformable.localSkew},n.prototype.getLocalTransform=function(e){var t=e.transformable;return t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.localTransform},n.prototype.setLocalTransform=function(e,t){var r=Mr(Z(),t),i=Nr(mt(),t),a=tr(Z(),t);this.setLocalScale(e,a,!1),this.setLocalPosition(e,r,!1),this.setLocalRotation(e,i,void 0,void 0,void 0,!1),this.dirtifyLocal(e,e.transformable)},n.prototype.resetLocalTransform=function(e){this.setLocalScale(e,[1,1,1]),this.setLocalPosition(e,[0,0,0]),this.setLocalEulerAngles(e,[0,0,0]),this.setLocalSkew(e,[0,0])},n.prototype.getTransformedGeometryBounds=function(e,t,r){t===void 0&&(t=!1);var i=this.getGeometryBounds(e,t);if(ft.isEmpty(i))return null;var a=r||new ft;return a.setFromTransformedAABB(i,this.getWorldTransform(e)),a},n.prototype.getGeometryBounds=function(e,t){t===void 0&&(t=!1);var r=e.geometry;r.dirty&&C.styleValueRegistry.updateGeometry(e);var i=t?r.renderBounds:r.contentBounds||null;return i||new ft},n.prototype.getBounds=function(e,t){var r=this;t===void 0&&(t=!1);var i=e.renderable;if(!i.boundsDirty&&!t&&i.bounds)return i.bounds;if(!i.renderBoundsDirty&&t&&i.renderBounds)return i.renderBounds;var a=t?i.renderBounds:i.bounds,o=this.getTransformedGeometryBounds(e,t,a),s=e.childNodes;if(s.forEach(function(c){var h=r.getBounds(c,t);h&&(o?o.add(h):(o=a||new ft,o.update(h.center,h.halfExtents)))}),o||(o=new ft),t){var l=Ws(e);if(l){var u=l.parsedStyle.clipPath.getBounds(t);o?u&&(o=u.intersection(o)):o.update(u.center,u.halfExtents)}}return t?(i.renderBounds=o,i.renderBoundsDirty=!1):(i.bounds=o,i.boundsDirty=!1),o},n.prototype.getLocalBounds=function(e){if(e.parentNode){var t=it();e.parentNode.transformable&&(t=Dt(it(),this.getWorldTransform(e.parentNode)));var r=this.getBounds(e);if(!ft.isEmpty(r)){var i=new ft;return i.setFromTransformedAABB(r,t),i}}return this.getBounds(e)},n.prototype.getBoundingClientRect=function(e){var t,r,i,a=this.getGeometryBounds(e);ft.isEmpty(a)||(i=new ft,i.setFromTransformedAABB(a,this.getWorldTransform(e)));var o=(r=(t=e.ownerDocument)===null||t===void 0?void 0:t.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect();if(i){var s=G(i.getMin(),2),l=s[0],u=s[1],c=G(i.getMax(),2),h=c[0],p=c[1];return new ee(l+((o==null?void 0:o.left)||0),u+((o==null?void 0:o.top)||0),h-l,p-u)}return new ee((o==null?void 0:o.left)||0,(o==null?void 0:o.top)||0,0,0)},n.prototype.dirtifyWorldInternal=function(e,t){var r=this;if(!t.dirtyFlag){t.dirtyFlag=!0,t.frozen=!1,e.childNodes.forEach(function(a){var o=a.transformable;o.dirtyFlag||r.dirtifyWorldInternal(a,o)});var i=e.renderable;i&&(i.renderBoundsDirty=!0,i.boundsDirty=!0,i.dirty=!0)}},n.prototype.syncHierarchy=function(e){var t=e.transformable;if(!t.frozen){t.frozen=!0,(t.localDirtyFlag||t.dirtyFlag)&&this.sync(e,t);for(var r=e.childNodes,i=0;i<r.length;i++)this.syncHierarchy(r[i])}},n.prototype.sync=function(e,t){if(t.localDirtyFlag&&(this.calcLocalTransform(t),t.localDirtyFlag=!1),t.dirtyFlag){var r=e.parentNode,i=r&&r.transformable;r===null||!i?Or(t.worldTransform,t.localTransform):Vt(t.worldTransform,i.worldTransform,t.localTransform),t.dirtyFlag=!1}},n.prototype.unfreezeParentToRoot=function(e){for(var t=e.parentNode;t;){var r=t.transformable;r&&(r.frozen=!1),t=t.parentNode}},n}(),$t={MetricsString:"|ÉqÅ",BaselineSymbol:"M",BaselineMultiplier:1.4,HeightMultiplier:2,Newlines:[10,13],BreakingSpaces:[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},Kn=/[a-zA-Z0-9\u00C0-\u00D6\u00D8-\u00f6\u00f8-\u00ff!"#$%&'()*+,-./:;]/,Rl=/[!%),.:;?\]}¢°·'""†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/,Ll=/[$(£¥·'"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/,Il=/[!),.:;?\]}¢·–—'"•"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/,Dl=/[([{£¥'"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/,Gl=/[)\]｝〕〉》」』】〙〗〟'"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/,Fl=/[([｛〔〈《「『【〘〖〝'"｟«—...‥〳〴〵]/,Bl=/[!%),.:;?\]}¢°'"†‡℃〆〈《「『〕！％），．：；？］｝]/,_l=/[$([{£¥'"々〇〉》」〔＄（［｛｠￥￦#]/,Ul=new RegExp("".concat(Rl.source,"|").concat(Il.source,"|").concat(Gl.source,"|").concat(Bl.source)),Vl=new RegExp("".concat(Ll.source,"|").concat(Dl.source,"|").concat(Fl.source,"|").concat(_l.source)),Hl=function(){function n(e){var t=this;this.runtime=e,this.fontMetricsCache={},this.shouldBreakByKinsokuShorui=function(r,i){return t.isBreakingSpace(i)?!1:!!(r&&(Vl.exec(i)||Ul.exec(r)))},this.trimByKinsokuShorui=function(r){var i=$([],G(r),!1),a=i[i.length-2];if(!a)return r;var o=a[a.length-1];return i[i.length-2]=a.slice(0,-1),i[i.length-1]=o+i[i.length-1],i}}return n.prototype.measureFont=function(e,t){if(this.fontMetricsCache[e])return this.fontMetricsCache[e];var r={ascent:0,descent:0,fontSize:0},i=this.runtime.offscreenCanvasCreator.getOrCreateCanvas(t),a=this.runtime.offscreenCanvasCreator.getOrCreateContext(t,{willReadFrequently:!0});a.font=e;var o=$t.MetricsString+$t.BaselineSymbol,s=Math.ceil(a.measureText(o).width),l=Math.ceil(a.measureText($t.BaselineSymbol).width),u=$t.HeightMultiplier*l;l=l*$t.BaselineMultiplier|0,i.width=s,i.height=u,a.fillStyle="#f00",a.fillRect(0,0,s,u),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(o,0,l);var c=a.getImageData(0,0,s||1,u||1).data,h=c.length,p=s*4,d=0,f=0,g=!1;for(d=0;d<l;++d){for(var y=0;y<p;y+=4)if(c[f+y]!==255){g=!0;break}if(!g)f+=p;else break}for(r.ascent=l-d,f=h-p,g=!1,d=u;d>l;--d){for(var y=0;y<p;y+=4)if(c[f+y]!==255){g=!0;break}if(!g)f-=p;else break}return r.descent=d-l,r.fontSize=r.ascent+r.descent,this.fontMetricsCache[e]=r,r},n.prototype.measureText=function(e,t,r){var i=t.fontSize,a=i===void 0?16:i,o=t.wordWrap,s=o===void 0?!1:o,l=t.lineHeight,u=t.lineWidth,c=u===void 0?1:u,h=t.textBaseline,p=h===void 0?"alphabetic":h,d=t.textAlign,f=d===void 0?"start":d,g=t.letterSpacing,y=g===void 0?0:g,m=t.textPath;t.textPathSide,t.textPathStartOffset;var T=t.leading,M=T===void 0?0:T,k=ul(t),E=this.measureFont(k,r);E.fontSize===0&&(E.fontSize=a,E.ascent=a);var v=this.runtime.offscreenCanvasCreator.getOrCreateContext(r);v.font=k,t.isOverflowing=!1;var x=s?this.wordWrap(e,t,r):e,S=x.split(/(?:\r\n|\r|\n)/),w=new Array(S.length),b=0;if(m){m.getTotalLength();for(var P=0;P<S.length;P++)var O=v.measureText(S[P]).width+(S[P].length-1)*y}else{for(var P=0;P<S.length;P++){var I=v.measureText(S[P]).width+(S[P].length-1)*y;w[P]=I,b=Math.max(b,I)}var O=b+c,D=l||E.fontSize+c,F=Math.max(D,E.fontSize+c)+(S.length-1)*(D+M);D+=M;var _=0;return p==="middle"?_=-F/2:p==="bottom"||p==="alphabetic"||p==="ideographic"?_=-F:(p==="top"||p==="hanging")&&(_=0),{font:k,width:O,height:F,lines:S,lineWidths:w,lineHeight:D,maxLineWidth:b,fontProperties:E,lineMetrics:w.map(function(V,H){var lt=0;return f==="center"||f==="middle"?lt-=V/2:(f==="right"||f==="end")&&(lt-=V),new ee(lt-c/2,_+H*D,V+c,D)})}}},n.prototype.setGraphemeOnPath=function(){},n.prototype.wordWrap=function(e,t,r){var i=this,a=t.wordWrapWidth,o=a===void 0?0:a,s=t.letterSpacing,l=s===void 0?0:s,u=t.maxLines,c=u===void 0?1/0:u,h=t.textOverflow,p=this.runtime.offscreenCanvasCreator.getOrCreateContext(r),d=o+l,f="";h==="ellipsis"?f="...":h&&h!=="clip"&&(f=h);for(var g=[],y=0,m=0,T={},M=function(_){return i.getFromCache(_,l,T,p)},k=Array.from(f).reduce(function(_,L){return _+M(L)},0),E=Array.from(e),v=0;v<E.length;v++){var x=E[v],S=e[v-1],w=e[v+1],b=M(x);if(this.isNewline(x)){if(y++,y>=c){t.isOverflowing=!0;break}m=0,g[y]="";continue}if(m>0&&m+b>d){if(y+1>=c){if(t.isOverflowing=!0,k>0&&k<=d){for(var P=g[y].length,O=0,I=P,D=0;D<P;D++){var F=M(g[y][D]);if(O+F+k>d){I=D;break}O+=F}g[y]=(g[y]||"").slice(0,I)+f}break}if(y++,m=0,g[y]="",this.isBreakingSpace(x))continue;this.canBreakInLastChar(x)||(g=this.trimToBreakable(g),m=this.sumTextWidthByCache(g[y]||"",T)),this.shouldBreakByKinsokuShorui(x,w)&&(g=this.trimByKinsokuShorui(g),m+=M(S||""))}m+=b,g[y]=(g[y]||"")+x}return g.join(`
`)},n.prototype.isBreakingSpace=function(e){return typeof e!="string"?!1:$t.BreakingSpaces.indexOf(e.charCodeAt(0))>=0},n.prototype.isNewline=function(e){return typeof e!="string"?!1:$t.Newlines.indexOf(e.charCodeAt(0))>=0},n.prototype.trimToBreakable=function(e){var t=$([],G(e),!1),r=t[t.length-2],i=this.findBreakableIndex(r);if(i===-1||!r)return t;var a=r.slice(i,i+1),o=this.isBreakingSpace(a),s=i+1,l=i+(o?0:1);return t[t.length-1]+=r.slice(s,r.length),t[t.length-2]=r.slice(0,l),t},n.prototype.canBreakInLastChar=function(e){return!(e&&Kn.test(e))},n.prototype.sumTextWidthByCache=function(e,t){return e.split("").reduce(function(r,i){if(!t[i])throw Error("cannot count the word without cache");return r+t[i]},0)},n.prototype.findBreakableIndex=function(e){for(var t=e.length-1;t>=0;t--)if(!Kn.test(e[t]))return t;return-1},n.prototype.getFromCache=function(e,t,r,i){var a=r[e];if(typeof a!="number"){var o=e.length*t;a=i.measureText(e).width+o,r[e]=a}return a},n}(),C={},Yl=function(){var n,e=new xl,t=new El;return n={},n[A.CIRCLE]=new vl,n[A.ELLIPSE]=new gl,n[A.RECT]=e,n[A.IMAGE]=e,n[A.GROUP]=new Tl,n[A.LINE]=new yl,n[A.TEXT]=new Sl(C),n[A.POLYLINE]=t,n[A.POLYGON]=t,n[A.PATH]=new ml,n[A.HTML]=null,n[A.MESH]=null,n}(),Xl=function(){var n,e=new Ms,t=new Hr;return n={},n[R.PERCENTAGE]=null,n[R.NUMBER]=new Ls,n[R.ANGLE]=new bs,n[R.DEFINED_PATH]=new As,n[R.PAINT]=e,n[R.COLOR]=e,n[R.FILTER]=new Ns,n[R.LENGTH]=t,n[R.LENGTH_PERCENTAGE]=t,n[R.LENGTH_PERCENTAGE_12]=new ks,n[R.LENGTH_PERCENTAGE_14]=new Os,n[R.COORDINATE]=new Hr,n[R.OFFSET_DISTANCE]=new Is,n[R.OPACITY_VALUE]=new Ds,n[R.PATH]=new Gs,n[R.LIST_OF_POINTS]=new Fs,n[R.SHADOW_BLUR]=new Bs,n[R.TEXT]=new _s,n[R.TEXT_TRANSFORM]=new Us,n[R.TRANSFORM]=new hl,n[R.TRANSFORM_ORIGIN]=new dl,n[R.Z_INDEX]=new pl,n[R.MARKER]=new Rs,n}(),Wl=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}};C.CameraContribution=So;C.AnimationTimeline=null;C.EasingFunction=null;C.offscreenCanvasCreator=new bl;C.sceneGraphSelector=new Nl;C.sceneGraphService=new Ol(C);C.textService=new Hl(C);C.geometryUpdaterFactory=Yl;C.CSSPropertySyntaxFactory=Xl;C.styleValueRegistry=new Ps(C);C.layoutRegistry=null;C.globalThis=Wl();C.enableCSSParsing=!1;C.enableDataset=!1;C.enableStyleSyntax=!0;C.enableAttributeDashCased=!1;C.enableSizeAttenuation=!1;var zl=0,qn=new ne(z.INSERTED,null,"","","",0,"",""),Zn=new ne(z.REMOVED,null,"","","",0,"",""),Kl=new pt(z.DESTROY),ql=function(n){X(e,n);function e(){var t=n.call(this)||this;return t.entity=zl++,t.renderable={bounds:void 0,boundsDirty:!0,renderBounds:void 0,renderBoundsDirty:!0,dirtyRenderBounds:void 0,dirty:!1},t.cullable={strategy:_r.Standard,visibilityPlaneMask:-1,visible:!0,enable:!0},t.transformable={dirtyFlag:!1,localDirtyFlag:!1,frozen:!1,localPosition:[0,0,0],localRotation:[0,0,0,1],localScale:[1,1,1],localTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],localSkew:[0,0],position:[0,0,0],rotation:[0,0,0,1],scaling:[1,1,1],worldTransform:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],origin:[0,0,0]},t.sortable={dirty:!1,sorted:void 0,renderOrder:0,dirtyChildren:[],dirtyReason:void 0},t.geometry={contentBounds:void 0,renderBounds:void 0,dirty:!0},t.rBushNode={aabb:void 0},t.namespaceURI="g",t.scrollLeft=0,t.scrollTop=0,t.clientTop=0,t.clientLeft=0,t.destroyed=!1,t.style={},t.computedStyle=C.enableCSSParsing?{opacity:Q,fillOpacity:Q,strokeOpacity:Q,fill:Q,stroke:Q,transform:Q,transformOrigin:Q,visibility:Q,pointerEvents:Q,lineWidth:Q,lineCap:Q,lineJoin:Q,increasedLineWidthForHitTesting:Q,fontSize:Q,fontFamily:Q,fontStyle:Q,fontWeight:Q,fontVariant:Q,textAlign:Q,textBaseline:Q,textTransform:Q,zIndex:Q,filter:Q,shadowType:Q}:null,t.parsedStyle={},t.attributes={},t}return Object.defineProperty(e.prototype,"className",{get:function(){return this.getAttribute("class")||""},set:function(t){this.setAttribute("class",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"classList",{get:function(){return this.className.split(" ").filter(function(t){return t!==""})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.nodeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.parentNode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]||null}return null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){if(this.parentNode){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t-1]||null}return null},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){throw new Error(et)},e.prototype.appendChild=function(t,r){var i;if(t.destroyed)throw new Error(xo);return C.sceneGraphService.attach(t,this,r),!((i=this.ownerDocument)===null||i===void 0)&&i.defaultView&&this.ownerDocument.defaultView.mountChildren(t),this.isMutationObserved&&(qn.relatedNode=this,t.dispatchEvent(qn)),t},e.prototype.insertBefore=function(t,r){if(!r)this.appendChild(t);else{t.parentElement&&t.parentElement.removeChild(t);var i=this.childNodes.indexOf(r);i===-1?this.appendChild(t):this.appendChild(t,i)}return t},e.prototype.replaceChild=function(t,r){var i=this.childNodes.indexOf(r);return this.removeChild(r),this.appendChild(t,i),r},e.prototype.removeChild=function(t){var r;return Zn.relatedNode=this,t.dispatchEvent(Zn),!((r=t.ownerDocument)===null||r===void 0)&&r.defaultView&&t.ownerDocument.defaultView.unmountChildren(t),C.sceneGraphService.detach(t),t},e.prototype.removeChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var r=this.childNodes[t];this.removeChild(r)}},e.prototype.destroyChildren=function(){for(var t=this.childNodes.length-1;t>=0;t--){var r=this.childNodes[t];r.childNodes.length&&r.destroyChildren(),r.destroy()}},e.prototype.matches=function(t){return C.sceneGraphService.matches(t,this)},e.prototype.getElementById=function(t){return C.sceneGraphService.querySelector("#".concat(t),this)},e.prototype.getElementsByName=function(t){return C.sceneGraphService.querySelectorAll('[name="'.concat(t,'"]'),this)},e.prototype.getElementsByClassName=function(t){return C.sceneGraphService.querySelectorAll(".".concat(t),this)},e.prototype.getElementsByTagName=function(t){return C.sceneGraphService.querySelectorAll(t,this)},e.prototype.querySelector=function(t){return C.sceneGraphService.querySelector(t,this)},e.prototype.querySelectorAll=function(t){return C.sceneGraphService.querySelectorAll(t,this)},e.prototype.closest=function(t){var r=this;do{if(C.sceneGraphService.matches(t,r))return r;r=r.parentElement}while(r!==null);return null},e.prototype.find=function(t){var r=this,i=null;return this.forEach(function(a){return a!==r&&t(a)?(i=a,!0):!1}),i},e.prototype.findAll=function(t){var r=this,i=[];return this.forEach(function(a){a!==r&&t(a)&&i.push(a)}),i},e.prototype.after=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(this.parentNode){var a=this.parentNode.childNodes.indexOf(this);r.forEach(function(o,s){var l;return(l=t.parentNode)===null||l===void 0?void 0:l.appendChild(o,a+s+1)})}},e.prototype.before=function(){for(var t,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(this.parentNode){var a=this.parentNode.childNodes.indexOf(this),o=G(r),s=o[0],l=o.slice(1);this.parentNode.appendChild(s,a),(t=s).after.apply(t,$([],G(l),!1))}},e.prototype.replaceWith=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.after.apply(this,$([],G(t),!1)),this.remove()},e.prototype.append=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(a){return t.appendChild(a)})},e.prototype.prepend=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r.forEach(function(a,o){return t.appendChild(a,o)})},e.prototype.replaceChildren=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(;this.childNodes.length&&this.firstChild;)this.removeChild(this.firstChild);this.append.apply(this,$([],G(t),!1))},e.prototype.remove=function(){return this.parentNode?this.parentNode.removeChild(this):this},e.prototype.destroy=function(){this.dispatchEvent(Kl),this.remove(),this.emitter.removeAllListeners(),this.destroyed=!0},e.prototype.getGeometryBounds=function(){return C.sceneGraphService.getGeometryBounds(this)},e.prototype.getRenderBounds=function(){return C.sceneGraphService.getBounds(this,!0)},e.prototype.getBounds=function(){return C.sceneGraphService.getBounds(this)},e.prototype.getLocalBounds=function(){return C.sceneGraphService.getLocalBounds(this)},e.prototype.getBoundingClientRect=function(){return C.sceneGraphService.getBoundingClientRect(this)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.computedStyleMap=function(){return new Map(Object.entries(this.computedStyle))},e.prototype.getAttributeNames=function(){return Object.keys(this.attributes)},e.prototype.getAttribute=function(t){if(ko(t))return C.enableCSSParsing?null:void 0;var r=this.attributes[t];if(r===void 0){if(C.enableAttributeDashCased){var i=Gr(t);r=this.attributes[i]}return C.enableCSSParsing&&K(r)?null:r}else return r},e.prototype.hasAttribute=function(t){return this.getAttributeNames().includes(t)},e.prototype.hasAttributes=function(){return!!this.getAttributeNames().length},e.prototype.removeAttribute=function(t){this.setAttribute(t,null),delete this.attributes[t]},e.prototype.setAttribute=function(t,r,i,a){this.attributes[t]=r},e.prototype.getAttributeNS=function(t,r){throw new Error(et)},e.prototype.getAttributeNode=function(t){throw new Error(et)},e.prototype.getAttributeNodeNS=function(t,r){throw new Error(et)},e.prototype.hasAttributeNS=function(t,r){throw new Error(et)},e.prototype.removeAttributeNS=function(t,r){throw new Error(et)},e.prototype.removeAttributeNode=function(t){throw new Error(et)},e.prototype.setAttributeNS=function(t,r,i){throw new Error(et)},e.prototype.setAttributeNode=function(t){throw new Error(et)},e.prototype.setAttributeNodeNS=function(t){throw new Error(et)},e.prototype.toggleAttribute=function(t,r){throw new Error(et)},e}(ut);function W(n){return!!(n!=null&&n.nodeName)}var Qn=C.globalThis.Proxy?C.globalThis.Proxy:function(){},Bt=new ne(z.ATTR_MODIFIED,null,null,null,null,ne.MODIFICATION,null,null),Zl={opacity:"",fillOpacity:"",strokeOpacity:"",fill:"",stroke:"",transform:"",transformOrigin:"",visibility:"",pointerEvents:"",lineWidth:"",lineCap:"",lineJoin:"",increasedLineWidthForHitTesting:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",zIndex:"",filter:"",shadowType:""},Ql={fill:er,stroke:er,transform:[],zIndex:0,filter:[],shadowType:"outer",miterLimit:10},Jl=["opacity","fillOpacity","strokeOpacity","transformOrigin","visibility","pointerEvents","lineWidth","lineCap","lineJoin","increasedLineWidthForHitTesting"],$l=$($([],G(Jl),!1),["fontSize","fontFamily","fontStyle","fontWeight","fontVariant","textAlign","textBaseline","textTransform"],!1),Jn="data-",Nt=function(n){X(e,n);function e(t){var r=n.call(this)||this;return r.isCustomElement=!1,r.isMutationObserved=!1,r.activeAnimations=[],r.config=t,r.id=r.config.id||"",r.name=r.config.name||"",(r.config.className||r.config.class)&&(r.className=r.config.className||r.config.class),r.nodeName=r.config.type||A.GROUP,C.enableCSSParsing?(Object.assign(r.attributes,Zl),Object.assign(r.parsedStyle,Ql,r.config.initialParsedStyle)):r.config.initialParsedStyle&&Object.assign(r.parsedStyle,r.config.initialParsedStyle),r.initAttributes(r.config.style),C.enableDataset&&(r.dataset=new Qn({},{get:function(i,a){var o="".concat(Jn).concat(Rn(a));return i[o]!==void 0?i[o]:r.getAttribute(o)},set:function(i,a,o){return r.setAttribute("".concat(Jn).concat(Rn(a)),o),!0}})),C.enableStyleSyntax&&(r.style=new Qn({setProperty:function(i,a){r.setAttribute(i,a)},getPropertyValue:function(i){return r.getAttribute(i)},removeProperty:function(i){r.removeAttribute(i)},item:function(){return""}},{get:function(i,a){return i[a]!==void 0?i[a]:r.getAttribute(a)},set:function(i,a,o){return r.setAttribute(a,o),!0}})),r}return e.prototype.destroy=function(){n.prototype.destroy.call(this),this.getAnimations().forEach(function(t){t.cancel()})},e.prototype.cloneNode=function(t,r){var i=Y({},this.attributes);for(var a in i){var o=i[a];W(o)&&a!=="clipPath"&&a!=="offsetPath"&&a!=="textPath"&&(i[a]=o.cloneNode(t)),r&&(i[a]=r(a,o))}var s=new this.constructor({id:this.id,name:this.name,className:this.name,interactive:this.interactive,style:i});return s.setLocalTransform(this.getLocalTransform()),t&&this.children.forEach(function(l){if(!l.style.isMarker){var u=l.cloneNode(t);s.appendChild(u)}}),s},e.prototype.initAttributes=function(t){t===void 0&&(t={});var r=this.renderable,i={forceUpdateGeometry:!0};C.enableCSSParsing&&(i.usedAttributes=$l);var a=t;if(C.enableAttributeDashCased){a={};for(var o in t){var s=Gr(o);a[s]=t[o]}}C.styleValueRegistry.processProperties(this,a,i),r.dirty=!0},e.prototype.setAttribute=function(t,r,i,a){i===void 0&&(i=!1),a===void 0&&(a=!0),C.enableAttributeDashCased&&(t=Gr(t)),!j(r)&&(i||r!==this.attributes[t])&&(this.internalSetAttribute(t,r,{memoize:a}),n.prototype.setAttribute.call(this,t,r))},e.prototype.internalSetAttribute=function(t,r,i){var a;i===void 0&&(i={});var o=this.renderable,s=this.attributes[t],l=this.parsedStyle[t];C.styleValueRegistry.processProperties(this,(a={},a[t]=r,a),i),o.dirty=!0;var u=this.parsedStyle[t];this.isConnected&&(Bt.relatedNode=this,Bt.prevValue=s,Bt.newValue=r,Bt.attrName=t,Bt.prevParsedValue=l,Bt.newParsedValue=u,this.isMutationObserved?this.dispatchEvent(Bt):(Bt.target=this,this.ownerDocument.defaultView.dispatchEvent(Bt,!0))),(this.isCustomElement&&this.isConnected||!this.isCustomElement)&&this.attributeChangedCallback&&this.attributeChangedCallback(t,s,r,l,u)},e.prototype.getBBox=function(){var t=this.getBounds(),r=G(t.getMin(),2),i=r[0],a=r[1],o=G(t.getMax(),2),s=o[0],l=o[1];return new ee(i,a,s-i,l-a)},e.prototype.setOrigin=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),C.sceneGraphService.setOrigin(this,Et(t,r,i)),this},e.prototype.getOrigin=function(){return C.sceneGraphService.getOrigin(this)},e.prototype.setPosition=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),C.sceneGraphService.setPosition(this,Et(t,r,i)),this},e.prototype.setLocalPosition=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),C.sceneGraphService.setLocalPosition(this,Et(t,r,i)),this},e.prototype.translate=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),C.sceneGraphService.translate(this,Et(t,r,i)),this},e.prototype.translateLocal=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),C.sceneGraphService.translateLocal(this,Et(t,r,i)),this},e.prototype.getPosition=function(){return C.sceneGraphService.getPosition(this)},e.prototype.getLocalPosition=function(){return C.sceneGraphService.getLocalPosition(this)},e.prototype.scale=function(t,r,i){return this.scaleLocal(t,r,i)},e.prototype.scaleLocal=function(t,r,i){return typeof t=="number"&&(r=r||t,i=i||t,t=Et(t,r,i)),C.sceneGraphService.scaleLocal(this,t),this},e.prototype.setLocalScale=function(t,r,i){return typeof t=="number"&&(r=r||t,i=i||t,t=Et(t,r,i)),C.sceneGraphService.setLocalScale(this,t),this},e.prototype.getLocalScale=function(){return C.sceneGraphService.getLocalScale(this)},e.prototype.getScale=function(){return C.sceneGraphService.getScale(this)},e.prototype.getEulerAngles=function(){var t=G(gr(Z(),C.sceneGraphService.getWorldTransform(this)),3),r=t[2];return At(r)},e.prototype.getLocalEulerAngles=function(){var t=G(gr(Z(),C.sceneGraphService.getLocalRotation(this)),3),r=t[2];return At(r)},e.prototype.setEulerAngles=function(t){return C.sceneGraphService.setEulerAngles(this,0,0,t),this},e.prototype.setLocalEulerAngles=function(t){return C.sceneGraphService.setLocalEulerAngles(this,0,0,t),this},e.prototype.rotateLocal=function(t,r,i){return K(r)&&K(i)?C.sceneGraphService.rotateLocal(this,0,0,t):C.sceneGraphService.rotateLocal(this,t,r,i),this},e.prototype.rotate=function(t,r,i){return K(r)&&K(i)?C.sceneGraphService.rotate(this,0,0,t):C.sceneGraphService.rotate(this,t,r,i),this},e.prototype.setRotation=function(t,r,i,a){return C.sceneGraphService.setRotation(this,t,r,i,a),this},e.prototype.setLocalRotation=function(t,r,i,a){return C.sceneGraphService.setLocalRotation(this,t,r,i,a),this},e.prototype.setLocalSkew=function(t,r){return C.sceneGraphService.setLocalSkew(this,t,r),this},e.prototype.getRotation=function(){return C.sceneGraphService.getRotation(this)},e.prototype.getLocalRotation=function(){return C.sceneGraphService.getLocalRotation(this)},e.prototype.getLocalSkew=function(){return C.sceneGraphService.getLocalSkew(this)},e.prototype.getLocalTransform=function(){return C.sceneGraphService.getLocalTransform(this)},e.prototype.getWorldTransform=function(){return C.sceneGraphService.getWorldTransform(this)},e.prototype.setLocalTransform=function(t){return C.sceneGraphService.setLocalTransform(this,t),this},e.prototype.resetLocalTransform=function(){C.sceneGraphService.resetLocalTransform(this)},e.prototype.getAnimations=function(){return this.activeAnimations},e.prototype.animate=function(t,r){var i,a=(i=this.ownerDocument)===null||i===void 0?void 0:i.timeline;return a?a.play(this,t,r):null},e.prototype.isVisible=function(){var t,r;return C.enableCSSParsing?((t=this.parsedStyle)===null||t===void 0?void 0:t.visibility)==="visible":((r=this.parsedStyle)===null||r===void 0?void 0:r.visibility)!=="hidden"},Object.defineProperty(e.prototype,"interactive",{get:function(){return this.isInteractive()},set:function(t){this.style.pointerEvents=t?"auto":"none"},enumerable:!1,configurable:!0}),e.prototype.isInteractive=function(){var t;return((t=this.parsedStyle)===null||t===void 0?void 0:t.pointerEvents)!=="none"},e.prototype.isCulled=function(){return!!(this.cullable&&this.cullable.enable&&!this.cullable.visible)},e.prototype.toFront=function(){return this.parentNode&&(this.style.zIndex=Math.max.apply(Math,$([],G(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})),!1))+1),this},e.prototype.toBack=function(){return this.parentNode&&(this.style.zIndex=Math.min.apply(Math,$([],G(this.parentNode.children.map(function(t){return Number(t.style.zIndex)})),!1))-1),this},e.prototype.getConfig=function(){return this.config},e.prototype.attr=function(){for(var t=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=G(r,2),o=a[0],s=a[1];return o?Qe(o)?(Object.keys(o).forEach(function(l){t.setAttribute(l,o[l])}),this):r.length===2?(this.setAttribute(o,s),this):this.attributes[o]:this.attributes},e.prototype.getMatrix=function(t){var r=t||this.getWorldTransform(),i=G(Mr(Z(),r),2),a=i[0],o=i[1],s=G(tr(Z(),r),2),l=s[0],u=s[1],c=Nr(mt(),r),h=G(gr(Z(),c),3),p=h[0],d=h[2];return ho(p||d,a,o,l,u)},e.prototype.getLocalMatrix=function(){return this.getMatrix(this.getLocalTransform())},e.prototype.setMatrix=function(t){var r=G(An(t),5),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];this.setEulerAngles(l).setPosition(i,a).setLocalScale(o,s)},e.prototype.setLocalMatrix=function(t){var r=G(An(t),5),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4];this.setLocalEulerAngles(l).setLocalPosition(i,a).setLocalScale(o,s)},e.prototype.show=function(){C.enableCSSParsing?this.style.visibility="visible":this.forEach(function(t){t.style.visibility="visible"})},e.prototype.hide=function(){C.enableCSSParsing?this.style.visibility="hidden":this.forEach(function(t){t.style.visibility="hidden"})},e.prototype.getCount=function(){return this.childElementCount},e.prototype.getParent=function(){return this.parentElement},e.prototype.getChildren=function(){return this.children},e.prototype.getFirst=function(){return this.firstElementChild},e.prototype.getLast=function(){return this.lastElementChild},e.prototype.getChildByIndex=function(t){return this.children[t]||null},e.prototype.add=function(t,r){return this.appendChild(t,r)},e.prototype.set=function(t,r){this.config[t]=r},e.prototype.get=function(t){return this.config[t]},e.prototype.moveTo=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.setPosition(t,r,i),this},e.prototype.move=function(t,r,i){return r===void 0&&(r=0),i===void 0&&(i=0),this.setPosition(t,r,i),this},e.prototype.setZIndex=function(t){return this.style.zIndex=t,this},e}(ql),jl=function(n){X(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Y({type:A.CIRCLE},t))||this}return e}(Nt);(function(n){X(e,n);function e(t){t===void 0&&(t={});var r=this,i=t.style,a=Lt(t,["style"]);return r=n.call(this,Y({style:C.enableCSSParsing?Y({},i):Y({},i)},a))||this,r.isCustomElement=!0,r}return e})(Nt);var tu=function(n){X(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Y({type:A.ELLIPSE},t))||this}return e}(Nt),zr=function(n){X(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Y({type:A.GROUP},t))||this}return e}(Nt),eu=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=this,i=t.style,a=Lt(t,["style"]);return r=n.call(this,Y({type:A.HTML,style:C.enableCSSParsing?Y({x:"",y:"",width:"auto",height:"auto",innerHTML:""},i):Y({},i)},a))||this,r.cullable.enable=!1,r}return e.prototype.getDomElement=function(){return this.parsedStyle.$el},e.prototype.getBoundingClientRect=function(){if(this.parsedStyle.$el)return this.parsedStyle.$el.getBoundingClientRect();var t=this.parsedStyle,r=t.x,i=t.y,a=t.width,o=t.height;return new ee(r,i,a,o)},e.prototype.getClientRects=function(){return[this.getBoundingClientRect()]},e.prototype.getBounds=function(){var t,r,i=this.getBoundingClientRect(),a=(r=(t=this.ownerDocument)===null||t===void 0?void 0:t.defaultView)===null||r===void 0?void 0:r.getContextService().getBoundingClientRect(),o=new ft,s=i.left-((a==null?void 0:a.left)||0),l=i.top-((a==null?void 0:a.top)||0);return o.setMinMax([s,l,0],[s+i.width,l+i.height,0]),o},e.prototype.getLocalBounds=function(){if(this.parentNode){var t=Dt(it(),this.parentNode.getWorldTransform()),r=this.getBounds();if(!ft.isEmpty(r)){var i=new ft;return i.setFromTransformedAABB(r,t),i}}return this.getBounds()},e}(Nt),ru=function(n){X(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Y({type:A.IMAGE},t))||this}return e}(Nt),nu=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=this,i=t.style,a=Lt(t,["style"]);r=n.call(this,Y({type:A.LINE,style:Y({x1:0,y1:0,x2:0,y2:0,z1:0,z2:0},i)},a))||this,r.markerStartAngle=0,r.markerEndAngle=0;var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd;return s&&W(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),l&&W(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(t,r,i,a,o){t==="x1"||t==="y1"||t==="x2"||t==="y2"||t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(a&&W(a)&&(this.markerStartAngle=0,a.remove()),o&&W(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):t==="markerEnd"&&(a&&W(a)&&(this.markerEndAngle=0,a.remove()),o&&W(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1)))},e.prototype.transformMarker=function(t){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=r.x1,u=r.x2,c=r.y1,h=r.y2,p=t?i:a;if(!(!p||!W(p))){var d=0,f,g,y,m,T,M;t?(y=l,m=c,f=u-l,g=h-c,T=o||0,M=this.markerStartAngle):(y=u,m=h,f=l-u,g=c-h,T=s||0,M=this.markerEndAngle),d=Math.atan2(g,f),p.setLocalEulerAngles(d*180/Math.PI+M),p.setLocalPosition(y+Math.cos(d)*T,m+Math.sin(d)*T)}},e.prototype.getPoint=function(t,r){r===void 0&&(r=!1);var i=this.parsedStyle,a=i.x1,o=i.y1,s=i.x2,l=i.y2,u=Ci(a,o,s,l,t),c=u.x,h=u.y,p=te(Z(),rt(c,h,0),r?this.getWorldTransform():this.getLocalTransform());return new ht(p[0],p[1])},e.prototype.getPointAtLength=function(t,r){return r===void 0&&(r=!1),this.getPoint(t/this.getTotalLength(),r)},e.prototype.getTotalLength=function(){var t=this.parsedStyle,r=t.x1,i=t.y1,a=t.x2,o=t.y2;return Ti(r,i,a,o)},e}(Nt),iu=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=this,i=t.style,a=Lt(t,["style"]);r=n.call(this,Y({type:A.PATH,style:C.enableCSSParsing?Y({d:"",miterLimit:""},i):Y({},i),initialParsedStyle:C.enableCSSParsing?null:{miterLimit:4,d:Y({},Mi)}},a))||this,r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&W(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),u&&W(u)&&r.placeMarkerMid(u),l&&W(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(t,r,i,a,o){t==="d"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(a&&W(a)&&(this.markerStartAngle=0,a.remove()),o&&W(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):t==="markerEnd"?(a&&W(a)&&(this.markerEndAngle=0,a.remove()),o&&W(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):t==="markerMid"&&this.placeMarkerMid(o)},e.prototype.transformMarker=function(t){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=t?i:a;if(!(!l||!W(l))){var u=0,c,h,p,d,f,g;if(t){var y=G(this.getStartTangent(),2),m=y[0],T=y[1];p=T[0],d=T[1],c=m[0]-T[0],h=m[1]-T[1],f=o||0,g=this.markerStartAngle}else{var M=G(this.getEndTangent(),2),m=M[0],T=M[1];p=T[0],d=T[1],c=m[0]-T[0],h=m[1]-T[1],f=s||0,g=this.markerEndAngle}u=Math.atan2(h,c),l.setLocalEulerAngles(u*180/Math.PI+g),l.setLocalPosition(p+Math.cos(u)*f,d+Math.sin(u)*f)}},e.prototype.placeMarkerMid=function(t){var r=this.parsedStyle.d.segments;if(this.markerMidList.forEach(function(u){u.remove()}),t&&W(t))for(var i=1;i<r.length-1;i++){var a=G(r[i].currentPoint,2),o=a[0],s=a[1],l=i===1?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(o,s)}},e.prototype.getTotalLength=function(){return In(this)},e.prototype.getPointAtLength=function(t,r){r===void 0&&(r=!1);var i=this.parsedStyle.d.absolutePath,a=wa(i,t),o=a.x,s=a.y,l=te(Z(),rt(o,s,0),r?this.getWorldTransform():this.getLocalTransform());return new ht(l[0],l[1])},e.prototype.getPoint=function(t,r){return r===void 0&&(r=!1),this.getPointAtLength(t*In(this),r)},e.prototype.getStartTangent=function(){var t=this.parsedStyle.d.segments,r=[];if(t.length>1){var i=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;r=[],o?(r.push([i[0]-o[0],i[1]-o[1]]),r.push([i[0],i[1]])):(r.push([a[0],a[1]]),r.push([i[0],i[1]]))}return r},e.prototype.getEndTangent=function(){var t=this.parsedStyle.d.segments,r=t.length,i=[];if(r>1){var a=t[r-2].currentPoint,o=t[r-1].currentPoint,s=t[r-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},e}(Nt),zi=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=this,i=t.style,a=Lt(t,["style"]);r=n.call(this,Y({type:A.POLYGON,style:C.enableCSSParsing?Y({points:"",miterLimit:"",isClosed:!0},i):Y({},i),initialParsedStyle:C.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!0}},a))||this,r.markerStartAngle=0,r.markerEndAngle=0,r.markerMidList=[];var o=r.parsedStyle,s=o.markerStart,l=o.markerEnd,u=o.markerMid;return s&&W(s)&&(r.markerStartAngle=s.getLocalEulerAngles(),r.appendChild(s)),u&&W(u)&&r.placeMarkerMid(u),l&&W(l)&&(r.markerEndAngle=l.getLocalEulerAngles(),r.appendChild(l)),r.transformMarker(!0),r.transformMarker(!1),r}return e.prototype.attributeChangedCallback=function(t,r,i,a,o){t==="points"?(this.transformMarker(!0),this.transformMarker(!1),this.placeMarkerMid(this.parsedStyle.markerMid)):t==="markerStartOffset"||t==="markerEndOffset"?(this.transformMarker(!0),this.transformMarker(!1)):t==="markerStart"?(a&&W(a)&&(this.markerStartAngle=0,a.remove()),o&&W(o)&&(this.markerStartAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!0))):t==="markerEnd"?(a&&W(a)&&(this.markerEndAngle=0,a.remove()),o&&W(o)&&(this.markerEndAngle=o.getLocalEulerAngles(),this.appendChild(o),this.transformMarker(!1))):t==="markerMid"&&this.placeMarkerMid(o)},e.prototype.transformMarker=function(t){var r=this.parsedStyle,i=r.markerStart,a=r.markerEnd,o=r.markerStartOffset,s=r.markerEndOffset,l=r.points,u=(l||{}).points,c=t?i:a;if(!(!c||!W(c)||!u)){var h=0,p,d,f,g,y,m;if(f=u[0][0],g=u[0][1],t)p=u[1][0]-u[0][0],d=u[1][1]-u[0][1],y=o||0,m=this.markerStartAngle;else{var T=u.length;this.parsedStyle.isClosed?(p=u[T-1][0]-u[0][0],d=u[T-1][1]-u[0][1]):(f=u[T-1][0],g=u[T-1][1],p=u[T-2][0]-u[T-1][0],d=u[T-2][1]-u[T-1][1]),y=s||0,m=this.markerEndAngle}h=Math.atan2(d,p),c.setLocalEulerAngles(h*180/Math.PI+m),c.setLocalPosition(f+Math.cos(h)*y,g+Math.sin(h)*y)}},e.prototype.placeMarkerMid=function(t){var r=this.parsedStyle.points,i=(r||{}).points;if(this.markerMidList.forEach(function(u){u.remove()}),this.markerMidList=[],t&&W(t)&&i)for(var a=1;a<(this.parsedStyle.isClosed?i.length:i.length-1);a++){var o=i[a][0],s=i[a][1],l=a===1?t:t.cloneNode(!0);this.markerMidList.push(l),this.appendChild(l),l.setLocalPosition(o,s)}},e}(Nt),au=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=t.style,i=Lt(t,["style"]);return n.call(this,Y({type:A.POLYLINE,style:C.enableCSSParsing?Y({points:"",miterLimit:"",isClosed:!1},r):Y({},r),initialParsedStyle:C.enableCSSParsing?null:{points:{points:[],totalLength:0,segments:[]},miterLimit:4,isClosed:!1}},i))||this}return e.prototype.getTotalLength=function(){return ns(this)},e.prototype.getPointAtLength=function(t,r){return r===void 0&&(r=!1),this.getPoint(t/this.getTotalLength(),r)},e.prototype.getPoint=function(t,r){r===void 0&&(r=!1);var i=this.parsedStyle.points.points;if(this.parsedStyle.points.segments.length===0){var a=[],o=0,s,l,u=this.getTotalLength();i.forEach(function(y,m){i[m+1]&&(s=[0,0],s[0]=o/u,l=Ti(y[0],y[1],i[m+1][0],i[m+1][1]),o+=l,s[1]=o/u,a.push(s))}),this.parsedStyle.points.segments=a}var c=0,h=0;this.parsedStyle.points.segments.forEach(function(y,m){t>=y[0]&&t<=y[1]&&(c=(t-y[0])/(y[1]-y[0]),h=m)});var p=Ci(i[h][0],i[h][1],i[h+1][0],i[h+1][1],c),d=p.x,f=p.y,g=te(Z(),rt(d,f,0),r?this.getWorldTransform():this.getLocalTransform());return new ht(g[0],g[1])},e.prototype.getStartTangent=function(){var t=this.parsedStyle.points.points,r=[];return r.push([t[1][0],t[1][1]]),r.push([t[0][0],t[0][1]]),r},e.prototype.getEndTangent=function(){var t=this.parsedStyle.points.points,r=t.length-1,i=[];return i.push([t[r-1][0],t[r-1][1]]),i.push([t[r][0],t[r][1]]),i},e}(zi),ou=function(n){X(e,n);function e(t){return t===void 0&&(t={}),n.call(this,Y({type:A.RECT},t))||this}return e}(Nt),Ki=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=t.style,i=Lt(t,["style"]);return n.call(this,Y({type:A.TEXT,style:C.enableCSSParsing?Y({x:"",y:"",text:"",fontSize:"",fontFamily:"",fontStyle:"",fontWeight:"",fontVariant:"",textAlign:"",textBaseline:"",textTransform:"",fill:"black",letterSpacing:"",lineHeight:"",miterLimit:"",wordWrap:!1,wordWrapWidth:0,leading:0,dx:"",dy:""},r):Y({fill:"black"},r)},i))||this}return e.prototype.getComputedTextLength=function(){var t;return this.getGeometryBounds(),((t=this.parsedStyle.metrics)===null||t===void 0?void 0:t.maxLineWidth)||0},e.prototype.getLineBoundingRects=function(){var t;return this.getGeometryBounds(),((t=this.parsedStyle.metrics)===null||t===void 0?void 0:t.lineMetrics)||[]},e.prototype.isOverflowing=function(){return this.getGeometryBounds(),!!this.parsedStyle.isOverflowing},e}(Nt),su=function(){function n(){this.registry={},this.define(A.CIRCLE,jl),this.define(A.ELLIPSE,tu),this.define(A.RECT,ou),this.define(A.IMAGE,ru),this.define(A.LINE,nu),this.define(A.GROUP,zr),this.define(A.PATH,iu),this.define(A.POLYGON,zi),this.define(A.POLYLINE,au),this.define(A.TEXT,Ki),this.define(A.HTML,eu)}return n.prototype.define=function(e,t){this.registry[e]=t},n.prototype.get=function(e){return this.registry[e]},n}(),lu=function(n){X(e,n);function e(){var t=n.call(this)||this;t.defaultView=null,t.ownerDocument=null,t.nodeName="document";try{t.timeline=new C.AnimationTimeline(t)}catch{}var r={};return tn.forEach(function(i){var a=i.n,o=i.inh,s=i.d;o&&s&&(r[a]=fe(s)?s(A.GROUP):s)}),t.documentElement=new zr({id:"g-root",style:r}),t.documentElement.ownerDocument=t,t.documentElement.parentNode=t,t.childNodes=[t.documentElement],t}return Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childElementCount",{get:function(){return this.childNodes.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstElementChild",{get:function(){return this.firstChild},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastElementChild",{get:function(){return this.lastChild},enumerable:!1,configurable:!0}),e.prototype.createElement=function(t,r){if(t==="svg")return this.documentElement;var i=this.defaultView.customElements.get(t);i||(console.warn("Unsupported tagName: ",t),i=t==="tspan"?Ki:zr);var a=new i(r);return a.ownerDocument=this,a},e.prototype.createElementNS=function(t,r,i){return this.createElement(r,i)},e.prototype.cloneNode=function(t){throw new Error(et)},e.prototype.destroy=function(){try{this.documentElement.destroyChildren(),this.timeline.destroy()}catch{}},e.prototype.elementsFromBBox=function(t,r,i,a){var o=this.defaultView.context.rBushRoot,s=o.search({minX:t,minY:r,maxX:i,maxY:a}),l=[];return s.forEach(function(u){var c=u.displayObject,h=c.parsedStyle.pointerEvents,p=h===void 0?"auto":h,d=["auto","visiblepainted","visiblefill","visiblestroke","visible"].includes(p);(!d||d&&c.isVisible())&&!c.isCulled()&&c.isInteractive()&&l.push(c)}),l.sort(function(u,c){return c.sortable.renderOrder-u.sortable.renderOrder}),l},e.prototype.elementFromPointSync=function(t,r){var i=this.defaultView.canvas2Viewport({x:t,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,u=s.height;if(a<0||o<0||a>l||o>u)return null;var c=this.defaultView.viewport2Client({x:a,y:o}),h=c.x,p=c.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!0,position:{x:t,y:r,viewportX:a,viewportY:o,clientX:h,clientY:p},picked:[]}).picked;return d&&d[0]||this.documentElement},e.prototype.elementFromPoint=function(t,r){return Le(this,void 0,void 0,function(){var i,a,o,s,l,u,c,h,p,d;return Ie(this,function(f){switch(f.label){case 0:return i=this.defaultView.canvas2Viewport({x:t,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,u=s.height,a<0||o<0||a>l||o>u?[2,null]:(c=this.defaultView.viewport2Client({x:a,y:o}),h=c.x,p=c.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!0,position:{x:t,y:r,viewportX:a,viewportY:o,clientX:h,clientY:p},picked:[]})]);case 1:return d=f.sent().picked,[2,d&&d[0]||this.documentElement]}})})},e.prototype.elementsFromPointSync=function(t,r){var i=this.defaultView.canvas2Viewport({x:t,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,u=s.height;if(a<0||o<0||a>l||o>u)return[];var c=this.defaultView.viewport2Client({x:a,y:o}),h=c.x,p=c.y,d=this.defaultView.getRenderingService().hooks.pickSync.call({topmost:!1,position:{x:t,y:r,viewportX:a,viewportY:o,clientX:h,clientY:p},picked:[]}).picked;return d[d.length-1]!==this.documentElement&&d.push(this.documentElement),d},e.prototype.elementsFromPoint=function(t,r){return Le(this,void 0,void 0,function(){var i,a,o,s,l,u,c,h,p,d;return Ie(this,function(f){switch(f.label){case 0:return i=this.defaultView.canvas2Viewport({x:t,y:r}),a=i.x,o=i.y,s=this.defaultView.getConfig(),l=s.width,u=s.height,a<0||o<0||a>l||o>u?[2,[]]:(c=this.defaultView.viewport2Client({x:a,y:o}),h=c.x,p=c.y,[4,this.defaultView.getRenderingService().hooks.pick.promise({topmost:!1,position:{x:t,y:r,viewportX:a,viewportY:o,clientX:h,clientY:p},picked:[]})]);case 1:return d=f.sent().picked,d[d.length-1]!==this.documentElement&&d.push(this.documentElement),[2,d]}})})},e.prototype.appendChild=function(t,r){throw new Error(se)},e.prototype.insertBefore=function(t,r){throw new Error(se)},e.prototype.removeChild=function(t,r){throw new Error(se)},e.prototype.replaceChild=function(t,r,i){throw new Error(se)},e.prototype.append=function(){throw new Error(se)},e.prototype.prepend=function(){throw new Error(se)},e.prototype.getElementById=function(t){return this.documentElement.getElementById(t)},e.prototype.getElementsByName=function(t){return this.documentElement.getElementsByName(t)},e.prototype.getElementsByTagName=function(t){return this.documentElement.getElementsByTagName(t)},e.prototype.getElementsByClassName=function(t){return this.documentElement.getElementsByClassName(t)},e.prototype.querySelector=function(t){return this.documentElement.querySelector(t)},e.prototype.querySelectorAll=function(t){return this.documentElement.querySelectorAll(t)},e.prototype.find=function(t){return this.documentElement.find(t)},e.prototype.findAll=function(t){return this.documentElement.findAll(t)},e}(ut),uu=function(){function n(e){this.strategies=e}return n.prototype.apply=function(e){var t=e.camera,r=e.renderingService,i=e.renderingContext,a=this.strategies;r.hooks.cull.tap(n.tag,function(o){if(o){var s=o.cullable;return a.length===0?s.visible=i.unculledEntities.indexOf(o.entity)>-1:s.visible=a.every(function(l){return l.isVisible(t,o)}),!o.isCulled()&&o.isVisible()?o:(o.dispatchEvent(new pt(z.CULLED)),null)}return o}),r.hooks.afterRender.tap(n.tag,function(o){o.cullable.visibilityPlaneMask=-1})},n.tag="Culling",n}(),cu=function(){function n(){var e=this;this.autoPreventDefault=!1,this.rootPointerEvent=new Xr(null),this.rootWheelEvent=new Wr(null),this.onPointerMove=function(t){var r,i,a,o,s=(o=(a=e.context.renderingContext.root)===null||a===void 0?void 0:a.ownerDocument)===null||o===void 0?void 0:o.defaultView;if(!(s.supportsTouchEvents&&t.pointerType==="touch")){var l=e.normalizeToPointerEvent(t,s);try{for(var u=zt(l),c=u.next();!c.done;c=u.next()){var h=c.value,p=e.bootstrapEvent(e.rootPointerEvent,h,s,t);e.context.eventService.mapEvent(p)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}e.setCursor(e.context.eventService.cursor)}},this.onClick=function(t){var r,i,a,o,s=(o=(a=e.context.renderingContext.root)===null||a===void 0?void 0:a.ownerDocument)===null||o===void 0?void 0:o.defaultView,l=e.normalizeToPointerEvent(t,s);try{for(var u=zt(l),c=u.next();!c.done;c=u.next()){var h=c.value,p=e.bootstrapEvent(e.rootPointerEvent,h,s,t);e.context.eventService.mapEvent(p)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}e.setCursor(e.context.eventService.cursor)}}return n.prototype.apply=function(e){var t=this;this.context=e;var r=e.renderingService,i=this.context.renderingContext.root.ownerDocument.defaultView;this.context.eventService.setPickHandler(function(a){var o=t.context.renderingService.hooks.pickSync.call({position:a,picked:[],topmost:!0}).picked;return o[0]||null}),r.hooks.pointerWheel.tap(n.tag,function(a){var o=t.normalizeWheelEvent(a);t.context.eventService.mapEvent(o)}),r.hooks.pointerDown.tap(n.tag,function(a){var o,s;if(!(i.supportsTouchEvents&&a.pointerType==="touch")){var l=t.normalizeToPointerEvent(a,i);if(t.autoPreventDefault&&l[0].isNormalized){var u=a.cancelable||!("cancelable"in a);u&&a.preventDefault()}try{for(var c=zt(l),h=c.next();!h.done;h=c.next()){var p=h.value,d=t.bootstrapEvent(t.rootPointerEvent,p,i,a);t.context.eventService.mapEvent(d)}}catch(f){o={error:f}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(o)throw o.error}}t.setCursor(t.context.eventService.cursor)}}),r.hooks.pointerUp.tap(n.tag,function(a){var o,s;if(!(i.supportsTouchEvents&&a.pointerType==="touch")){var l=t.context.contextService.getDomElement(),u=t.context.eventService.isNativeEventFromCanvas(l,a),c=u?"":"outside",h=t.normalizeToPointerEvent(a,i);try{for(var p=zt(h),d=p.next();!d.done;d=p.next()){var f=d.value,g=t.bootstrapEvent(t.rootPointerEvent,f,i,a);g.type+=c,t.context.eventService.mapEvent(g)}}catch(y){o={error:y}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(o)throw o.error}}t.setCursor(t.context.eventService.cursor)}}),r.hooks.pointerMove.tap(n.tag,this.onPointerMove),r.hooks.pointerOver.tap(n.tag,this.onPointerMove),r.hooks.pointerOut.tap(n.tag,this.onPointerMove),r.hooks.click.tap(n.tag,this.onClick),r.hooks.pointerCancel.tap(n.tag,function(a){var o,s,l=t.normalizeToPointerEvent(a,i);try{for(var u=zt(l),c=u.next();!c.done;c=u.next()){var h=c.value,p=t.bootstrapEvent(t.rootPointerEvent,h,i,a);t.context.eventService.mapEvent(p)}}catch(d){o={error:d}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}t.setCursor(t.context.eventService.cursor)})},n.prototype.bootstrapEvent=function(e,t,r,i){e.view=r,e.originalEvent=null,e.nativeEvent=i,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);var a=this.context.eventService.client2Viewport({x:t.clientX,y:t.clientY}),o=a.x,s=a.y;e.viewport.x=o,e.viewport.y=s;var l=this.context.eventService.viewport2Canvas(e.viewport),u=l.x,c=l.y;return e.canvas.x=u,e.canvas.y=c,e.global.copyFrom(e.canvas),e.offset.copyFrom(e.canvas),e.isTrusted=i.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Zs[e.type]||e.type),e},n.prototype.normalizeWheelEvent=function(e){var t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;var r=this.context.eventService.client2Viewport({x:e.clientX,y:e.clientY}),i=r.x,a=r.y;t.viewport.x=i,t.viewport.y=a;var o=this.context.eventService.viewport2Canvas(t.viewport),s=o.x,l=o.y;return t.canvas.x=s,t.canvas.y=l,t.global.copyFrom(t.canvas),t.offset.copyFrom(t.canvas),t.nativeEvent=e,t.type=e.type,t},n.prototype.transferMouseData=function(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Yr.now(),e.type=t.type,e.altKey=t.altKey,e.metaKey=t.metaKey,e.shiftKey=t.shiftKey,e.ctrlKey=t.ctrlKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.screen.x=t.screenX,e.screen.y=t.screenY,e.relatedTarget=null},n.prototype.setCursor=function(e){this.context.contextService.applyCursorStyle(e||this.context.config.cursor||"default")},n.prototype.normalizeToPointerEvent=function(e,t){var r=[];if(t.isTouchEvent(e))for(var i=0;i<e.changedTouches.length;i++){var a=e.changedTouches[i];j(a.button)&&(a.button=0),j(a.buttons)&&(a.buttons=1),j(a.isPrimary)&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),j(a.width)&&(a.width=a.radiusX||1),j(a.height)&&(a.height=a.radiusY||1),j(a.tiltX)&&(a.tiltX=0),j(a.tiltY)&&(a.tiltY=0),j(a.pointerType)&&(a.pointerType="touch"),j(a.pointerId)&&(a.pointerId=a.identifier||0),j(a.pressure)&&(a.pressure=a.force||.5),j(a.twist)&&(a.twist=0),j(a.tangentialPressure)&&(a.tangentialPressure=0),a.isNormalized=!0,a.type=e.type,r.push(a)}else if(t.isMouseEvent(e)){var o=e;j(o.isPrimary)&&(o.isPrimary=!0),j(o.width)&&(o.width=1),j(o.height)&&(o.height=1),j(o.tiltX)&&(o.tiltX=0),j(o.tiltY)&&(o.tiltY=0),j(o.pointerType)&&(o.pointerType="mouse"),j(o.pointerId)&&(o.pointerId=qs),j(o.pressure)&&(o.pressure=.5),j(o.twist)&&(o.twist=0),j(o.tangentialPressure)&&(o.tangentialPressure=0),o.isNormalized=!0,r.push(o)}else r.push(e);return r},n.tag="Event",n}(),fu=[A.CIRCLE,A.ELLIPSE,A.IMAGE,A.RECT,A.LINE,A.POLYLINE,A.POLYGON,A.TEXT,A.PATH,A.HTML],hu=function(){function n(){}return n.prototype.isVisible=function(e,t){var r,i,a=t.cullable;if(!a.enable)return!0;var o=t.getRenderBounds();if(ft.isEmpty(o))return!1;var s=e.getFrustum(),l=(i=(r=t.parentNode)===null||r===void 0?void 0:r.cullable)===null||i===void 0?void 0:i.visibilityPlaneMask;return a.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(t,o,l||Xt.INDETERMINATE,s.planes),a.visible=a.visibilityPlaneMask!==Xt.OUTSIDE,a.visible},n.prototype.computeVisibilityWithPlaneMask=function(e,t,r,i){if(r===Xt.OUTSIDE||r===Xt.INSIDE)return r;for(var a=Xt.INSIDE,o=fu.indexOf(e.nodeName)>-1,s=0,l=i.length;s<l;++s){var u=1<<s;if(r&u&&!(o&&(s===4||s===5))){var c=i[s],h=c.normal,p=c.distance;if(Ht(h,t.getPositiveFarPoint(i[s]))+p<0)return Xt.OUTSIDE;Ht(h,t.getNegativeFarPoint(i[s]))+p<0&&(a|=u)}}return a},n}(),du=function(){function n(){this.toSync=new Set,this.isFirstTimeRendering=!0,this.syncing=!1,this.isFirstTimeRenderingFinished=!1}return n.prototype.apply=function(e){var t=this,r,i=e.renderingService,a=e.renderingContext,o=e.rBushRoot,s=a.root.ownerDocument.defaultView;this.rBush=o;var l=function(d){var f=d.target;f.renderable.dirty=!0,i.dirtify()},u=function(d){var f=d.detail.affectChildren,g=d.target;f&&g.forEach(function(m){t.toSync.add(m)});for(var y=g;y;)y.renderable&&t.toSync.add(y),y=y.parentElement;i.dirtify()},c=function(d){var f=d.target;C.enableSizeAttenuation&&C.styleValueRegistry.updateSizeAttenuation(f,s.getCamera().getZoom()),C.enableCSSParsing&&C.styleValueRegistry.recalc(f),C.sceneGraphService.dirtifyToRoot(f),i.dirtify()},h=function(d){var f=d.target,g=f.rBushNode;g.aabb&&t.rBush.remove(g.aabb),t.toSync.delete(f),C.sceneGraphService.dirtifyToRoot(f),i.dirtify()};i.hooks.init.tap(n.tag,function(){s.addEventListener(z.MOUNTED,c),s.addEventListener(z.UNMOUNTED,h),s.addEventListener(z.ATTR_MODIFIED,l),s.addEventListener(z.BOUNDS_CHANGED,u)}),i.hooks.destroy.tap(n.tag,function(){s.removeEventListener(z.MOUNTED,c),s.removeEventListener(z.UNMOUNTED,h),s.removeEventListener(z.ATTR_MODIFIED,l),s.removeEventListener(z.BOUNDS_CHANGED,u),t.toSync.clear()});var p=(r=C.globalThis.requestIdleCallback)!==null&&r!==void 0?r:en.bind(C.globalThis);i.hooks.endFrame.tap(n.tag,function(){t.isFirstTimeRendering?(t.isFirstTimeRendering=!1,t.syncing=!0,p(function(){t.syncRTree(!0),t.isFirstTimeRenderingFinished=!0})):t.syncRTree()})},n.prototype.syncRTree=function(e){var t=this;if(e===void 0&&(e=!1),!(!e&&(this.syncing||this.toSync.size===0))){this.syncing=!0;var r=[];Array.from(this.toSync).filter(function(i){return i.isConnected}).forEach(function(i){var a=i.rBushNode;a&&a.aabb&&t.rBush.remove(a.aabb);var o=i.getRenderBounds();if(o){var s=i.renderable;e&&(s.dirtyRenderBounds||(s.dirtyRenderBounds=new ft),s.dirtyRenderBounds.update(o.center,o.halfExtents));var l=G(o.getMin(),2),u=l[0],c=l[1],h=G(o.getMax(),2),p=h[0],d=h[1];a.aabb||(a.aabb={}),a.aabb.displayObject=i,a.aabb.minX=u,a.aabb.minY=c,a.aabb.maxX=p,a.aabb.maxY=d}a.aabb&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.maxX)&&!isNaN(a.aabb.minX)&&!isNaN(a.aabb.minY)&&r.push(a.aabb)}),this.rBush.load(r),r.length=0,this.toSync.clear(),this.syncing=!1}},n.tag="Prepare",n}(),Rt;(function(n){n.READY="ready",n.BEFORE_RENDER="beforerender",n.RERENDER="rerender",n.AFTER_RENDER="afterrender",n.BEFORE_DESTROY="beforedestroy",n.AFTER_DESTROY="afterdestroy",n.RESIZE="resize",n.DIRTY_RECTANGLE="dirtyrectangle",n.RENDERER_CHANGED="rendererchanged"})(Rt||(Rt={}));var $n=500,pu=.1,vu=1e3,Pr=new pt(z.MOUNTED),br=new pt(z.UNMOUNTED),jn=new pt(Rt.BEFORE_RENDER),gu=new pt(Rt.RERENDER),ti=new pt(Rt.AFTER_RENDER);(function(n){X(e,n);function e(t){var r=n.call(this)||this;r.Element=Nt,r.inited=!1,r.context={},r.document=new lu,r.document.defaultView=r,r.customElements=new su;var i=t.container,a=t.canvas,o=t.offscreenCanvas,s=t.width,l=t.height,u=t.devicePixelRatio,c=t.renderer,h=t.background,p=t.cursor,d=t.document,f=t.requestAnimationFrame,g=t.cancelAnimationFrame,y=t.createImage,m=t.supportsPointerEvents,T=t.supportsTouchEvents,M=t.supportsCSSTransform,k=t.supportsMutipleCanvasesInOneContainer,E=t.useNativeClickEvent,v=t.alwaysTriggerPointerEventOnCanvas,x=t.isTouchEvent,S=t.isMouseEvent;k||Hs(i,r);var w=s,b=l,P=u;return a&&(P=u||_e&&window.devicePixelRatio||1,P=P>=1?Math.ceil(P):1,w=s||zs(a)||a.width/P,b=l||Ks(a)||a.height/P),o&&(C.offscreenCanvas=o),r.devicePixelRatio=P,r.requestAnimationFrame=f??en.bind(C.globalThis),r.cancelAnimationFrame=g??Yi.bind(C.globalThis),r.supportsTouchEvents=T??"ontouchstart"in C.globalThis,r.supportsPointerEvents=m??!!C.globalThis.PointerEvent,r.isTouchEvent=x??function(O){return r.supportsTouchEvents&&O instanceof C.globalThis.TouchEvent},r.isMouseEvent=S??function(O){return!C.globalThis.MouseEvent||O instanceof C.globalThis.MouseEvent&&(!r.supportsPointerEvents||!(O instanceof C.globalThis.PointerEvent))},r.initRenderingContext({container:i,canvas:a,width:w,height:b,renderer:c,offscreenCanvas:o,devicePixelRatio:P,cursor:p||"default",background:h||"transparent",createImage:y,document:d,supportsCSSTransform:M,useNativeClickEvent:E,alwaysTriggerPointerEventOnCanvas:v}),r.initDefaultCamera(w,b,c.clipSpaceNearZ),r.initRenderer(c,!0),r}return e.prototype.initRenderingContext=function(t){this.context.config=t,this.context.renderingContext={root:this.document.documentElement,renderListCurrentFrame:[],unculledEntities:[],renderReasons:new Set,force:!1,dirty:!1}},e.prototype.initDefaultCamera=function(t,r,i){var a=this,o=new C.CameraContribution;o.clipSpaceNearZ=i,o.setType(tt.EXPLORING,Ge.DEFAULT).setPosition(t/2,r/2,$n).setFocalPoint(t/2,r/2,0).setOrthographic(t/-2,t/2,r/2,r/-2,pu,vu),o.canvas=this,o.eventEmitter.on(bi.UPDATED,function(){a.context.renderingContext.renderReasons.add(jt.CAMERA_CHANGED),C.enableSizeAttenuation&&a.getConfig().renderer.getConfig().enableSizeAttenuation&&a.updateSizeAttenuation()}),this.context.camera=o},e.prototype.updateSizeAttenuation=function(){var t=this.getCamera().getZoom();this.document.documentElement.forEach(function(r){C.styleValueRegistry.updateSizeAttenuation(r,t)})},e.prototype.getConfig=function(){return this.context.config},e.prototype.getRoot=function(){return this.document.documentElement},e.prototype.getCamera=function(){return this.context.camera},e.prototype.getContextService=function(){return this.context.contextService},e.prototype.getEventService=function(){return this.context.eventService},e.prototype.getRenderingService=function(){return this.context.renderingService},e.prototype.getRenderingContext=function(){return this.context.renderingContext},e.prototype.getStats=function(){return this.getRenderingService().getStats()},Object.defineProperty(e.prototype,"ready",{get:function(){var t=this;return this.readyPromise||(this.readyPromise=new Promise(function(r){t.resolveReadyPromise=function(){r(t)}}),this.inited&&this.resolveReadyPromise()),this.readyPromise},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!1),r||this.dispatchEvent(new pt(Rt.BEFORE_DESTROY)),this.frameId){var i=this.getConfig().cancelAnimationFrame||cancelAnimationFrame;i(this.frameId)}var a=this.getRoot();this.unmountChildren(a),t&&(this.document.destroy(),this.getEventService().destroy()),this.getRenderingService().destroy(),this.getContextService().destroy(),t&&this.context.rBushRoot&&(this.context.rBushRoot.clear(),this.context.rBushRoot=null,this.context.renderingContext.root=null),r||this.dispatchEvent(new pt(Rt.AFTER_DESTROY))},e.prototype.changeSize=function(t,r){this.resize(t,r)},e.prototype.resize=function(t,r){var i=this.context.config;i.width=t,i.height=r,this.getContextService().resize(t,r);var a=this.context.camera,o=a.getProjectionMode();a.setPosition(t/2,r/2,$n).setFocalPoint(t/2,r/2,0),o===gt.ORTHOGRAPHIC?a.setOrthographic(t/-2,t/2,r/2,r/-2,a.getNear(),a.getFar()):a.setAspect(t/r),this.dispatchEvent(new pt(Rt.RESIZE,{width:t,height:r}))},e.prototype.appendChild=function(t,r){return this.document.documentElement.appendChild(t,r)},e.prototype.insertBefore=function(t,r){return this.document.documentElement.insertBefore(t,r)},e.prototype.removeChild=function(t){return this.document.documentElement.removeChild(t)},e.prototype.removeChildren=function(){this.document.documentElement.removeChildren()},e.prototype.destroyChildren=function(){this.document.documentElement.destroyChildren()},e.prototype.render=function(t){var r=this;t&&(jn.detail=t,ti.detail=t),this.dispatchEvent(jn);var i=this.getRenderingService();i.render(this.getConfig(),t,function(){r.dispatchEvent(gu)}),this.dispatchEvent(ti)},e.prototype.run=function(){var t=this,r=function(i,a){t.render(a),t.frameId=t.requestAnimationFrame(r)};r()},e.prototype.initRenderer=function(t,r){var i=this;if(r===void 0&&(r=!1),!t)throw new Error("Renderer is required.");this.inited=!1,this.readyPromise=void 0,this.context.rBushRoot=new ao,this.context.renderingPlugins=[],this.context.renderingPlugins.push(new cu,new du,new uu([new hu])),this.loadRendererContainerModule(t),this.context.contextService=new this.context.ContextService(Y(Y({},C),this.context)),this.context.renderingService=new Al(C,this.context),this.context.eventService=new Pl(C,this.context),this.context.eventService.init(),this.context.contextService.init?(this.context.contextService.init(),this.initRenderingService(t,r,!0)):this.context.contextService.initAsync().then(function(){i.initRenderingService(t,r)})},e.prototype.initRenderingService=function(t,r,i){var a=this;r===void 0&&(r=!1),i===void 0&&(i=!1),this.context.renderingService.init(function(){a.inited=!0,r?i?a.requestAnimationFrame(function(){a.dispatchEvent(new pt(Rt.READY))}):a.dispatchEvent(new pt(Rt.READY)):a.dispatchEvent(new pt(Rt.RENDERER_CHANGED)),a.readyPromise&&a.resolveReadyPromise(),r||a.getRoot().forEach(function(o){var s=o.renderable;s&&(s.renderBoundsDirty=!0,s.boundsDirty=!0,s.dirty=!0)}),a.mountChildren(a.getRoot()),t.getConfig().enableAutoRendering&&a.run()})},e.prototype.loadRendererContainerModule=function(t){var r=this,i=t.getPlugins();i.forEach(function(a){a.context=r.context,a.init(C)})},e.prototype.setRenderer=function(t){var r=this.getConfig();if(r.renderer!==t){var i=r.renderer;r.renderer=t,this.destroy(!1,!0),$([],G(i==null?void 0:i.getPlugins()),!1).reverse().forEach(function(a){a.destroy(C)}),this.initRenderer(t)}},e.prototype.setCursor=function(t){var r=this.getConfig();r.cursor=t,this.getContextService().applyCursorStyle(t)},e.prototype.unmountChildren=function(t){var r=this;t.childNodes.forEach(function(i){r.unmountChildren(i)}),this.inited&&(t.isMutationObserved?t.dispatchEvent(br):(br.target=t,this.dispatchEvent(br,!0)),t!==this.document.documentElement&&(t.ownerDocument=null),t.isConnected=!1),t.isCustomElement&&t.disconnectedCallback&&t.disconnectedCallback()},e.prototype.mountChildren=function(t){var r=this;this.inited?t.isConnected||(t.ownerDocument=this.document,t.isConnected=!0,t.isMutationObserved?t.dispatchEvent(Pr):(Pr.target=t,this.dispatchEvent(Pr,!0))):console.warn("[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.","appended child: ",t.nodeName),t.childNodes.forEach(function(i){r.mountChildren(i)}),t.isCustomElement&&t.connectedCallback&&t.connectedCallback()},e.prototype.client2Viewport=function(t){return this.getEventService().client2Viewport(t)},e.prototype.viewport2Client=function(t){return this.getEventService().viewport2Client(t)},e.prototype.viewport2Canvas=function(t){return this.getEventService().viewport2Canvas(t)},e.prototype.canvas2Viewport=function(t){return this.getEventService().canvas2Viewport(t)},e.prototype.getPointByClient=function(t,r){return this.client2Viewport({x:t,y:r})},e.prototype.getClientByPoint=function(t,r){return this.viewport2Client({x:t,y:r})},e})(Wi);var yu=function(){function n(){}return n.prototype.apply=function(e,t){var r=this,i=e.renderingService,a=e.renderingContext,o=e.config;this.context=e;var s=a.root.ownerDocument.defaultView,l=function(v){i.hooks.pointerMove.call(v)},u=function(v){i.hooks.pointerUp.call(v)},c=function(v){i.hooks.pointerDown.call(v)},h=function(v){i.hooks.pointerOver.call(v)},p=function(v){i.hooks.pointerOut.call(v)},d=function(v){i.hooks.pointerCancel.call(v)},f=function(v){i.hooks.pointerWheel.call(v)},g=function(v){i.hooks.click.call(v)},y=function(v){t.globalThis.document.addEventListener("pointermove",l,!0),v.addEventListener("pointerdown",c,!0),v.addEventListener("pointerleave",p,!0),v.addEventListener("pointerover",h,!0),t.globalThis.addEventListener("pointerup",u,!0),t.globalThis.addEventListener("pointercancel",d,!0)},m=function(v){v.addEventListener("touchstart",c,!0),v.addEventListener("touchend",u,!0),v.addEventListener("touchmove",l,!0),v.addEventListener("touchcancel",d,!0)},T=function(v){t.globalThis.document.addEventListener("mousemove",l,!0),v.addEventListener("mousedown",c,!0),v.addEventListener("mouseout",p,!0),v.addEventListener("mouseover",h,!0),t.globalThis.addEventListener("mouseup",u,!0)},M=function(v){t.globalThis.document.removeEventListener("pointermove",l,!0),v.removeEventListener("pointerdown",c,!0),v.removeEventListener("pointerleave",p,!0),v.removeEventListener("pointerover",h,!0),t.globalThis.removeEventListener("pointerup",u,!0)},k=function(v){v.removeEventListener("touchstart",c,!0),v.removeEventListener("touchend",u,!0),v.removeEventListener("touchmove",l,!0),v.removeEventListener("touchcancel",d,!0)},E=function(v){t.globalThis.document.removeEventListener("mousemove",l,!0),v.removeEventListener("mousedown",c,!0),v.removeEventListener("mouseout",p,!0),v.removeEventListener("mouseover",h,!0),t.globalThis.removeEventListener("mouseup",u,!0)};i.hooks.init.tap(n.tag,function(){var v=r.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(v.style.msContentZooming="none",v.style.msTouchAction="none"):s.supportsPointerEvents&&(v.style.touchAction="none"),s.supportsPointerEvents?y(v):T(v),s.supportsTouchEvents&&m(v),o.useNativeClickEvent&&v.addEventListener("click",g,!0),v.addEventListener("wheel",f,{passive:!0,capture:!0})}),i.hooks.destroy.tap(n.tag,function(){var v=r.context.contextService.getDomElement();t.globalThis.navigator.msPointerEnabled?(v.style.msContentZooming="",v.style.msTouchAction=""):s.supportsPointerEvents&&(v.style.touchAction=""),s.supportsPointerEvents?M(v):E(v),s.supportsTouchEvents&&k(v),o.useNativeClickEvent&&v.removeEventListener("click",g,!0),v.removeEventListener("wheel",f,!0)})},n.tag="DOMInteraction",n}(),mu=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.name="dom-interaction",t}return e.prototype.init=function(){this.addRenderingPlugin(new yu)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(or),Eu=function(){function n(){}return n.prototype.apply=function(e,t){var r=this,i=e.config.document,a=e.renderingService,o=e.svgElementMap;a.hooks.pick.tapPromise(n.tag,function(s){return Le(r,void 0,void 0,function(){return Ie(this,function(l){return[2,this.pick(o,i,s)]})})}),a.hooks.pickSync.tap(n.tag,function(s){return r.pick(o,i,s)})},n.prototype.pick=function(e,t,r){var i,a,o=r.topmost,s=r.position,l=s.clientX,u=s.clientY;try{var c=[];try{for(var h=zt((t||document).elementsFromPoint(l,u)),p=h.next();!p.done;p=h.next()){var d=p.value;if(d.shadowRoot&&d.shadowRoot!==t)return this.pick(e,d.shadowRoot,r);var f=e.get(d);if(f&&f.isInteractive()&&(c.push(f),o))return r.picked=c,r}}catch(g){i={error:g}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}r.picked=c}catch{r.picked=[]}return r},n.tag="SVGPicker",n}(),xu=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.name="svg-picker",t}return e.prototype.init=function(){this.addRenderingPlugin(new Eu)},e.prototype.destroy=function(){this.removeAllRenderingPlugins()},e}(or),Su=function(){function n(){}return n.tag="c-svg-element",n}();function Tu(n,e){var t=e.src,r=t===void 0?"":t,i=e.x,a=i===void 0?0:i,o=e.y,s=o===void 0?0:o,l=e.width,u=e.height;if(n.setAttribute("x","".concat(a)),n.setAttribute("y","".concat(s)),xt(r))n.setAttribute("href",r);else if(r instanceof Image)l||n.setAttribute("width","".concat(r.width)),u||n.setAttribute("height","".concat(r.height)),n.setAttribute("href",r.src);else if(r instanceof HTMLElement&&xt(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",r.toDataURL());else if(r instanceof ImageData){var c=document.createElement("canvas");c.setAttribute("width","".concat(r.width)),c.setAttribute("height","".concat(r.height));var h=c.getContext("2d");h&&(h.putImageData(r,0,0),l||n.setAttribute("width","".concat(r.width)),u||n.setAttribute("height","".concat(r.height)),n.setAttribute("href",c.toDataURL()))}}function Cu(n,e){var t=e.x1,r=e.y1,i=e.x2,a=e.y2,o=e.markerStart,s=e.markerEnd,l=e.markerStartOffset,u=e.markerEndOffset,c=0,h=0,p=0,d=0,f=0,g,y;o&&W(o)&&l&&(g=i-t,y=a-r,f=Math.atan2(y,g),c=Math.cos(f)*(l||0),h=Math.sin(f)*(l||0)),s&&W(s)&&u&&(g=t-i,y=r-a,f=Math.atan2(y,g),p=Math.cos(f)*(u||0),d=Math.sin(f)*(u||0)),n.setAttribute("x1","".concat(t+c)),n.setAttribute("y1","".concat(r+h)),n.setAttribute("x2","".concat(i+p)),n.setAttribute("y2","".concat(a+d))}function wu(n,e){var t=e.d,r=e.markerStart,i=e.markerEnd,a=e.markerStartOffset,o=e.markerEndOffset,s=0,l=0,u=0,c=0,h=0,p,d;if(r&&W(r)&&a){var f=G(r.parentNode.getStartTangent(),2),g=f[0],y=f[1];p=g[0]-y[0],d=g[1]-y[1],h=Math.atan2(d,p),s=Math.cos(h)*(a||0),l=Math.sin(h)*(a||0)}if(i&&W(i)&&o){var m=G(i.parentNode.getEndTangent(),2),g=m[0],y=m[1];p=g[0]-y[0],d=g[1]-y[1],h=Math.atan2(d,p),u=Math.cos(h)*(o||0),c=Math.sin(h)*(o||0)}n.setAttribute("d",cs(t.absolutePath,s,l,u,c))}function Pu(n,e){var t=e.points.points,r=e.markerStart,i=e.markerStartOffset,a=e.markerEnd,o=e.markerEndOffset,s=t.length;if(t&&s>=2){var l=0,u=0,c=0,h=0,p=0,d=void 0,f=void 0;r&&W(r)&&i&&(d=t[1][0]-t[0][0],f=t[1][1]-t[0][1],p=Math.atan2(f,d),l=Math.cos(p)*(i||0),u=Math.sin(p)*(i||0)),a&&W(a)&&o&&(d=t[s-2][0]-t[s-1][0],f=t[s-2][1]-t[s-1][1],p=Math.atan2(f,d),c=Math.cos(p)*(o||0),h=Math.sin(p)*(o||0)),n.setAttribute("points",t.map(function(g,y){var m=0,T=0;return y===0?(m=l,T=u):y===s-1&&(m=c,T=h),"".concat(g[0]+m,",").concat(g[1]+T)}).join(" "))}}function bu(n,e){var t=e.radius,r=e.x,i=r===void 0?0:r,a=e.y,o=a===void 0?0:a,s=e.width,l=e.height;if(!(!isFinite(s)||!isFinite(l))){var u=t&&t.some(function(M){return M!==0}),c="";if(!u)c="M ".concat(i,",").concat(o," l ").concat(s,",0 l 0,").concat(l," l").concat(-s," 0 z");else{var h=G(t.map(function(M){return De(M,0,Math.min(Math.abs(s)/2,Math.abs(l)/2))}),4),p=h[0],d=h[1],f=h[2],g=h[3],y=s>0?1:-1,m=l>0?1:-1,T=y+m!==0?1:0;c=[["M ".concat(y*p+i,",").concat(o)],["l ".concat(s-y*(p+d),",0")],["a ".concat(d,",").concat(d,",0,0,").concat(T,",").concat(y*d,",").concat(m*d)],["l 0,".concat(l-m*(d+f))],["a ".concat(f,",").concat(f,",0,0,").concat(T,",").concat(-y*f,",").concat(m*f)],["l ".concat(y*(f+g)-s,",0")],["a ".concat(g,",").concat(g,",0,0,").concat(T,",").concat(-y*g,",").concat(-m*g)],["l 0,".concat(m*(g+p)-l)],["a ".concat(p,",").concat(p,",0,0,").concat(T,",").concat(y*p,",").concat(-m*p)],["z"]].join(" ")}n.setAttribute("d",c)}}function U(n,e){return(e||document).createElementNS("http://www.w3.org/2000/svg",n)}var qi="g-filter-";function Au(n,e,t,r,i){var a=qi+t.entity,o=e.querySelectorAll("[name=".concat(a,"]"));if(o.length&&o.forEach(function(l){e.removeChild(l)}),i.length===0)r==null||r.removeAttribute("filter");else{var s=i.map(function(l,u){var c=l.name,h=l.params,p=U("filter",n);return p.setAttribute("filterUnits","userSpaceOnUse"),c==="blur"?Mu(n,p,h):c==="brightness"?Ou(n,p,h):c==="drop-shadow"?Iu(n,p,h):c==="contrast"?Nu(n,p,h):c==="grayscale"?Du(n,p,h):c==="sepia"?Gu(n,p,h):c==="saturate"?Ru(n,p,h):c==="hue-rotate"?Lu(n,p,h):c==="invert"&&ku(n,p,h),p.id="".concat(a,"-").concat(u),p.setAttribute("name",a),e.appendChild(p),p.id});setTimeout(function(){r==null||r.setAttribute("filter",s.map(function(l){return"url(#".concat(l,")")}).join(" "))})}}function me(n){return n.unit===N.kPercentage?n.value/100:n.value}function Mu(n,e,t){var r=U("feGaussianBlur",n);r.setAttribute("in","SourceGraphic"),r.setAttribute("stdDeviation","".concat(t[0].value)),e.appendChild(r)}function nn(n,e,t){var r=t.type,i=t.slope,a=t.intercept,o=t.tableValues,s=U("feComponentTransfer",n);[U("feFuncR",n),U("feFuncG",n),U("feFuncB",n)].forEach(function(l){l.setAttribute("type",r),r==="table"?l.setAttribute("tableValues","".concat(o)):(l.setAttribute("slope","".concat(i)),l.setAttribute("intercept","".concat(a))),s.appendChild(l)}),e.appendChild(s)}function Nu(n,e,t){var r=me(t[0]);nn(n,e,{type:"linear",slope:r,intercept:-(.5*r)+.5})}function ku(n,e,t){var r=me(t[0]);nn(n,e,{type:"table",tableValues:"".concat(r," ").concat(1-r)})}function Ou(n,e,t){var r=me(t[0]);nn(n,e,{type:"linear",slope:r,intercept:0})}function Ru(n,e,t){var r=me(t[0]),i=U("feColorMatrix",n);i.setAttribute("type","saturate"),i.setAttribute("values","".concat(r)),e.appendChild(i)}function Lu(n,e,t){var r=U("feColorMatrix",n);r.setAttribute("type","hueRotate"),r.setAttribute("values","".concat(t[0].value)),e.appendChild(r)}function Iu(n,e,t){var r=t[0].value,i=t[1].value,a=t[2].value,o=t[3].formatted,s=U("feGaussianBlur",n);s.setAttribute("in","SourceAlpha"),s.setAttribute("stdDeviation","".concat(a)),e.appendChild(s);var l=U("feOffset",n);l.setAttribute("dx","".concat(r)),l.setAttribute("dy","".concat(i)),l.setAttribute("result","offsetblur"),e.appendChild(l);var u=U("feFlood",n);u.setAttribute("flood-color",o),e.appendChild(u);var c=U("feComposite",n);c.setAttribute("in2","offsetblur"),c.setAttribute("operator","in"),e.appendChild(c);var h=U("feMerge",n);e.appendChild(h);var p=U("feMergeNode",n),d=U("feMergeNode",n);d.setAttribute("in","SourceGraphic"),h.appendChild(p),h.appendChild(d)}function Zi(n,e,t){var r=U("feColorMatrix",n);r.setAttribute("type","matrix"),r.setAttribute("values",t.join(" ")),e.appendChild(r)}function Du(n,e,t){var r=me(t[0]);Zi(n,e,[.2126+.7874*(1-r),.7152-.7152*(1-r),.0722-.0722*(1-r),0,0,.2126-.2126*(1-r),.7152+.2848*(1-r),.0722-.0722*(1-r),0,0,.2126-.2126*(1-r),.7152-.7152*(1-r),.0722+.9278*(1-r),0,0,0,0,0,1,0])}function Gu(n,e,t){var r=me(t[0]);Zi(n,e,[.393+.607*(1-r),.769-.769*(1-r),.189-.189*(1-r),0,0,.349-.349*(1-r),.686+.314*(1-r),.168-.168*(1-r),0,0,.272-.272*(1-r),.534-.534*(1-r),.131+.869*(1-r),0,0,0,0,0,1,0])}var Fu="g-pattern-",je={},Kr=0;function Bu(){Kr=0,je={}}function _u(n,e,t,r,i,a,o,s){if(!i)return"";if(Fe(i))t.style[a]==="currentColor"?r==null||r.setAttribute(a,"currentColor"):r==null||r.setAttribute(a,i.isNone?"none":i.toString());else if(lr(i)){var l=Vu(n,e,t,i,o,s);return r.style[a]="url(#".concat(l,")"),l}else if(i.length===1){var u=Ji(n,t,e,r,i[0]);return r==null||r.setAttribute(a,"url(#".concat(u,")")),u}else{var c=Hu(n,t,e,r,i);return r==null||r.setAttribute("filter","url(#".concat(c,")")),r==null||r.setAttribute("fill","black"),c}return""}function Qi(n,e){e===void 0&&(e={});var t="";if(Qo(n)){var r=n.type,i=n.value;if(r===Gt.LinearGradient||r===Gt.RadialGradient){var a=Y(Y({},i),e),o=a.type,s=a.x,l=a.y,u=a.width,c=a.height,h=a.steps,p=a.angle,d=a.cx,f=a.cy,g=a.size;t="gradient-".concat(o,"-").concat((s==null?void 0:s.toString())||0,"-").concat((l==null?void 0:l.toString())||0,"-").concat((p==null?void 0:p.toString())||0,"-").concat((d==null?void 0:d.toString())||0,"-").concat((f==null?void 0:f.toString())||0,"-").concat((g==null?void 0:g.toString())||0,"-").concat(u,"-").concat(c,"-").concat(h.map(function(y){var m=y.offset,T=y.color;return"".concat(m).concat(T)}).join("-"))}}else lr(n)&&(xt(n.image)?t="pattern-".concat(n.image,"-").concat(n.repetition):n.image.nodeName==="rect"?t="pattern-rect-".concat(n.image.entity):t="pattern-".concat(Kr));return t&&(je[t]||(je[t]=Fu+"".concat(Kr++))),je[t]}function Uu(n){return jr(n).map(function(e){var t=e.t,r=e.d;if(t==="translate")return"translate(".concat(r[0].value," ").concat(r[1].value,")");if(t==="translatex")return"translate(".concat(r[0].value," 0)");if(t==="translatey")return"translate(0 ".concat(r[0].value,")");if(t==="rotate")return"rotate(".concat(r[0].value,")");if(t==="scale"){var i=(r==null?void 0:r.map(function(d){return d.value}))||[1,1];return"scale(".concat(i[0],", ").concat(i[1],")")}else if(t==="scalex"){var i=(r==null?void 0:r.map(function(f){return f.value}))||[1];return"scale(".concat(i[0],", 1)")}else if(t==="scaley"){var i=(r==null?void 0:r.map(function(f){return f.value}))||[1];return"scale(1, ".concat(i[0],")")}else if(t==="skew"){var a=(r==null?void 0:r.map(function(d){return d.value}))||[0,0];return"skewX(".concat(a[0],") skewY(").concat(a[1],")")}else if(t==="skewx"){var a=(r==null?void 0:r.map(function(f){return f.value}))||[0];return"skewX(".concat(a[0],")")}else if(t==="skewy"){var a=(r==null?void 0:r.map(function(f){return f.value}))||[0];return"skewY(".concat(a[0],")")}else if(t==="matrix"){var o=G(r.map(function(d){return d.value}),6),s=o[0],l=o[1],u=o[2],c=o[3],h=o[4],p=o[5];return"matrix(".concat(s," ").concat(l," ").concat(u," ").concat(c," ").concat(h," ").concat(p,")")}}).join(" ")}function ei(n,e,t,r,i,a,o){var s=r.repetition,l=r.transform,u=U("pattern",n);l&&u.setAttribute("patternTransform",Uu(l)),u.setAttribute("patternUnits","userSpaceOnUse"),u.id=i,e.appendChild(u);var c=t.getGeometryBounds(),h=c.halfExtents,p=c.min;u.setAttribute("x","".concat(p[0])),u.setAttribute("y","".concat(p[1]));var d=a,f=o;return s==="repeat-x"?f=h[1]*2:s==="repeat-y"?d=h[0]*2:s==="no-repeat"&&(d=h[0]*2,f=h[1]*2),u.setAttribute("width","".concat(d)),u.setAttribute("height","".concat(f)),u}function Vu(n,e,t,r,i,a){var o=Qi(r),s=e.querySelector("#".concat(o));if(!s){var l=r.image,u="";if(xt(l)?u=l:_e&&(l instanceof HTMLImageElement?u=l.src:l instanceof HTMLCanvasElement&&(u=l.toDataURL())),u){var c=U("image",n);c.setAttribute("href",u);var h;i?h=i(u):_e&&(h=new window.Image),u.match(/^data:/i)||(h.crossOrigin="Anonymous",c.setAttribute("crossorigin","anonymous")),h.src=u;var p=function(){var T=ei(n,e,t,r,o,h.width,h.height);e.appendChild(T),T.appendChild(c),c.setAttribute("x","0"),c.setAttribute("y","0"),c.setAttribute("width","".concat(h.width)),c.setAttribute("height","".concat(h.height))};h.complete?p():h.onload=p}if(l.nodeName==="rect"){var d=l.parsedStyle,f=d.width,g=d.height,y=ei(n,e,l,r,o,f,g);l.forEach(function(T){a.createSVGDom(n,T,null);var M=T.elementSVG,k=T.getLocalTransform();a.applyTransform(M.$groupEl,k)});var m=l.elementSVG;y.appendChild(m.$groupEl)}}return o}function Ji(n,e,t,r,i){var a=e.getGeometryBounds(),o=a&&a.halfExtents[0]*2||0,s=a&&a.halfExtents[1]*2||0,l=a&&a.min||[0,0],u=Qi(i,{x:l[0],y:l[1],width:o,height:s}),c=t.querySelector("#".concat(u));if(!c){c=U(i.type===Gt.LinearGradient?"linearGradient":"radialGradient",n),c.setAttribute("gradientUnits","userSpaceOnUse");var h="";i.value.steps.sort(function(b,P){return b.offset.value-P.offset.value}).forEach(function(b){var P=b.offset,O=b.color;h+='<stop offset="'.concat(P.value/100,'" stop-color="').concat(O,'"></stop>')}),c.innerHTML=h,c.id=u,t.appendChild(c)}if(i.type===Gt.LinearGradient){var p=i.value.angle,d=Bo([l[0],l[1]],o,s,p),f=d.x1,g=d.y1,y=d.x2,m=d.y2;c.setAttribute("x1","".concat(f)),c.setAttribute("y1","".concat(g)),c.setAttribute("x2","".concat(y)),c.setAttribute("y2","".concat(m))}else{var T=i.value,M=T.cx,k=T.cy,E=T.size,v=_o([l[0],l[1]],o,s,M,k,E),x=v.x,S=v.y,w=v.r;c.setAttribute("cx","".concat(x)),c.setAttribute("cy","".concat(S)),c.setAttribute("r","".concat(w))}return u}function Hu(n,e,t,r,i){var a=qi+e.entity+"-gradient",o=t.querySelector("#".concat(a));o||(o=U("filter",n),o.setAttribute("filterUnits","userSpaceOnUse"),o.setAttribute("x","0%"),o.setAttribute("y","0%"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.id=a,t.appendChild(o));var s=0;i.forEach(function(u,c){var h=Ji(n,e,t,r,u),p=h+"_rect",d=U("rect",n);d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("fill","url(#".concat(h,")")),d.id=p,t.appendChild(d);var f=U("feImage",n);if(f.setAttribute("href","#".concat(p)),f.setAttribute("result","".concat(a,"-").concat(c)),o.appendChild(f),c>0){var g=U("feBlend",n);g.setAttribute("in",c===1?"".concat(a,"-").concat(c-1):"".concat(a,"-blended-").concat(s-1)),g.setAttribute("in2","".concat(a,"-").concat(c)),g.setAttribute("result","".concat(a,"-blended-").concat(s++)),g.setAttribute("mode","multiply"),o.appendChild(g)}});var l=U("feComposite",n);return l.setAttribute("in","".concat(a,"-blended-").concat(s)),l.setAttribute("in2","SourceGraphic"),l.setAttribute("operator","in"),o.appendChild(l),a}var Yu="g-filter-dropshadow-";function Xu(n,e,t,r,i){var a=t.parsedStyle,o=a.shadowType,s=o===void 0?"outer":o,l=a.shadowBlur,u=a.shadowColor,c=a.shadowOffsetX,h=a.shadowOffsetY,p=!K(u)&&l>0,d=Yu+t.entity,f=e.querySelector("#".concat(d));if(f){var g=f.getAttribute("data-type");(g!==s||!p)&&(f.remove(),f=null)}if(p)r==null||r.setAttribute("filter","url(#".concat(d,")"));else{r==null||r.removeAttribute("filter");return}if(!f){if(f=U("filter",n),f.setAttribute("data-type",s),s==="outer"){var y=U("feDropShadow",n);y.setAttribute("dx","".concat((c||0)/2)),y.setAttribute("dy","".concat((h||0)/2)),y.setAttribute("stdDeviation","".concat((l||0)/4)),y.setAttribute("flood-color",u.toString()),f.appendChild(y)}else if(s==="inner"){var m=U("feComponentTransfer",n);m.setAttribute("in","SourceAlpha");var T=U("feFuncA",n);T.setAttribute("type","table"),T.setAttribute("tableValues","1 0"),m.appendChild(T),f.appendChild(m);var M=U("feGaussianBlur",n);M.setAttribute("stdDeviation","".concat((l||0)/4)),f.appendChild(M);var k=U("feOffset",n);k.setAttribute("dx","".concat((c||0)/2)),k.setAttribute("dy","".concat((h||0)/2)),k.setAttribute("result","offsetblur"),f.appendChild(k);var E=U("feFlood",n);E.setAttribute("flood-color",u.toString()),E.setAttribute("result","color"),f.appendChild(E);var v=U("feComposite",n);v.setAttribute("in2","offsetblur"),v.setAttribute("operator","in"),f.appendChild(v);var x=U("feComposite",n);x.setAttribute("in2","SourceAlpha"),x.setAttribute("operator","in"),f.appendChild(x);var S=U("feMerge",n);f.appendChild(S);var w=U("feMergeNode",n);w.setAttribute("in","SourceGraphic");var b=U("feMergeNode",n);S.appendChild(w),S.appendChild(b)}f.id=d,f.setAttribute("filterUnits","userSpaceOnUse"),e.appendChild(f);return}if(s==="inner"){var M=f.children[1],k=f.children[2],E=f.children[3];i==="shadowColor"?E.setAttribute("flood-color",u.toString()):i==="shadowBlur"?M.setAttribute("stdDeviation","".concat((l||0)/4)):i==="shadowOffsetX"?k.setAttribute("dx","".concat((c||0)/2)):i==="shadowOffsetY"&&k.setAttribute("dy","".concat((h||0)/2))}else if(s==="outer"){var y=f.children[0];i==="shadowColor"?y.setAttribute("flood-color",u.toString()):i==="shadowBlur"?y.setAttribute("stdDeviation","".concat((l||0)/4)):i==="shadowOffsetX"?y.setAttribute("dx","".concat((c||0)/2)):i==="shadowOffsetY"&&y.setAttribute("dy","".concat((h||0)/2))}}var Wu=/url\("?#(.*)\)/,zu=function(){function n(e){this.context=e,this.gradientCache={}}return n.prototype.getDefElement=function(){return this.$def},n.prototype.init=function(){var e=this.context.config.document,t=this.context.contextService.getContext();this.$def=U("defs",e),t.appendChild(this.$def)},n.prototype.clear=function(e){var t=this;Object.keys(this.gradientCache).forEach(function(r){t.clearUnusedDefElement(t.gradientCache,r,e)})},n.prototype.clearUnusedDefElement=function(e,t,r){if(e[t]&&e[t].size===1&&e[t].has(r)){var i=this.$def.querySelector("#".concat(t));i&&this.$def.removeChild(i)}},n.prototype.createOrUpdateGradientAndPattern=function(e,t,r,i,a){var o=this.context.config,s=o.document,l=o.createImage;if(t){var u="";lr(r)?u=t.style[i]:u=t.getAttribute(i)||"";var c=u.match(Wu);c&&c.length>1&&this.clearUnusedDefElement(this.gradientCache,c[1].replace('"',""),e.entity);var h=_u(s||document,this.$def,e,t,r,i,l,a);h&&(this.gradientCache[h]||(this.gradientCache[h]=new Set),this.gradientCache[h].add(e.entity))}},n.prototype.createOrUpdateShadow=function(e,t,r){var i=this.context.config.document;Xu(i||document,this.$def,e,t,r)},n.prototype.createOrUpdateFilter=function(e,t,r){var i=this.context.config.document;Au(i||document,this.$def,e,t,r)},n}();function le(n){return n.toFixed(6).replace(".000000","")}function ri(n){var e=/[&|<|>|"|']/g;return n.replace(e,function(t){return t==="&"?"&amp;":t==="<"?"&lt;":t===">"?"&gt;":t==='"'?"&quot;":"&apos;"})}var Ku={opacity:"opacity",fillStyle:"fill",fill:"fill",fillRule:"fill-rule",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",clipPath:"clip-path",textPath:"text-path",r:"r",cx:"cx",cy:"cy",rx:"rx",ry:"ry",x:"x",y:"y",width:"width",height:"height",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",letterSpacing:"letter-spacing",startArrow:"marker-start",endArrow:"marker-end",class:"class",id:"id",preserveAspectRatio:"preserveAspectRatio",visibility:"visibility",shadowColor:"flood-color",shadowBlur:"stdDeviation",shadowOffsetX:"dx",shadowOffsetY:"dy",filter:"filter",innerHTML:"innerHTML",textAlign:"text-anchor",pointerEvents:"pointer-events"},qu={textAlign:{inherit:"inherit",left:"left",start:"left",center:"middle",right:"end",end:"end"}},Ar={textAlign:"inherit",lineCap:"butt",lineJoin:"miter",lineWidth:"1px",opacity:"1",fillOpacity:"1",fillRule:"nonzero",strokeOpacity:"1",strokeWidth:"0",strokeMiterLimit:"4",letterSpacing:"0",fontSize:"inherit",fontFamily:"inherit",pointerEvents:"auto",transform:"matrix(1,0,0,1,0,0)"},ni="g-svg",ii="clip-path-",$i="text-path-",Zu=function(){function n(e,t,r){this.pluginOptions=e,this.defElementManager=t,this.context=r,this.svgElementMap=new WeakMap,this.renderQueue=[],this.dirtyAttributes=new WeakMap,this.pendingReorderQueue=new Set,this.clipPathUseMap=new WeakMap}return n.prototype.apply=function(e){var t=this,r=e.renderingService,i=e.renderingContext;this.context=e,this.context.svgElementMap=this.svgElementMap;var a=i.root.ownerDocument.defaultView,o=this.context.config.document,s=function(d){var f=d.target,g=t.clipPathUseMap.get(f);if(g){var y=t.defElementManager.getDefElement(),m=y.querySelector("#".concat(t.getId(f)));m&&m.remove()}t.createSVGDom(o,f,t.$camera)},l=function(d){var f=d.target;t.defElementManager.clear(f.entity),t.clipPathUseMap.delete(f),t.removeSVGDom(f)},u=function(d){var f,g,y=d.parentNode,m=(g=(f=d.parentNode)===null||f===void 0?void 0:f.elementSVG)===null||g===void 0?void 0:g.$groupEl,T=((y==null?void 0:y.children)||[]).slice();m&&t.reorderChildren(o,m,T)},c=function(d){var f=d.target;u(f)},h=function(d){var f=d.target;if(f.elementSVG){var g=d.attrName,y=t.dirtyAttributes.get(f);y||(t.dirtyAttributes.set(f,[]),y=t.dirtyAttributes.get(f)),y.push(g)}},p=function(d){var f,g=d.target,y=(f=g.elementSVG)===null||f===void 0?void 0:f.$el,m=g.parsedStyle,T=m.fill,M=m.stroke,k=m.clipPath;if(T&&!Fe(T)&&t.defElementManager.createOrUpdateGradientAndPattern(g,y,T,"fill",t),M&&!Fe(M)&&t.defElementManager.createOrUpdateGradientAndPattern(g,y,M,"stroke",t),k){var E=Dt(it(),g.getWorldTransform()),v=ii+k.entity+"-"+g.entity,x=t.defElementManager.getDefElement(),S=x.querySelector("#".concat(v));S&&t.applyTransform(S,E)}};r.hooks.init.tap(n.tag,function(){var d=t.context.config,f=d.background,g=d.document;t.defElementManager.init();var y=t.context.contextService.getContext();f&&(y.style.background=f),y.setAttribute("color-interpolation-filters","sRGB"),t.$camera=U("g",g),t.$camera.id="".concat(ni,"-camera"),t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),y.appendChild(t.$camera),a.addEventListener(z.MOUNTED,s),a.addEventListener(z.UNMOUNTED,l),a.addEventListener(z.REPARENT,c),a.addEventListener(z.ATTR_MODIFIED,h),a.addEventListener(z.BOUNDS_CHANGED,p)}),r.hooks.destroy.tap(n.tag,function(){a.removeEventListener(z.MOUNTED,s),a.removeEventListener(z.UNMOUNTED,l),a.removeEventListener(z.REPARENT,c),a.removeEventListener(z.ATTR_MODIFIED,h),a.removeEventListener(z.BOUNDS_CHANGED,p),Bu()}),r.hooks.render.tap(n.tag,function(d){t.renderQueue.push(d)}),r.hooks.beginFrame.tap(n.tag,function(){var d=t.context.config.document;t.pendingReorderQueue.size&&(t.pendingReorderQueue.forEach(function(f){var g,y=((f==null?void 0:f.children)||[]).slice(),m=(g=f==null?void 0:f.elementSVG)===null||g===void 0?void 0:g.$groupEl;m&&t.reorderChildren(d||o,m,y||[])}),t.pendingReorderQueue.clear())}),r.hooks.endFrame.tap(n.tag,function(){i.renderReasons.has(jt.CAMERA_CHANGED)&&t.applyTransform(t.$camera,t.context.camera.getOrthoMatrix()),t.renderQueue.forEach(function(d){var f,g,y=(f=d.elementSVG)===null||f===void 0?void 0:f.$el,m=(g=d.elementSVG)===null||g===void 0?void 0:g.$groupEl;if(y&&m){var T=d.getLocalTransform();t.applyTransform(m,T);var M=t.clipPathUseMap.get(d);M&&M.length&&M.forEach(function(E){t.applyTransform(E,d.getWorldTransform())}),d.renderable.dirty=!1}var k=t.dirtyAttributes.get(d);k&&(k.forEach(function(E){E==="zIndex"?u(d):E==="increasedLineWidthForHitTesting"&&t.createOrUpdateHitArea(d,y,m),t.updateAttribute(d,[E])}),t.dirtyAttributes.delete(d))}),t.renderQueue=[]})},n.prototype.getId=function(e){return e.id||"".concat(ni,"-").concat(e.entity)},n.prototype.reorderChildren=function(e,t,r){if(r.sort(function(a,o){return a.sortable.renderOrder-o.sortable.renderOrder}),r.length){var i=(e||document).createDocumentFragment();r.forEach(function(a){if(a.isConnected){var o=a.elementSVG.$groupEl;o&&i.appendChild(o)}}),t.appendChild(i)}},n.prototype.applyTransform=function(e,t){var r="matrix(".concat(le(t[0]),",").concat(le(t[1]),",").concat(le(t[4]),",").concat(le(t[5]),",").concat(le(t[12]),",").concat(le(t[13]),")");r!==e.getAttribute("transform")&&e.setAttribute("transform",r),r===Ar.transform&&e.removeAttribute("transform")},n.prototype.applyAttributes=function(e){var t=e.elementSVG,r=t==null?void 0:t.$el,i=t==null?void 0:t.$groupEl;if(r&&i){var a=e.nodeName,o=e.attributes;a!==A.HTML&&r.setAttribute("fill","none"),a===A.IMAGE&&r.setAttribute("preserveAspectRatio","none"),this.updateAttribute(e,Object.keys(o))}},n.prototype.updateAttribute=function(e,t){var r=this,i=this.context.enableCSSParsing,a=this.context.config.document,o=e.elementSVG,s=o.$el,l=o.$groupEl,u=o.$hitTestingEl,c=e.parsedStyle,h=e.computedStyle,p=e.nodeName,d=t.some(function(f){return r.context.SVGElementLifeCycleContribution.shouldUpdateElementAttribute(e,f)});d&&s&&[s,u].forEach(function(f){f&&r.context.SVGElementLifeCycleContribution.updateElementAttribute(e,f,r.svgElementMap)}),t.forEach(function(f){var g,y,m=Ku[f],T=i?h[f]:c[f],M=!K(T)&&T.toString(),k=((g=qu[f])===null||g===void 0?void 0:g[M])||M,E=c[f],v=m&&!!(!((y=_t[f])===null||y===void 0)&&y.inh);if(p===A.HTML)f==="fill"?s.style.background=E.toString():f==="stroke"?(s.style["border-color"]=E.toString(),s.style["border-style"]="solid"):f==="lineWidth"?s.style["border-width"]="".concat(E||0,"px"):f==="lineDash"?s.style["border-style"]="dashed":f==="innerHTML"?r.createOrUpdateInnerHTML(a,s,E):f==="width"||f==="height"||f==="class"?s.setAttribute(f,E.toString()):!K(e.style[f])&&e.style[f]!==""&&(s.style[f]=e.style[f]);else{if(!m||(p===A.GROUP||e.isCustomElement)&&!i&&(v||m==="fill"||m==="stroke"))return;f==="fill"||f==="stroke"?r.defElementManager.createOrUpdateGradientAndPattern(e,s,E,m,r):i&&v?M!=="unset"&&M!==Ar[f]?l==null||l.setAttribute(m,k):l==null||l.removeAttribute(m):f==="clipPath"?r.createOrUpdateClipOrTextPath(a,E,e):f==="textPath"?r.createOrUpdateClipOrTextPath(a,E,e,!0):f==="shadowType"||f==="shadowColor"||f==="shadowBlur"||f==="shadowOffsetX"||f==="shadowOffsetY"?r.defElementManager.createOrUpdateShadow(e,s,f):f==="filter"?r.defElementManager.createOrUpdateFilter(e,s,E):K(T)||[s,u].forEach(function(x){x&&m&&(M!=="unset"&&M!==Ar[f]?x.setAttribute(m,k):x.removeAttribute(m))})}})},n.prototype.createSVGDom=function(e,t,r,i){var a;i===void 0&&(i=!1),t.elementSVG=new Su;var o=t.elementSVG,s=this.context.SVGElementLifeCycleContribution.createElement(t,this.svgElementMap);if(s){var l=void 0;t.nodeName===A.HTML&&(t.parsedStyle.$el=s),this.pluginOptions.outputSVGElementId&&(s.id=this.getId(t)),this.pluginOptions.outputSVGElementName&&t.name&&s.setAttribute("name",t.name),(s.hasAttribute("data-wrapgroup")||s.nodeName!=="g")&&!i?(l=U("g",e),l.appendChild(s)):l=s,o.$el=s,o.$groupEl=l,this.applyAttributes(t),this.createOrUpdateHitArea(t,s,l);var u=r||t.parentNode&&((a=t.parentNode.elementSVG)===null||a===void 0?void 0:a.$groupEl);u&&(u.appendChild(l),this.pendingReorderQueue.add(t.parentNode))}},n.prototype.removeSVGDom=function(e){var t,r=(t=e.elementSVG)===null||t===void 0?void 0:t.$groupEl;r&&r.parentNode&&(r.parentNode.removeChild(r),this.context.SVGElementLifeCycleContribution.destroyElement(e,r))},n.prototype.createOrUpdateHitArea=function(e,t,r){var i=e.elementSVG,a=i.$hitTestingEl,o=Number(e.parsedStyle.increasedLineWidthForHitTesting);if(o){if(!a){a=t.cloneNode(),["filter"].forEach(function(l){a.removeAttribute(l)});var s=t.getAttribute("fill")!=="none";a.setAttribute("fill",s?"transparent":"none"),a.setAttribute("stroke","transparent"),r.appendChild(a),i.$hitTestingEl=a,this.svgElementMap.set(a,e)}a.setAttribute("stroke-width","".concat(o+e.parsedStyle.lineWidth))}else a&&(r.removeChild(a),i.$hitTestingEl=null)},n.prototype.createOrUpdateInnerHTML=function(e,t,r){var i=(e||document).createElement("div");typeof r=="string"?i.innerHTML=r:i.appendChild(r),t.innerHTML="",t.appendChild(i)},n.prototype.createOrUpdateClipOrTextPath=function(e,t,r,i){i===void 0&&(i=!1);var a=r.elementSVG.$groupEl,o=i?$i:ii,s=i?"g":"clipPath",l=i?"text-path":"clip-path";if(t){var u=o+t.entity+"-"+r.entity,c=this.defElementManager.getDefElement(),h=c.querySelector("#".concat(u));if(!h){var p=void 0;if(i)this.createSVGDom(e,t,null,!0),p=t.elementSVG.$el;else{if(!t.isConnected){var d=c.querySelector("#".concat(this.getId(t)));d||this.createSVGDom(e,t,c,!0)}p=U(s,e);var f=U("use",e);f.setAttribute("href","#".concat(t.elementSVG.$el.id)),p.appendChild(f);var g=this.clipPathUseMap.get(t);g||(this.clipPathUseMap.set(t,[]),g=this.clipPathUseMap.get(t)),g.push(f),this.applyTransform(f,t.getWorldTransform());var y=Dt(it(),r.getWorldTransform());this.applyTransform(p,y)}this.pluginOptions.outputSVGElementId&&(p.id=u),c.appendChild(p)}this.applyAttributes(t),i||a.setAttribute(l,"url(#".concat(u,")"))}else i||a.removeAttribute(l)},n.tag="SVGRenderer",n}(),ai={top:"hanging",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",ideographic:"ideographic",hanging:"hanging"};function Qu(n,e,t,r){t.getBounds();var i=e.lineWidth,a=i===void 0?1:i,o=e.x,s=o===void 0?0:o,l=e.y,u=l===void 0?0:l,c=e.dx,h=c===void 0?0:c,p=e.dy,d=p===void 0?0:p,f=e.textPath,g=e.textPathSide,y=g===void 0?"left":g,m=e.textPathStartOffset,T=m===void 0?0:m,M=e.textDecorationLine,k=M===void 0?"":M,E=e.textDecorationColor,v=E===void 0?"":E,x=e.textDecorationStyle,S=x===void 0?"":x,w=e.metrics,b=e.textBaseline,P=b===void 0?"alphabetic":b;!r.enableCSSParsing&&P==="alphabetic"&&(P="bottom"),n.setAttribute("dominant-baseline",ai[P]),n.setAttribute("paint-order","stroke");var O=w.lines,I=w.lineHeight,D=w.height,F=O.length,_="";if((h!==0||d!==0)&&(_+="transform:translate(".concat(h,"px, ").concat(d,"px);")),k&&k!=="none"&&(_+="text-decoration:".concat(k," ").concat(S," ").concat(v,";")),_&&n.setAttribute("style",_),s!==0&&n.setAttribute("x","".concat(s)),u!==0&&n.setAttribute("y","".concat(u)),F===1){var L=ri(O[0]);if(n.setAttribute("dx","".concat(a/2)),(P==="bottom"||P==="top")&&(n.setAttribute("dominant-baseline",ai.middle),n.setAttribute("dy",P==="bottom"?"-".concat(D/2,"px"):"".concat(D/2,"px"))),f){n.innerHTML="";var V=U("textPath",n.ownerDocument);V.setAttribute("href","#".concat($i+f.entity)),y!=="left"&&V.setAttribute("side",y),T!==0&&V.setAttribute("startOffset","".concat(T)),V.innerHTML=L,n.appendChild(V)}else n.innerHTML=L}else n.innerHTML=O.map(function(H,lt){var bt=a/2,Tt=0;return lt===0?P==="middle"?Tt=I/2-D/2:P==="top"||P==="hanging"?Tt=0:(P==="bottom"||P==="alphabetic"||P==="ideographic")&&(Tt=-I*(F-1)):Tt=I,"<tspan x=".concat(s,' dx="').concat(bt,'" dy="').concat(Tt,'">').concat(ri(H),"</tspan>")}).join("")}var Ct,Ot,Ju=(Ct={},Ct[A.RECT]="path",Ct[A.CIRCLE]="circle",Ct[A.ELLIPSE]="ellipse",Ct[A.IMAGE]="image",Ct[A.GROUP]="g",Ct[A.LINE]="line",Ct[A.POLYLINE]="polyline",Ct[A.POLYGON]="polygon",Ct[A.TEXT]="text",Ct[A.PATH]="path",Ct[A.HTML]="foreignObject",Ct),$u=(Ot={},Ot[A.CIRCLE]=["cx","cy","r"],Ot[A.ELLIPSE]=["cx","cy","rx","ry"],Ot[A.RECT]=["x","y","width","height","radius"],Ot[A.IMAGE]=["x","y","src","width","height"],Ot[A.LINE]=["x1","y1","x2","y2","markerStart","markerEnd","markerStartOffset","markerEndOffset"],Ot[A.POLYLINE]=["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],Ot[A.POLYGON]=["points","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],Ot[A.PATH]=["d","markerStart","markerEnd","markerMid","markerStartOffset","markerEndOffset"],Ot[A.TEXT]=["text","font","fontSize","fontFamily","fontStyle","fontWeight","fontVariant","lineHeight","letterSpacing","wordWrap","wordWrapWidth","maxLines","leading","textBaseline","textAlign","textTransform","textOverflow","textPath","textPathSide","textPathStartOffset","textDecorationLine","textDecorationColor","textDecorationStyle","dx","dy"],Ot),ju=function(){function n(e,t){this.context=e,this.runtime=t}return n.prototype.createElement=function(e,t){var r=this.context.config.document,i=Ju[e.nodeName]||"g",a=U(i,r||document);return t.set(a,e),a},n.prototype.destroyElement=function(e,t){},n.prototype.shouldUpdateElementAttribute=function(e,t){var r=e.nodeName;return($u[r]||[]).indexOf(t)>-1},n.prototype.updateElementAttribute=function(e){var t=e.elementSVG.$el,r=e.nodeName,i=e.parsedStyle;switch(r){case A.IMAGE:{Tu(t,i);break}case A.RECT:{bu(t,i);break}case A.LINE:{Cu(t,i);break}case A.POLYGON:case A.POLYLINE:{Pu(t,i);break}case A.PATH:{wu(t,i);break}case A.TEXT:{Qu(t,i,e,this.runtime);break}}},n}(),tc=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=n.call(this)||this;return r.options=t,r.name="svg-renderer",r}return e.prototype.init=function(t){var r=this.options,i=r.outputSVGElementId,a=r.outputSVGElementName,o=new zu(this.context),s=new ju(this.context,t);this.context.defaultElementLifeCycleContribution=s,this.context.SVGElementLifeCycleContribution=s;var l={outputSVGElementId:K(i)?!0:!!i,outputSVGElementName:K(a)?!0:!!a};this.addRenderingPlugin(new Zu(l,o,this.context))},e.prototype.destroy=function(){this.removeAllRenderingPlugins(),delete this.context.defaultElementLifeCycleContribution,delete this.context.SVGElementLifeCycleContribution},e}(or),ec=function(){function n(e){this.context=e,this.canvasConfig=e.config}return n.prototype.init=function(){var e=this.canvasConfig,t=e.container,r=e.document,i=e.devicePixelRatio;if(this.$container=xt(t)?(r||document).getElementById(t):t,this.$container){this.$container.style.position||(this.$container.style.position="relative");var a=U("svg",r);a.setAttribute("width","".concat(this.canvasConfig.width)),a.setAttribute("height","".concat(this.canvasConfig.height)),this.$container.appendChild(a),this.$namespace=a}var o=i||_e&&window.devicePixelRatio||1;o=o>=1?Math.ceil(o):1,this.dpr=o},n.prototype.getDomElement=function(){return this.$namespace},n.prototype.getContext=function(){return this.$namespace},n.prototype.getDPR=function(){return this.dpr},n.prototype.getBoundingClientRect=function(){var e;return(e=this.$namespace)===null||e===void 0?void 0:e.getBoundingClientRect()},n.prototype.destroy=function(){this.$container&&this.$namespace&&this.$namespace.parentNode&&this.$container.removeChild(this.$namespace)},n.prototype.resize=function(e,t){this.$namespace&&(this.$namespace.setAttribute("width","".concat(e)),this.$namespace.setAttribute("height","".concat(t)))},n.prototype.applyCursorStyle=function(e){this.$container&&(this.$container.style.cursor=e)},n.prototype.generateCSSText=function(e,t,r,i,a){a===void 0&&(a={});var o=i.duration,s=i.easing,l=i.delay,u=i.direction,c=i.iterations,h=i.fill;return"@keyframes ".concat(e,"{").concat(r.map(function(p){p.offset,p.composite;var d=p.computedOffset;p.easing;var f=Lt(p,["offset","composite","computedOffset","easing"]),g=Object.keys(f).map(function(y){return"".concat(y,":").concat(a[y]||"").concat(f[y],";")}).join("");return"".concat(d*100,"%{").concat(g,"}")}).join(""),"}")+"".concat(t," {animation: ").concat(e," ").concat(o,"ms ").concat(s," ").concat(l,"ms ").concat(c===1/0?"infinite":c," ").concat(u," ").concat(h,";}")},n.prototype.toDataURL=function(e){return Le(this,void 0,void 0,function(){var t,r,i,a,o,s,l=this;return Ie(this,function(u){return t=this.$namespace.cloneNode(!0),r=this.canvasConfig.document,i=0,a=null,this.context.renderingContext.root.forEach(function(c){var h=c.getAnimations();if(h.length){a||(a=(r||document).createElement("style"),t.appendChild(a));var p=c.elementSVG,d="#".concat(p.$el.id),f="#".concat(p.$groupEl.id),g="",y="";h.forEach(function(m){var T=m.effect.getKeyframes();if(T.length){var M=[],k=[],E=T[0];E.offset,E.composite,E.computedOffset,E.easing,E.transformOrigin;var v=Lt(E,["offset","composite","computedOffset","easing","transformOrigin"]);if(Object.keys(v).forEach(function(w){var b;w==="transform"&&k.push(w);var P=!!(!((b=_t[w])===null||b===void 0)&&b.inh);P?k.push(w):w!=="transform"&&M.push(w)}),k.length){var x=T.map(function(w){var b=w.offset,P=w.composite,O=w.computedOffset,I=w.easing;w.transformOrigin;var D=Lt(w,["offset","composite","computedOffset","easing","transformOrigin"]),F={offset:b,composite:P,computedOffset:O,easing:I};return Object.keys(D).forEach(function(_){k.includes(_)&&(F[_]=w[_])}),F});y+=l.generateCSSText("a".concat(i++),f,x,m.effect.getComputedTiming(),{transform:p.$groupEl.getAttribute("transform")})}if(M.length){var S=T.map(function(w){var b=w.offset,P=w.composite,O=w.computedOffset,I=w.easing;w.transformOrigin;var D=Lt(w,["offset","composite","computedOffset","easing","transformOrigin"]),F={offset:b,composite:P,computedOffset:O,easing:I};return Object.keys(D).forEach(function(_){M.includes(_)&&(F[_]=w[_])}),F});g+=l.generateCSSText("a".concat(i++),d,S,m.effect.getComputedTiming())}}}),a.textContent+=g+y}}),o=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),s=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",o),s.replaceChild(t,s.documentElement),[2,"data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(s)))]})})},n}(),rc=function(n){X(e,n);function e(){var t=n.apply(this,$([],G(arguments),!1))||this;return t.name="svg-context-register",t}return e.prototype.init=function(){this.context.ContextService=ec},e.prototype.destroy=function(){delete this.context.ContextService},e}(or),nc=function(n){X(e,n);function e(t){t===void 0&&(t={});var r=n.call(this,t)||this;return r.registerPlugin(new rc),r.registerPlugin(new tc({outputSVGElementId:t.outputSVGElementId})),r.registerPlugin(new mu),r.registerPlugin(new xu),r}return e}(oo);const ic={style:{opacity:.2,fill:`linear-gradient(-90deg, white 0%, rgba(${ro($a).join(",")},.15) 100%)`},tooltip:!1},ac={size:2,shape:"circle",style:{fill:"white",lineWidth:1},tooltip:!1},oc={x:{line:!0}},Ee=Si.forwardRef((n,e)=>{const{insetLeft:t=ja,insetRight:r=to,area:i=!0,point:a=!0,axis:o=!0,...s}=n,l=dr(a,ac),u=dr(o,oc);let c=dr(i,ic);return n.colorField&&eo(n.axis)&&(c=void 0),ie.createElement(no,{insetLeft:t,insetRight:r,area:c,point:l,axis:u,...s,ref:e,renderer:new nc})});Ee.__docgenInfo={description:"",methods:[],displayName:"Line"};const hc={title:"Charts/Line"};function Ae(){const n={title:{title:"基础折线图"},xField:"time",yField:"scales",data:[{time:"2010-01",scales:1998},{time:"2010-02",scales:1850},{time:"2010-03",scales:1720},{time:"2010-04",scales:1818},{time:"2010-05",scales:1920},{time:"2010-06",scales:1802},{time:"2010-07",scales:1945},{time:"2010-08",scales:1856},{time:"2010-09",scales:2107},{time:"2010-10",scales:2140}]};return ie.createElement(Ee,{...n})}function Me(){const n={title:"多条折线图",xField:"year",yField:"value",colorField:"category",legend:{color:{itemMarker:"hyphen",layout:{justifyContent:"flex-end"}}},data:[{year:"2010",value:510,category:"Liquid fuel"},{year:"2010",value:481,category:"Solid fuel"},{year:"2010",value:570,category:"Gas flarinl"},{year:"2011",value:513,category:"Liquid fuel"},{year:"2011",value:405,category:"Solid fuel"},{year:"2011",value:164,category:"Gas flarinl"},{year:"2012",value:320,category:"Liquid fuel"},{year:"2012",value:410,category:"Solid fuel"},{year:"2012",value:250,category:"Gas flarinl"},{year:"2013",value:222,category:"Liquid fuel"},{year:"2013",value:512,category:"Solid fuel"},{year:"2013",value:408,category:"Gas flarinl"},{year:"2014",value:428,category:"Liquid fuel"},{year:"2014",value:111,category:"Solid fuel"},{year:"2014",value:568,category:"Gas flarinl"},{year:"2015",value:428,category:"Liquid fuel"},{year:"2015",value:111,category:"Solid fuel"},{year:"2015",value:568,category:"Gas flarinl"}]};return ie.createElement(Ee,{...n})}function Ne(){const n={title:"曲线图",style:{shape:"smooth"},xField:"time",yField:"scales",data:[{time:"2010-01",scales:1998},{time:"2010-02",scales:1850},{time:"2010-03",scales:1720},{time:"2010-04",scales:1818},{time:"2010-05",scales:1920},{time:"2010-06",scales:1802},{time:"2010-07",scales:1945},{time:"2010-08",scales:1856},{time:"2010-09",scales:2107},{time:"2010-10",scales:2140}]};return ie.createElement(Ee,{...n})}function ke(){const n={title:"多条曲线图",style:{shape:"smooth"},xField:"year",yField:"value",colorField:"category",legend:!1,data:[{year:"2010",value:510,category:"Liquid fuel"},{year:"2010",value:481,category:"Solid fuel"},{year:"2010",value:570,category:"Gas flarinl"},{year:"2011",value:513,category:"Liquid fuel"},{year:"2011",value:405,category:"Solid fuel"},{year:"2011",value:164,category:"Gas flarinl"},{year:"2012",value:320,category:"Liquid fuel"},{year:"2012",value:410,category:"Solid fuel"},{year:"2012",value:250,category:"Gas flarinl"},{year:"2013",value:222,category:"Liquid fuel"},{year:"2013",value:512,category:"Solid fuel"},{year:"2013",value:408,category:"Gas flarinl"},{year:"2014",value:428,category:"Liquid fuel"},{year:"2014",value:111,category:"Solid fuel"},{year:"2014",value:568,category:"Gas flarinl"},{year:"2015",value:428,category:"Liquid fuel"},{year:"2015",value:111,category:"Solid fuel"},{year:"2015",value:568,category:"Gas flarinl"}]};return ie.createElement(Ee,{...n})}function Oe(){const n={title:"辅助线",style:{shape:"smooth"},xField:"time",yField:"scales",data:[{time:"2010-01",scales:1998},{time:"2010-02",scales:1850},{time:"2010-03",scales:1720},{time:"2010-04",scales:1818},{time:"2010-05",scales:1920},{time:"2010-06",scales:1802},{time:"2010-07",scales:1945},{time:"2010-08",scales:1856},{time:"2010-09",scales:2107},{time:"2010-10",scales:2140}],annotations:[{type:"lineY",yField:1800,style:{stroke:"#F72231"},label:{text:"报警阀值:50",position:"right",style:{strokeOpacity:0,fill:"#F72231",fontSize:10,textBaseline:"bottom"}}}]};return ie.createElement(Ee,{...n})}Ae.__docgenInfo={description:"",methods:[],displayName:"Basic"};Me.__docgenInfo={description:"",methods:[],displayName:"Middle"};Ne.__docgenInfo={description:"",methods:[],displayName:"Smooth"};ke.__docgenInfo={description:"",methods:[],displayName:"MiddleSmooth"};Oe.__docgenInfo={description:"",methods:[],displayName:"Baseline"};var oi,si,li;Ae.parameters={...Ae.parameters,docs:{...(oi=Ae.parameters)==null?void 0:oi.docs,source:{originalSource:`function Basic() {
  const config: LineConfig = {
    // TODO: 标题底部间距无法实现
    title: {
      title: '基础折线图'
    },
    xField: 'time',
    yField: 'scales',
    data: [{
      time: '2010-01',
      scales: 1998
    }, {
      time: '2010-02',
      scales: 1850
    }, {
      time: '2010-03',
      scales: 1720
    }, {
      time: '2010-04',
      scales: 1818
    }, {
      time: '2010-05',
      scales: 1920
    }, {
      time: '2010-06',
      scales: 1802
    }, {
      time: '2010-07',
      scales: 1945
    }, {
      time: '2010-08',
      scales: 1856
    }, {
      time: '2010-09',
      scales: 2107
    }, {
      time: '2010-10',
      scales: 2140
    }]
  };
  return <Line {...config} />;
}`,...(li=(si=Ae.parameters)==null?void 0:si.docs)==null?void 0:li.source}}};var ui,ci,fi;Me.parameters={...Me.parameters,docs:{...(ui=Me.parameters)==null?void 0:ui.docs,source:{originalSource:`function Middle() {
  const config: LineConfig = {
    title: '多条折线图',
    xField: 'year',
    yField: 'value',
    colorField: 'category',
    legend: {
      color: {
        itemMarker: 'hyphen',
        layout: {
          justifyContent: 'flex-end'
        }
      }
    },
    data: [{
      year: '2010',
      value: 510,
      category: 'Liquid fuel'
    }, {
      year: '2010',
      value: 481,
      category: 'Solid fuel'
    }, {
      year: '2010',
      value: 570,
      category: 'Gas flarinl'
    }, {
      year: '2011',
      value: 513,
      category: 'Liquid fuel'
    }, {
      year: '2011',
      value: 405,
      category: 'Solid fuel'
    }, {
      year: '2011',
      value: 164,
      category: 'Gas flarinl'
    }, {
      year: '2012',
      value: 320,
      category: 'Liquid fuel'
    }, {
      year: '2012',
      value: 410,
      category: 'Solid fuel'
    }, {
      year: '2012',
      value: 250,
      category: 'Gas flarinl'
    }, {
      year: '2013',
      value: 222,
      category: 'Liquid fuel'
    }, {
      year: '2013',
      value: 512,
      category: 'Solid fuel'
    }, {
      year: '2013',
      value: 408,
      category: 'Gas flarinl'
    }, {
      year: '2014',
      value: 428,
      category: 'Liquid fuel'
    }, {
      year: '2014',
      value: 111,
      category: 'Solid fuel'
    }, {
      year: '2014',
      value: 568,
      category: 'Gas flarinl'
    }, {
      year: '2015',
      value: 428,
      category: 'Liquid fuel'
    }, {
      year: '2015',
      value: 111,
      category: 'Solid fuel'
    }, {
      year: '2015',
      value: 568,
      category: 'Gas flarinl'
    }]
  };
  return <Line {...config} />;
}`,...(fi=(ci=Me.parameters)==null?void 0:ci.docs)==null?void 0:fi.source}}};var hi,di,pi;Ne.parameters={...Ne.parameters,docs:{...(hi=Ne.parameters)==null?void 0:hi.docs,source:{originalSource:`function Smooth() {
  const config: LineConfig = {
    title: '曲线图',
    style: {
      shape: 'smooth'
    },
    xField: 'time',
    yField: 'scales',
    data: [{
      time: '2010-01',
      scales: 1998
    }, {
      time: '2010-02',
      scales: 1850
    }, {
      time: '2010-03',
      scales: 1720
    }, {
      time: '2010-04',
      scales: 1818
    }, {
      time: '2010-05',
      scales: 1920
    }, {
      time: '2010-06',
      scales: 1802
    }, {
      time: '2010-07',
      scales: 1945
    }, {
      time: '2010-08',
      scales: 1856
    }, {
      time: '2010-09',
      scales: 2107
    }, {
      time: '2010-10',
      scales: 2140
    }]
  };
  return <Line {...config} />;
}`,...(pi=(di=Ne.parameters)==null?void 0:di.docs)==null?void 0:pi.source}}};var vi,gi,yi;ke.parameters={...ke.parameters,docs:{...(vi=ke.parameters)==null?void 0:vi.docs,source:{originalSource:`function MiddleSmooth() {
  const config: LineConfig = {
    title: '多条曲线图',
    style: {
      shape: 'smooth'
    },
    xField: 'year',
    yField: 'value',
    colorField: 'category',
    legend: false,
    data: [{
      year: '2010',
      value: 510,
      category: 'Liquid fuel'
    }, {
      year: '2010',
      value: 481,
      category: 'Solid fuel'
    }, {
      year: '2010',
      value: 570,
      category: 'Gas flarinl'
    }, {
      year: '2011',
      value: 513,
      category: 'Liquid fuel'
    }, {
      year: '2011',
      value: 405,
      category: 'Solid fuel'
    }, {
      year: '2011',
      value: 164,
      category: 'Gas flarinl'
    }, {
      year: '2012',
      value: 320,
      category: 'Liquid fuel'
    }, {
      year: '2012',
      value: 410,
      category: 'Solid fuel'
    }, {
      year: '2012',
      value: 250,
      category: 'Gas flarinl'
    }, {
      year: '2013',
      value: 222,
      category: 'Liquid fuel'
    }, {
      year: '2013',
      value: 512,
      category: 'Solid fuel'
    }, {
      year: '2013',
      value: 408,
      category: 'Gas flarinl'
    }, {
      year: '2014',
      value: 428,
      category: 'Liquid fuel'
    }, {
      year: '2014',
      value: 111,
      category: 'Solid fuel'
    }, {
      year: '2014',
      value: 568,
      category: 'Gas flarinl'
    }, {
      year: '2015',
      value: 428,
      category: 'Liquid fuel'
    }, {
      year: '2015',
      value: 111,
      category: 'Solid fuel'
    }, {
      year: '2015',
      value: 568,
      category: 'Gas flarinl'
    }]
  };
  return <Line {...config} />;
}`,...(yi=(gi=ke.parameters)==null?void 0:gi.docs)==null?void 0:yi.source}}};var mi,Ei,xi;Oe.parameters={...Oe.parameters,docs:{...(mi=Oe.parameters)==null?void 0:mi.docs,source:{originalSource:`function Baseline() {
  const config: LineConfig = {
    title: '辅助线',
    style: {
      shape: 'smooth'
    },
    xField: 'time',
    yField: 'scales',
    data: [{
      time: '2010-01',
      scales: 1998
    }, {
      time: '2010-02',
      scales: 1850
    }, {
      time: '2010-03',
      scales: 1720
    }, {
      time: '2010-04',
      scales: 1818
    }, {
      time: '2010-05',
      scales: 1920
    }, {
      time: '2010-06',
      scales: 1802
    }, {
      time: '2010-07',
      scales: 1945
    }, {
      time: '2010-08',
      scales: 1856
    }, {
      time: '2010-09',
      scales: 2107
    }, {
      time: '2010-10',
      scales: 2140
    }],
    annotations: [{
      type: 'lineY',
      yField: 1800,
      style: {
        stroke: '#F72231'
      },
      label: {
        text: '报警阀值:50',
        // dx: 30,
        position: 'right',
        style: {
          strokeOpacity: 0,
          fill: '#F72231',
          fontSize: 10,
          textBaseline: 'bottom'
        }
      }
    }]
  };
  return <Line {...config} />;
}`,...(xi=(Ei=Oe.parameters)==null?void 0:Ei.docs)==null?void 0:xi.source}}};const dc=["Basic","Middle","Smooth","MiddleSmooth","Baseline"];export{Oe as Baseline,Ae as Basic,Me as Middle,ke as MiddleSmooth,Ne as Smooth,dc as __namedExportsOrder,hc as default};
