import{R as M,r as H}from"./index-RYns6xqu.js";import{a as We}from"./index-DvSUCdeO.js";import{r as He,t as Ye,l as ue,m as Tn,n as z,W as Pn,o as ce,p as se,q,s as D,u as Dn,v as ut,w as ln,x as fn,y as qe,z as pn,A as Rt,B as le,S as Et,D as St,E as Ke,F as Bt,G as Xe,H as Ze,I as Fn,M as Je,U as Cn,J as jn,K as $n,L as qt,N as st,O as fe,P as ht,Q as _t,T as Qe,V as pe,g as T,X as dn,Y as de,Z as ye,_ as Ve,$ as tr,a0 as It,a1 as nr,a2 as yn,a3 as er,a4 as rr,a5 as kt,c as Ln,a6 as Kt,a7 as Rn,a8 as or,a9 as ir,aa as ar,ab as ur,ac as k,d as mt,ad as ve,ae as cr,af as sr,ag as lr,ah as fr,ai as pr,aj as dr,ak as yr,al as vr,am as hr,an as _r,ao as gr,ap as he}from"./index-CJ5FF5R5.js";function Bn(e,t){for(var n in t)t.hasOwnProperty(n)&&n!=="constructor"&&t[n]!==void 0&&(e[n]=t[n])}function Or(e,t,n,r){return t&&Bn(e,t),n&&Bn(e,n),e}function mr(){var e=1,t=1,n=0,r=!1;function o(a){var c=a.height+1;return a.x0=a.y0=n,a.x1=e,a.y1=t/c,a.eachBefore(i(t,c)),r&&a.eachBefore(He),a}function i(a,c){return function(u){u.children&&Ye(u,u.x0,a*(u.depth+1)/c,u.x1,a*(u.depth+2)/c);var l=u.x0,s=u.y0,f=u.x1-n,p=u.y1-n;f<l&&(l=f=(l+f)/2),p<s&&(s=p=(s+p)/2),u.x0=l,u.y0=s,u.x1=f,u.y1=p}}return o.round=function(a){return arguments.length?(r=!!a,o):r},o.size=function(a){return arguments.length?(e=+a[0],t=+a[1],o):[e,t]},o.padding=function(a){return arguments.length?(n=+a,o):n},o}var Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Xt.apply(this,arguments)},gt=Xt({},We),xr=gt.version,wr=gt.render;gt.unmountComponentAtNode;var vn;try{var Ar=Number((xr||"").split(".")[0]);Ar>=18&&(vn=gt.createRoot)}catch{}function In(e){var t=gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&typeof t=="object"&&(t.usingClientEntryPoint=e)}var bn="__rc_react_root__";function Er(e,t){In(!0);var n=t[bn]||vn(t);In(!1),n.render(e),t[bn]=n}function Sr(e,t){wr(e,t)}function Tr(e,t){if(vn){Er(e,t);return}Sr(e,t)}var xt=new Map;typeof document<"u"&&xt.set("tooltip",document.createElement("div"));var Pr=function(e,t){t===void 0&&(t=!1);var n=null;if(t)n=xt.get("tooltip");else if(n=document.createElement("div"),e!=null&&e.key){var r=xt.get(e.key);r?n=r:xt.set(e.key,n)}return Tr(e,n),n},Dr=function(e){if(typeof document>"u")return"loading";var t=e.attachShadow({mode:"open"}),n=document.createElement("div"),r=document.createElement("style");r.innerHTML=`.loading {
    display: inline-block;
    position: relative;
    width: 80px;
    height: 80px;
  }
  .loading div {
    position: absolute;
    top: 33px;
    width: 13px;
    height: 13px;
    border-radius: 50%;
    background: #ccc;
    animation-timing-function: cubic-bezier(0, 1, 1, 0);
  }
  .loading div:nth-child(1) {
    left: 8px;
    animation: loading1 0.6s infinite;
  }
  .loading div:nth-child(2) {
    left: 8px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(3) {
    left: 32px;
    animation: loading2 0.6s infinite;
  }
  .loading div:nth-child(4) {
    left: 56px;
    animation: loading3 0.6s infinite;
  }
  @keyframes loading1 {
    0% {
      transform: scale(0);
    }
    100% {
      transform: scale(1);
    }
  }
  @keyframes loading3 {
    0% {
      transform: scale(1);
    }
    100% {
      transform: scale(0);
    }
  }
  @keyframes loading2 {
    0% {
      transform: translate(0, 0);
    }
    100% {
      transform: translate(24px, 0);
    }
  }
  `,n.classList.add("loading"),n.innerHTML="<div></div><div></div><div></div><div></div>",t.appendChild(r),t.appendChild(n)},Fr=function(e){var t=e.loadingTemplate,n=e.theme,r=n===void 0?"light":n,o=M.useRef(null);M.useEffect(function(){!t&&o.current&&Dr(o.current)},[]);var i=function(){return t||M.createElement("div",{ref:o})};return M.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:r==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},i())},Cr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jr=function(e){Cr(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={hasError:!1},n.renderError=function(r){var o=n.props.errorTemplate;switch(r){default:return typeof o=="function"?o(r):o||M.createElement("h5",null,"组件出错了，请核查后重试： ",r.message)}},n}return t.getDerivedStateFromError=function(n){return{hasError:!0,error:n}},t.getDerivedStateFromProps=function(n,r){return r.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null},t.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):M.createElement(H.Fragment,null,this.props.children)},t}(M.Component),$r=NaN;function Nn(e){return typeof e=="number"?e:ue(e)?$r:+e}function Lr(e,t){return function(n,r){var o;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(o=n),r!==void 0){if(o===void 0)return r;typeof n=="string"||typeof r=="string"?(n=Tn(n),r=Tn(r)):(n=Nn(n),r=Nn(r)),o=e(n,r)}return o}}var Rr=/\s/;function Br(e){for(var t=e.length;t--&&Rr.test(e.charAt(t)););return t}var Ir=/^\s+/;function br(e){return e&&e.slice(0,Br(e)+1).replace(Ir,"")}var kn=NaN,Nr=/^[-+]0x[0-9a-f]+$/i,kr=/^0b[01]+$/i,Mr=/^0o[0-7]+$/i,zr=parseInt;function _e(e){if(typeof e=="number")return e;if(ue(e))return kn;if(z(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=br(e);var n=kr.test(e);return n||Mr.test(e)?zr(e.slice(2),n?2:8):Nr.test(e)?kn:+e}var Mn=1/0,Gr=17976931348623157e292;function Ur(e){if(!e)return e===0?e:0;if(e=_e(e),e===Mn||e===-Mn){var t=e<0?-1:1;return t*Gr}return e===e?e:0}function ge(e){var t=Ur(e),n=t%1;return t===t?n?t-n:t:0}function hn(e){return e}var zn=Pn&&new Pn;function Wr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _n(){}var Hr=4294967295;function ot(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Hr,this.__views__=[]}ot.prototype=ce(_n.prototype);ot.prototype.constructor=ot;function Oe(){}var me=zn?function(e){return zn.get(e)}:Oe,Gn={},Yr=Object.prototype,qr=Yr.hasOwnProperty;function wt(e){for(var t=e.name+"",n=Gn[t],r=qr.call(Gn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}function K(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}K.prototype=ce(_n.prototype);K.prototype.constructor=K;function Kr(e){if(e instanceof ot)return e.clone();var t=new K(e.__wrapped__,e.__chain__);return t.__actions__=se(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Xr=Object.prototype,Zr=Xr.hasOwnProperty;function Tt(e){if(q(e)&&!D(e)&&!(e instanceof ot)){if(e instanceof K)return e;if(Zr.call(e,"__wrapped__"))return Kr(e)}return new K(e)}Tt.prototype=_n.prototype;Tt.prototype.constructor=Tt;function Un(e){var t=wt(e),n=Tt[t];if(typeof n!="function"||!(t in ot.prototype))return!1;if(e===n)return!0;var r=me(n);return!!r&&e===r[0]}var Jr=800,Qr=16,Vr=Date.now;function to(e){var t=0,n=0;return function(){var r=Vr(),o=Qr-(r-n);if(n=r,o>0){if(++t>=Jr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function no(e){return function(){return e}}var eo=Dn?function(e,t){return Dn(e,"toString",{configurable:!0,enumerable:!1,value:no(t),writable:!0})}:hn,xe=to(eo);function ro(e,t,n,r){for(var o=e.length,i=n+-1;++i<o;)if(t(e[i],i,e))return i;return-1}function oo(e){return e!==e}function io(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function we(e,t,n){return t===t?io(e,t,n):ro(e,oo,n)}function ao(e,t){var n=e==null?0:e.length;return!!n&&we(e,t,0)>-1}var Wn=Math.max;function Ae(e,t,n){return t=Wn(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Wn(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(a),Wr(e,this,c)}}function uo(e,t){return xe(Ae(e,t,hn),e+"")}function co(e,t,n){if(!z(n))return!1;var r=typeof t;return(r=="number"?ut(n)&&ln(t,n.length):r=="string"&&t in n)?fn(n[t],e):!1}function Ee(e){return uo(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&co(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}var so=Object.prototype,lo=so.hasOwnProperty,Hn=Ee(function(e,t){if(qe(t)||ut(t)){pn(t,Rt(t),e);return}for(var n in t)lo.call(t,n)&&le(e,n,t[n])}),Yn=Et?Et.isConcatSpreadable:void 0;function fo(e){return D(e)||St(e)||!!(Yn&&e&&e[Yn])}function po(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=fo),o||(o=[]);++i<a;){var c=e[i];n(c)?Ke(o,c):o[o.length]=c}return o}function yo(e){var t=e==null?0:e.length;return t?po(e):[]}function gn(e){return xe(Ae(e,void 0,yo),e+"")}var vo="[object Object]",ho=Function.prototype,_o=Object.prototype,Se=ho.toString,go=_o.hasOwnProperty,Oo=Se.call(Object);function On(e){if(!q(e)||Bt(e)!=vo)return!1;var t=Xe(e);if(t===null)return!0;var n=go.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Se.call(n)==Oo}function mo(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var xo=Ze.isFinite,wo=Math.min;function Ao(e){var t=Math[e];return function(n,r){if(n=_e(n),r=r==null?0:wo(ge(r),292),r&&xo(n)){var o=(Fn(n)+"e").split("e"),i=t(o[0]+"e"+(+o[1]+r));return o=(Fn(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return t(n)}}var Eo=Ao("ceil"),So="__lodash_hash_undefined__";function To(e){return this.__data__.set(e,So),this}function Po(e){return this.__data__.has(e)}function pt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Je;++t<n;)this.add(e[t])}pt.prototype.add=pt.prototype.push=To;pt.prototype.has=Po;function Do(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Te(e,t){return e.has(t)}var Fo=1,Co=2;function Pe(e,t,n,r,o,i){var a=n&Fo,c=e.length,u=t.length;if(c!=u&&!(a&&u>c))return!1;var l=i.get(e),s=i.get(t);if(l&&s)return l==t&&s==e;var f=-1,p=!0,d=n&Co?new pt:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var y=e[f],v=t[f];if(r)var _=a?r(v,y,f,t,e,i):r(y,v,f,e,t,i);if(_!==void 0){if(_)continue;p=!1;break}if(d){if(!Do(t,function(O,x){if(!Te(d,x)&&(y===O||o(y,O,n,r,i)))return d.push(x)})){p=!1;break}}else if(!(y===v||o(y,v,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}function jo(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function mn(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var $o=1,Lo=2,Ro="[object Boolean]",Bo="[object Date]",Io="[object Error]",bo="[object Map]",No="[object Number]",ko="[object RegExp]",Mo="[object Set]",zo="[object String]",Go="[object Symbol]",Uo="[object ArrayBuffer]",Wo="[object DataView]",qn=Et?Et.prototype:void 0,Mt=qn?qn.valueOf:void 0;function Ho(e,t,n,r,o,i,a){switch(n){case Wo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Uo:return!(e.byteLength!=t.byteLength||!i(new Cn(e),new Cn(t)));case Ro:case Bo:case No:return fn(+e,+t);case Io:return e.name==t.name&&e.message==t.message;case ko:case zo:return e==t+"";case bo:var c=jo;case Mo:var u=r&$o;if(c||(c=mn),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;r|=Lo,a.set(e,t);var s=Pe(c(e),c(t),r,o,i,a);return a.delete(e),s;case Go:if(Mt)return Mt.call(e)==Mt.call(t)}return!1}var Yo=1,qo=Object.prototype,Ko=qo.hasOwnProperty;function Xo(e,t,n,r,o,i){var a=n&Yo,c=jn(e),u=c.length,l=jn(t),s=l.length;if(u!=s&&!a)return!1;for(var f=u;f--;){var p=c[f];if(!(a?p in t:Ko.call(t,p)))return!1}var d=i.get(e),y=i.get(t);if(d&&y)return d==t&&y==e;var v=!0;i.set(e,t),i.set(t,e);for(var _=a;++f<u;){p=c[f];var O=e[p],x=t[p];if(r)var m=a?r(x,O,p,t,e,i):r(O,x,p,e,t,i);if(!(m===void 0?O===x||o(O,x,n,r,i):m)){v=!1;break}_||(_=p=="constructor")}if(v&&!_){var g=e.constructor,S=t.constructor;g!=S&&"constructor"in e&&"constructor"in t&&!(typeof g=="function"&&g instanceof g&&typeof S=="function"&&S instanceof S)&&(v=!1)}return i.delete(e),i.delete(t),v}var Zo=1,Kn="[object Arguments]",Xn="[object Array]",Ot="[object Object]",Jo=Object.prototype,Zn=Jo.hasOwnProperty;function Qo(e,t,n,r,o,i){var a=D(e),c=D(t),u=a?Xn:$n(e),l=c?Xn:$n(t);u=u==Kn?Ot:u,l=l==Kn?Ot:l;var s=u==Ot,f=l==Ot,p=u==l;if(p&&qt(e)){if(!qt(t))return!1;a=!0,s=!1}if(p&&!s)return i||(i=new st),a||fe(e)?Pe(e,t,n,r,o,i):Ho(e,t,u,n,r,o,i);if(!(n&Zo)){var d=s&&Zn.call(e,"__wrapped__"),y=f&&Zn.call(t,"__wrapped__");if(d||y){var v=d?e.value():e,_=y?t.value():t;return i||(i=new st),o(v,_,n,r,i)}}return p?(i||(i=new st),Xo(e,t,n,r,o,i)):!1}function bt(e,t,n,r,o){return e===t?!0:e==null||t==null||!q(e)&&!q(t)?e!==e&&t!==t:Qo(e,t,n,r,bt,o)}var Vo=1,ti=2;function ni(e,t,n,r){var o=n.length,i=o;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],l=a[1];if(a[2]){if(u===void 0&&!(c in e))return!1}else{var s=new st,f;if(!(f===void 0?bt(l,u,Vo|ti,r,s):f))return!1}}return!0}function De(e){return e===e&&!z(e)}function ei(e){for(var t=Rt(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,De(o)]}return t}function Fe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function ri(e){var t=ei(e);return t.length==1&&t[0][2]?Fe(t[0][0],t[0][1]):function(n){return n===e||ni(n,e,t)}}function oi(e,t){return e!=null&&t in Object(e)}function ii(e,t,n){t=ht(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var a=_t(t[r]);if(!(i=e!=null&&n(e,a)))break;e=e[a]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&Qe(o)&&ln(a,o)&&(D(e)||St(e)))}function Ce(e,t){return e!=null&&ii(e,t,oi)}var ai=1,ui=2;function ci(e,t){return pe(e)&&De(t)?Fe(_t(e),t):function(n){var r=T(n,e);return r===void 0&&r===t?Ce(n,e):bt(t,r,ai|ui)}}function si(e){return function(t){return t==null?void 0:t[e]}}function li(e){return function(t){return dn(t,e)}}function fi(e){return pe(e)?si(_t(e)):li(e)}function xn(e){return typeof e=="function"?e:e==null?hn:typeof e=="object"?D(e)?ci(e[0],e[1]):ri(e):fi(e)}function pi(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function di(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),c=a.length;c--;){var u=a[++o];if(n(i[u],u,i)===!1)break}return t}}var je=di();function yi(e,t){return e&&je(e,t,Rt)}function vi(e,t){return function(n,r){if(n==null)return n;if(!ut(n))return e(n,r);for(var o=n.length,i=-1,a=Object(n);++i<o&&r(a[i],i,a)!==!1;);return n}}var $e=vi(yi);function hi(e,t,n,r){return $e(e,function(o,i,a){t(r,o,n(o),a)}),r}function _i(e,t){return function(n,r){var o=D(n)?pi:hi,i=t?t():{};return o(n,e,xn(r),i)}}function Zt(e,t,n){(n!==void 0&&!fn(e[t],n)||n===void 0&&!(t in e))&&de(e,t,n)}function gi(e){return q(e)&&ut(e)}function Jt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Oi(e){return pn(e,ye(e))}function mi(e,t,n,r,o,i,a){var c=Jt(e,n),u=Jt(t,n),l=a.get(u);if(l){Zt(e,n,l);return}var s=i?i(c,u,n+"",e,t,a):void 0,f=s===void 0;if(f){var p=D(u),d=!p&&qt(u),y=!p&&!d&&fe(u);s=u,p||d||y?D(c)?s=c:gi(c)?s=se(c):d?(f=!1,s=Ve(u,!0)):y?(f=!1,s=tr(u,!0)):s=[]:On(u)||St(u)?(s=c,St(c)?s=Oi(c):(!z(c)||It(c))&&(s=nr(u))):f=!1}f&&(a.set(u,s),o(s,u,r,i,a),a.delete(u)),Zt(e,n,s)}function Le(e,t,n,r,o){e!==t&&je(t,function(i,a){if(o||(o=new st),z(i))mi(e,t,a,n,Le,r,o);else{var c=r?r(Jt(e,a),i,a+"",e,t,o):void 0;c===void 0&&(c=i),Zt(e,a,c)}},ye)}var xi=Ee(function(e,t,n,r){Le(e,t,n,r)});function wi(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ai=Lr(function(e,t){return e/t},1);function Ei(e,t){var n=-1,r=ut(e)?Array(e.length):[];return $e(e,function(o,i,a){r[++n]=t(o,i,a)}),r}function it(e,t){var n=D(e)?yn:Ei;return n(e,xn(t))}var Si="Expected a function",Ti=8,Pi=32,Di=128,Fi=256;function Ci(e){return gn(function(t){for(var n=t.length,r=n,o=K.prototype.thru;r--;){var i=t[r];if(typeof i!="function")throw new TypeError(Si);if(o&&!a&&wt(i)=="wrapper")var a=new K([],!0)}for(r=a?r:n;++r<n;){i=t[r];var c=wt(i),u=c=="wrapper"?me(i):void 0;u&&Un(u[0])&&u[1]==(Di|Ti|Pi|Fi)&&!u[4].length&&u[9]==1?a=a[wt(u[0])].apply(a,u[3]):a=i.length==1&&Un(i)?a[c]():a.thru(i)}return function(){var l=arguments,s=l[0];if(a&&l.length==1&&D(s))return a.plant(s).value();for(var f=0,p=n?t[f].apply(this,l):s;++f<n;)p=t[f].call(this,p);return p}})}var A=Ci(),ji=Object.prototype,$i=ji.hasOwnProperty,Re=_i(function(e,t,n){$i.call(e,n)?e[n].push(t):de(e,n,[t])}),Li="[object String]";function Be(e){return typeof e=="string"||!D(e)&&q(e)&&Bt(e)==Li}function Ri(e,t){return yn(t,function(n){return e[n]})}function Bi(e){return e==null?[]:Ri(e,Rt(e))}var Ii=Math.max;function bi(e,t,n,r){e=ut(e)?e:Bi(e),n=n&&!r?ge(n):0;var o=e.length;return n<0&&(n=Ii(o+n,0)),Be(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&we(e,t,n)>-1}function Ni(e,t){return t.length<2?e:dn(e,mo(t,0,-1))}var ki="[object Boolean]";function wn(e){return e===!0||e===!1||q(e)&&Bt(e)==ki}function Jn(e,t){return bt(e,t)}var Mi="[object Number]";function at(e){return typeof e=="number"||q(e)&&Bt(e)==Mi}function zi(e){return e==null}function Gi(e){return e===void 0}function Ui(e,t){return t=ht(t,e),e=Ni(e,t),e==null||delete e[_t(wi(t))]}function Wi(e){return On(e)?void 0:e}var Hi=1,Yi=2,qi=4,An=gn(function(e,t){var n={};if(e==null)return n;var r=!1;t=yn(t,function(i){return i=ht(i,e),r||(r=i.length>1),i}),pn(e,er(e),n),r&&(n=rr(n,Hi|Yi|qi,Wi));for(var o=t.length;o--;)Ui(n,t[o]);return n});function Ie(e,t,n,r){if(!z(e))return e;t=ht(t,e);for(var o=-1,i=t.length,a=i-1,c=e;c!=null&&++o<i;){var u=_t(t[o]),l=n;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(o!=a){var s=c[u];l=void 0,l===void 0&&(l=z(s)?s:ln(t[o+1])?[]:{})}le(c,u,l),c=c[u]}return e}function Ki(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],c=dn(e,a);n(c,a)&&Ie(i,ht(a,e),c)}return i}function Xi(e,t){return Ki(e,t,function(n,r){return Ce(e,r)})}var be=gn(function(e,t){return e==null?{}:Xi(e,t)});function h(e,t,n){return e==null?e:Ie(e,t,n)}var Zi=1/0,Ji=kt&&1/mn(new kt([,-0]))[1]==Zi?function(e){return new kt(e)}:Oe,Qi=200;function Vi(e,t,n){var r=-1,o=ao,i=e.length,a=!0,c=[],u=c;if(i>=Qi){var l=t?null:Ji(e);if(l)return mn(l);a=!1,o=Te,u=new pt}else u=t?[]:c;t:for(;++r<i;){var s=e[r],f=t?t(s):s;if(s=s!==0?s:0,a&&f===f){for(var p=u.length;p--;)if(u[p]===f)continue t;t&&u.push(f),c.push(s)}else o(u,f,n)||(u!==c&&u.push(f),c.push(s))}return c}function zt(e,t){return e&&e.length?Vi(e,xn(t)):[]}var ta=function(e){var t=/react|\.jsx|children:\[\(|return\s+[A-Za-z0-9].createElement\((?!['"][g|circle|ellipse|image|rect|line|polyline|polygon|text|path|html|mesh]['"])([^\)])*,/i;return t.test(e)},Qt=function(){return Qt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Qt.apply(this,arguments)},Qn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};function na(e,t){var n=H.useRef(),r=H.useRef(),o=H.useRef(null),i=t.onReady,a=t.onEvent,c=function(s,f){var p;s===void 0&&(s="image/png");var d=(p=o.current)===null||p===void 0?void 0:p.getElementsByTagName("canvas")[0];return d==null?void 0:d.toDataURL(s,f)},u=function(s,f,p){s===void 0&&(s="download"),f===void 0&&(f="image/png");var d=s;s.indexOf(".")===-1&&(d="".concat(s,".").concat(f.split("/")[1]));var y=c(f,p),v=document.createElement("a");return v.href=y,v.download=d,document.body.appendChild(v),v.click(),document.body.removeChild(v),v=null,d},l=function(s,f){f===void 0&&(f=!1);var p=Object.keys(s),d=f;p.forEach(function(y){var v=s[y];y==="tooltip"&&(d=!0),It(v)&&ta("".concat(v))?s[y]=function(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];return Pr(v.apply(void 0,_),d)}:D(v)?v.forEach(function(_){l(_,d)}):z(v)?l(v,d):d=f})};return H.useEffect(function(){if(n.current&&!Jn(r.current,t)){var s=!1;if(r.current){var f=r.current;f.data;var p=Qn(f,["data"]);t.data;var d=Qn(t,["data"]);s=Jn(p,d)}r.current=Ln(t),s?n.current.changeData(T(t,"data")):(l(t),n.current.update(t),n.current.render())}},[t]),H.useEffect(function(){if(!o.current)return function(){return null};r.current||(r.current=Ln(t)),l(t);var s=new e(o.current,Qt({},t));s.toDataURL=c,s.downloadImage=u,s.render(),n.current=s,i&&i(s);var f=function(p){a&&a(s,p)};return s.on("*",f),function(){n.current&&(n.current.destroy(),n.current.off("*",f),n.current=void 0)}},[]),{chart:n,container:o}}const ea={field:"value",size:[1,1],round:!1,padding:0,sort:(e,t)=>t.value-e.value,as:["x","y"],ignoreParentValue:!0},ra="nodeIndex",dt="childNodeCount",oa="nodeAncestor",Gt="Invalid field: it must be a string!";function ia(e,t){const{field:n,fields:r}=e;if(Rn(n))return n;if(Kt(n))return console.warn(Gt),n[0];if(console.warn(`${Gt} will try to get fields instead.`),Rn(r))return r;if(Kt(r)&&r.length)return r[0];throw new TypeError(Gt)}function aa(e){const t=[];if(e&&e.each){let n,r;e.each(o=>{var i,a;o.parent!==n?(n=o.parent,r=0):r+=1;const c=or((((i=o.ancestors)===null||i===void 0?void 0:i.call(o))||[]).map(u=>t.find(l=>l.name===u.name)||u),({depth:u})=>u>0&&u<o.depth);o[oa]=c,o[dt]=((a=o.children)===null||a===void 0?void 0:a.length)||0,o[ra]=r,t.push(o)})}else e&&e.eachNode&&e.eachNode(n=>{t.push(n)});return t}function ua(e,t){t=Or({},ea,t);const n=t.as;if(!Kt(n)||n.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');let r;try{r=ia(t)}catch(u){console.warn(u)}const i=(u=>mr().size(t.size).round(t.round).padding(t.padding)(ir(u).sum(l=>ar(l.children)?t.ignoreParentValue?0:l[r]-ur(l.children,(s,f)=>s+f[r],0):l[r]).sort(t.sort)))(e),a=n[0],c=n[1];return i.each(u=>{var l,s;u[a]=[u.x0,u.x1,u.x1,u.x0],u[c]=[u.y1,u.y1,u.y0,u.y0],u.name=u.name||((l=u.data)===null||l===void 0?void 0:l.name)||((s=u.data)===null||s===void 0?void 0:s.label),u.data.name=u.name,["x0","x1","y0","y1"].forEach(f=>{n.indexOf(f)===-1&&delete u[f]})}),aa(i)}var ca=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const rt="sunburst",En="markType",Ne="path",Pt="ancestor-node";function sa(e){const{data:t,encode:n}=e,{color:r,value:o}=n,a=ua(t,{field:o,type:"hierarchy.partition",as:["x","y"]}),c=[];return a.forEach(u=>{var l,s,f,p;if(u.depth===0)return null;let d=u.data.name;const y=[d];let v=Object.assign({},u);for(;v.depth>1;)d=`${(l=v.parent.data)===null||l===void 0?void 0:l.name} / ${d}`,y.unshift((s=v.parent.data)===null||s===void 0?void 0:s.name),v=v.parent;const _=Object.assign(Object.assign(Object.assign({},ve(u.data,[o])),{[Ne]:d,[Pt]:v.data.name}),u);r&&r!==Pt&&(_[r]=u.data[r]||((p=(f=u.parent)===null||f===void 0?void 0:f.data)===null||p===void 0?void 0:p[r])),c.push(_)}),c.map(u=>{const l=u.x.slice(0,2),s=[u.y[2],u.y[0]];return l[0]===l[1]&&(s[0]=s[1]=(u.y[2]+u.y[0])/2),Object.assign(Object.assign({},u),{x:l,y:s,fillOpacity:Math.pow(.85,u.depth)})})}const Vn={id:rt,encode:{x:"x",y:"y",key:Ne,color:Pt,value:"value"},axis:{x:!1,y:!1},style:{[En]:rt,stroke:"#fff",lineWidth:.5,fillOpacity:"fillOpacity",[dt]:dt,depth:"depth"},state:{active:{zIndex:2,stroke:"#000"},inactive:{zIndex:1,stroke:"#fff"}},legend:!1,interaction:{drillDown:!0},coordinate:{type:"polar",innerRadius:.2}},ke=e=>{const{encode:t,data:n=[],legend:r}=e,o=ca(e,["encode","data","legend"]),i=Object.assign(Object.assign({},o.coordinate),{innerRadius:Math.max(k(o,["coordinate","innerRadius"],.2),1e-5)}),a=Object.assign(Object.assign({},Vn.encode),t),{value:c}=a,u=sa({encode:a,data:n});return console.log(u,"rectData"),[mt({},Vn,Object.assign(Object.assign({type:"rect",data:u,encode:a,tooltip:{title:"path",items:[l=>({name:c,value:l[c]})]}},o),{coordinate:i}))]};ke.props={};var la=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function c(s){try{l(r.next(s))}catch(f){a(f)}}function u(s){try{l(r.throw(s))}catch(f){a(f)}}function l(s){s.done?i(s.value):o(s.value).then(c,u)}l((r=r.apply(e,t||[])).next())})};const fa=e=>e.querySelectorAll(".element").filter(t=>k(t,["style",En])===rt);function pa(e){return sr(e).select(`.${lr}`).node()}const da={rootText:"root",style:{fill:"rgba(0, 0, 0, 0.85)",fontSize:12,y:1},active:{fill:"rgba(0, 0, 0, 0.5)"}};function ya(e={}){const{breadCrumb:t={},isFixedColor:n=!1}=e,r=mt({},da,t);return o=>{const{update:i,setState:a,container:c,view:u,options:l}=o,s=c.ownerDocument,f=pa(c),p=l.marks.find(({id:m})=>m===rt),{state:d}=p,y=s.createElement("g");f.appendChild(y);const v=(m,g)=>la(this,void 0,void 0,function*(){if(y.removeChildren(),m){const S=s.createElement("text",{style:Object.assign({x:0,text:r.rootText,depth:0},r.style)});y.appendChild(S);let I="";const R=m==null?void 0:m.split(" / ");let $=r.style.y,L=y.getBBox().width;const X=f.getBBox().width,G=R.map((F,b)=>{const P=s.createElement("text",{style:Object.assign(Object.assign({x:L,text:" / "},r.style),{y:$})});y.appendChild(P),L+=P.getBBox().width,I=`${I}${F} / `;const j=s.createElement("text",{name:I.replace(/\s\/\s$/,""),style:Object.assign(Object.assign({text:F,x:L,depth:b+1},r.style),{y:$})});return y.appendChild(j),L+=j.getBBox().width,L>X&&($=y.getBBox().height,L=0,P.attr({x:L,y:$}),L+=P.getBBox().width,j.attr({x:L,y:$}),L+=j.getBBox().width),j});[S,...G].forEach((F,b)=>{if(b===G.length)return;const P=Object.assign({},F.attributes);F.attr("cursor","pointer"),F.addEventListener("mouseenter",()=>{F.attr(r.active)}),F.addEventListener("mouseleave",()=>{F.attr(P)}),F.addEventListener("click",()=>{v(F.name,k(F,["style","depth"]))})})}a("drillDown",S=>{const{marks:I}=S,R=I.map($=>{if($.id!==rt&&$.type!=="rect")return $;const{data:L}=$,X=Object.fromEntries(["color"].map(F=>[F,{domain:u.scale[F].getOptions().domain}])),G=L.filter(F=>{const b=F.path;return n||(F[Pt]=b.split(" / ")[g]),m?new RegExp(`^${m}.+`).test(b):!0});return mt({},$,n?{data:G,scale:X}:{data:G})});return Object.assign(Object.assign({},S),{marks:R})}),yield i()}),_=m=>{const g=m.target;if(k(g,["style",En])!==rt||k(g,["markType"])!=="rect"||!k(g,["style",dt]))return;const S=k(g,["__data__","key"]),I=k(g,["style","depth"]);g.style.cursor="pointer",v(S,I)};f.addEventListener("click",_);const O=cr(Object.assign(Object.assign({},d.active),d.inactive)),x=()=>{fa(f).forEach(g=>{const S=k(g,["style",dt]);if(k(g,["style","cursor"])!=="pointer"&&S){g.style.cursor="pointer";const R=ve(g.attributes,O);g.addEventListener("mouseenter",()=>{g.attr(d.active)}),g.addEventListener("mouseleave",()=>{g.attr(mt(R,d.inactive))})}})};return f.addEventListener("mousemove",x),()=>{y.remove(),f.removeEventListener("click",_),f.removeEventListener("mousemove",x)}}}function va(){return{"interaction.drillDown":ya,"mark.sunburst":ke}}var Dt=function(){return Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Dt.apply(this,arguments)},ha=fr(dr,Dt(Dt({},pr()),va())),E=function(e){var t=ga(e),n=t.children,r=n===void 0?[]:n,o=An(t,[].concat(Me,Ft.map(function(l){return l.key}))),i=function(l){var s;return(s=Aa.find(function(f){return f.key===l}))===null||s===void 0?void 0:s.callback},a=function(l,s,f){var p=i(s);p?p(l,s,f):l[s]=Y({},l[s],f)},c=function(l){Object.keys(l).forEach(function(s){if(l[s]){var f=Ft.find(function(y){return y.key===s});if(f){var p=f.type,d=f.extend_keys;p?r.push(u(Y({},be(l,d),{type:p},l[s]))):D(l[s])&&l[s].forEach(function(y){r.push(u(y))})}}})},u=function(l){return c(l),Object.keys(tn).forEach(function(s){var f=tn[s];if(!Gi(l[s]))if(z(f)){var p=f.value,d=f.target,y=p(l[s]);a(l,d,y)}else h(l,f,l[s])}),l};return r.forEach(function(l){var s=Y({},o,l);u(Y(l,s))}),c(t),_a(t),e},te=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},_a=function(e){var t=e.children,n=t===void 0?[]:t,r=Object.keys(tn).concat(Ft.map(function(o){return o.key}));return r.forEach(function(o){delete e[o]}),n.forEach(function(o){Object.keys(o).forEach(function(i){r.includes(i)&&delete o[i]})}),Object.keys(e).forEach(function(o){te(te([],Me,!0),nn.map(function(i){return i.key}),!0).includes(o)||delete e[o]}),e},ga=function(e){var t=e.options,n=t.children,r=n===void 0?[]:n;return r.forEach(function(o){Object.keys(o).forEach(function(i){D(o[i])&&i!=="data"&&(o[i]=o[i].filter(function(a){return!a[Vt]}))})}),t},ne=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},Oa=function(e,t){if(D(t))return t},Y=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xi.apply(void 0,ne(ne([],e,!1),[Oa],!1))};function yt(e){switch(typeof e){case"function":return e;case"string":return function(t){return T(t,[e])};default:return function(){return e}}}var vt=function(){return vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vt.apply(this,arguments)},ma=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},xa=["renderer"],Me=["width","height","autoFit","theme","inset","insetLeft","insetRight","insetTop","insetBottom","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","depth","title","clip","children","type","data","direction"],Vt="__transform__",wa="__skipDelCustomKeys__",Z=function(e,t){return wn(t)?{type:e,available:t}:vt({type:e},t)},tn={xField:"encode.x",yField:"encode.y",colorField:"encode.color",angleField:"encode.y",keyField:"encode.key",sizeField:"encode.size",shapeField:"encode.shape",seriesField:"encode.series",positionField:"encode.position",textField:"encode.text",valueField:"encode.value",binField:"encode.x",srcField:"encode.src",linkColorField:"encode.linkColor",fontSizeField:"encode.fontSize",radius:"coordinate.outerRadius",innerRadius:"coordinate.innerRadius",startAngle:"coordinate.startAngle",endAngle:"coordinate.endAngle",focusX:"coordinate.focusX",focusY:"coordinate.focusY",distortionX:"coordinate.distortionX",distortionY:"coordinate.distortionY",visual:"coordinate.visual",stack:{target:"transform",value:function(e){return Z("stackY",e)}},normalize:{target:"transform",value:function(e){return Z("normalizeY",e)}},percent:{target:"transform",value:function(e){return Z("normalizeY",e)}},group:{target:"transform",value:function(e){return Z("dodgeX",e)}},sort:{target:"transform",value:function(e){return Z("sortX",e)}},symmetry:{target:"transform",value:function(e){return Z("symmetryY",e)}},diff:{target:"transform",value:function(e){return Z("diffY",e)}},meta:{target:"scale",value:function(e){return e}},label:{target:"labels",value:function(e){return e}},shape:"style.shape",connectNulls:{target:"style",value:function(e){return wn(e)?{connect:e}:e}}},Ut=["xField","yField","seriesField","colorField","keyField","positionField","meta","tooltip","animate","stack","normalize","percent","group","sort","symmetry","diff"],Ft=[{key:"annotations",extend_keys:[]},{key:"line",type:"line",extend_keys:Ut},{key:"point",type:"point",extend_keys:Ut},{key:"area",type:"area",extend_keys:Ut}],Aa=[{key:"transform",callback:function(e,t,n){var r;e[t]=e[t]||[];var o=n.available,i=o===void 0?!0:o,a=ma(n,["available"]);if(i)e[t].push(vt((r={},r[Vt]=!0,r),a));else{var c=e[t].indexOf(function(u){return u.type===n.type});c!==-1&&e[t].splice(c,1)}}},{key:"labels",callback:function(e,t,n){var r;if(!n||D(n)){e[t]=n||[];return}n.text||(n.text=e.yField),e[t]=e[t]||[],e[t].push(vt((r={},r[Vt]=!0,r),n))}}],nn=[{key:"conversionTag",shape:"ConversionTag"},{key:"axisText",shape:"BidirectionalBarAxisText"}],Ea=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ct=function(){return Ct=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ct.apply(this,arguments)},Sa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},ze=function(e){Ea(t,e);function t(n){n===void 0&&(n={});var r=n.style,o=Sa(n,["style"]);return e.call(this,Ct({style:Ct({text:"",fontSize:12,textBaseline:"middle",textAlign:"center",fill:"#000",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",lineWidth:1},r)},o))||this}return t}(yr),Ta=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(){return jt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},jt.apply(this,arguments)},Pa=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Da=function(e){Ta(t,e);function t(n){n===void 0&&(n={});var r=n.style,o=Pa(n,["style"]);return e.call(this,jt({style:jt({fill:"#eee"},r)},o))||this}return t}(vr),Fa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(e){Fa(t,e);function t(n,r,o){var i=e.call(this,{style:Y(o,r)})||this;return i.chart=n,i}return t.prototype.connectedCallback=function(){this.render(this.attributes,this),this.bindEvents(this.attributes,this)},t.prototype.disconnectedCallback=function(){},t.prototype.attributeChangedCallback=function(n){},t.prototype.update=function(n,r){var o;return this.attr(Y({},this.attributes,n||{})),(o=this.render)===null||o===void 0?void 0:o.call(this,this.attributes,this,r)},t.prototype.clear=function(){this.removeChildren()},t.prototype.getElementsLayout=function(){var n=this.chart.getContext().canvas,r=n.document.getElementsByClassName("element"),o=[];return r.forEach(function(i){var a=i.getBBox(),c=a.x,u=a.y,l=a.width,s=a.height,f=i.__data__;o.push({bbox:a,x:c,y:u,width:l,height:s,key:f.key,data:f})}),o},t.prototype.bindEvents=function(n,r){},t}(hr),Ca=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$t=function(){return $t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$t.apply(this,arguments)},ja=function(e){Ca(t,e);function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return t.prototype.getConversionTagLayout=function(){var n=this.direction==="vertical",r=this.getElementsLayout(),o=r[0],i=o.x,a=o.y,c=o.height,u=o.width,l=o.data,s=["items",0,"value"],f=T(l,s),p=n?r[1].y-a-c:r[1].x-i-u,d=[],y=this.attributes,v=y.size,_=v===void 0?40:v,O=y.arrowSize,x=O===void 0?20:O,m=y.spacing,g=m===void 0?4:m;return r.forEach(function(S,I){if(I>0){var R=S.x,$=S.y,L=S.height,X=S.width,G=S.data,F=S.key,b=T(G,s),P=_/2;if(n){var j=R+X/2,B=$;d.push({points:[[j+P,B-p+g],[j+P,B-x-g],[j,B-g],[j-P,B-x-g],[j-P,B-p+g]],center:[j,B-p/2-g],width:p,value:[f,b],key:F})}else{var j=R,B=$+L/2;d.push({points:[[R-p+g,B-P],[R-x-g,B-P],[j-g,B],[R-x-g,B+P],[R-p+g,B+P]],center:[j-p/2-g,B],width:p,value:[f,b],key:F})}f=b}}),d},t.prototype.render=function(){this.setDirection(),this.drawConversionTag()},t.prototype.setDirection=function(){var n=this.chart.getCoordinate(),r=T(n,"options.transformations"),o="horizontal";r.forEach(function(i){i.includes("transpose")&&(o="vertical")}),this.direction=o},t.prototype.drawConversionTag=function(){var n=this,r=this.getConversionTagLayout(),o=this.attributes,i=o.style,a=o.text,c=a.style,u=a.formatter;r.forEach(function(l){var s=l.points,f=l.center,p=l.value,d=l.key,y=p[0],v=p[1],_=f[0],O=f[1],x=new Da({style:$t({points:s,fill:"#eee"},i),id:"polygon-".concat(d)}),m=new ze({style:$t({x:_,y:O,text:It(u)?u(y,v):(v/y*100).toFixed(2)+"%"},c),id:"text-".concat(d)});n.appendChild(x),n.appendChild(m)})},t.prototype.update=function(){var n=this,r=this.getConversionTagLayout();r.forEach(function(o){var i=o.points,a=o.center,c=o.key,u=a[0],l=a[1],s=n.getElementById("polygon-".concat(c)),f=n.getElementById("text-".concat(c));s.setAttribute("points",i),f.setAttribute("x",u),f.setAttribute("y",l)})},t.tag="ConversionTag",t}(Ge),en=32,ee=16,re=48,$a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),lt=function(){return lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lt.apply(this,arguments)},La=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Ra=function(e){$a(t,e);function t(n,r){return e.call(this,n,r,{type:t.tag})||this}return t.prototype.render=function(){this.drawText()},t.prototype.getBidirectionalBarAxisTextLayout=function(){var n=this.attributes.layout,r=n==="vertical",o=this.getElementsLayout(),i=r?zt(o,"x"):zt(o,"y"),a=["title"],c=[],u=this.chart.getContext().views,l=T(u,[0,"layout"]),s=l.width,f=l.height;return i.forEach(function(p){var d=p.x,y=p.y,v=p.height,_=p.width,O=p.data,x=p.key,m=T(O,a);r?c.push({x:d+_/2,y:f,text:m,key:x}):c.push({x:s,y:y+v/2,text:m,key:x})}),zt(c,"text").length!==c.length&&(c=Object.values(Re(c,"text")).map(function(p){var d,y=p.reduce(function(v,_){return v+(r?_.x:_.y)},0);return lt(lt({},p[0]),(d={},d[r?"x":"y"]=y/p.length,d))})),c},t.prototype.transformLabelStyle=function(n){var r={},o=/^label[A-Z]/;return Object.keys(n).forEach(function(i){o.test(i)&&(r[i.replace("label","").replace(/^[A-Z]/,function(a){return a.toLowerCase()})]=n[i])}),r},t.prototype.drawText=function(){var n=this,r=this.getBidirectionalBarAxisTextLayout(),o=this.attributes,i=o.layout,a=o.labelFormatter,c=La(o,["layout","labelFormatter"]);r.forEach(function(u){var l=u.x,s=u.y,f=u.text,p=u.key,d=new ze({style:lt({x:l,y:s,text:It(a)?a(f):f,wordWrap:!0,wordWrapWidth:i==="horizontal"?en*2:120,maxLines:2,textOverflow:"ellipsis"},n.transformLabelStyle(c)),id:"text-".concat(p)});n.appendChild(d)})},t.prototype.update=function(){var n=this,r=this.getBidirectionalBarAxisTextLayout();r.forEach(function(o){var i=o.x,a=o.y,c=o.key,u=n.getElementById("text-".concat(c));u.setAttribute("x",i),u.setAttribute("y",a)})},t.tag="BidirectionalBarAxisText",t}(Ge),Ba={ConversionTag:ja,BidirectionalBarAxisText:Ra},Ia=function(){function e(t,n){this.container=new Map,this.chart=t,this.config=n,this.init()}return e.prototype.init=function(){var t=this;nn.forEach(function(n){var r,o=n.key,i=n.shape,a=t.config[o];if(a){var c=new Ba[i](t.chart,a),u=t.chart.getContext().canvas;u.appendChild(c),t.container.set(o,c)}else(r=t.container.get(o))===null||r===void 0||r.clear()})},e.prototype.update=function(){var t=this;this.container.size&&nn.forEach(function(n){var r=n.key,o=t.container.get(r);o==null||o.update()})},e}(),ba=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){return nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},nt.apply(this,arguments)},oe="data-chart-source-type",w=function(e){ba(t,e);function t(n,r){var o=e.call(this)||this;return o.container=typeof n=="string"?document.getElementById(n):n,o.options=o.mergeOption(r),o.createG2(),o.bindEvents(),o}return t.prototype.getChartOptions=function(){return nt(nt({},be(this.options,xa)),{container:this.container})},t.prototype.getSpecOptions=function(){return this.type==="base"||this[wa]?nt(nt({},this.options),this.getChartOptions()):this.options},t.prototype.createG2=function(){if(!this.container)throw Error("The container is not initialized!");this.chart=new ha(this.getChartOptions()),this.container.setAttribute(oe,"Ant Design Charts")},t.prototype.bindEvents=function(){var n=this;this.chart&&this.chart.on("*",function(r){r!=null&&r.type&&n.emit(r.type,r)})},t.prototype.getBaseOptions=function(){return{type:"view",autoFit:!0}},t.prototype.getDefaultOptions=function(){},t.prototype.render=function(){var n=this;this.type!=="base"&&this.execAdaptor(),this.chart.options(this.getSpecOptions()),this.chart.render().then(function(){n.annotation=new Ia(n.chart,n.options)}),this.bindSizeSensor()},t.prototype.update=function(n){this.options=this.mergeOption(n)},t.prototype.mergeOption=function(n){return Y({},this.getBaseOptions(),this.getDefaultOptions(),n)},t.prototype.changeData=function(n){this.chart.changeData(n)},t.prototype.changeSize=function(n,r){this.chart.changeSize(n,r)},t.prototype.destroy=function(){this.chart.destroy(),this.off(),this.container.removeAttribute(oe)},t.prototype.execAdaptor=function(){var n=this.getSchemaAdaptor();n({chart:this.chart,options:this.options})},t.prototype.triggerResize=function(){this.chart.forceFit()},t.prototype.bindSizeSensor=function(){var n=this,r=this.options.autoFit,o=r===void 0?!0:r;o&&this.chart.on(_r.AFTER_CHANGE_SIZE,function(){n.annotation.update()})},t}(gr),Na=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ka=function(e){Na(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="base",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return function(n){return n}},t}(w),rn=function(){return rn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},rn.apply(this,arguments)};function Ma(e){var t=e.options,n=t.stack,r=t.tooltip,o=t.xField;if(!n)return e;var i=Ft.map(function(c){return c.type}).filter(function(c){return!!c}),a=!1;return i.forEach(function(c){t[c]&&(a=!0,h(t,[c,"stack"],rn({y1:"y"},typeof n=="object"?n:{})))}),a&&!wn(r)&&!r&&h(t,"tooltip",{title:o,items:[{channel:"y"}]}),e}function C(e){return A(Ma)(e)}function za(e){var t=e.options.layout,n=t===void 0?"horizontal":t;return e.options.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}],e}function Ga(e){za(e);var t=e.options.layout,n=t===void 0?"horizontal":t;return e.options.children.forEach(function(r){var o;!((o=r==null?void 0:r.coordinate)===null||o===void 0)&&o.transform&&(r.coordinate.transform=n!=="horizontal"?void 0:[{type:"transpose"}])}),e}function Ua(e){return A(C,E)(e)}var Wa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ha=function(e){Wa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="area",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"area"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ua},t}(w),et=function(){return et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},et.apply(this,arguments)};function Ue(e){var t=function(n){var r=n.options;T(r,"children.length")>1&&h(r,"children",[{type:"interval"}]);var o=r.scale,i=r.markBackground,a=r.data,c=r.children,u=r.yField,l=T(o,"y.domain",[]);if(i&&l.length&&D(a)){var s="domainMax",f=a.map(function(p){var d;return et(et({originData:et({},p)},An(p,u)),(d={},d[s]=l[l.length-1],d))});c.unshift(et({type:"interval",data:f,yField:s,tooltip:!1,style:{fill:"#eee"},label:!1},i))}return n};return A(t,C,E)(e)}var Ya=function(){var e=function(t,n){return function(r){var o=t.fill,i=o===void 0?"#2888FF":o,a=t.stroke,c=t.fillOpacity,u=c===void 0?1:c,l=t.strokeOpacity,s=l===void 0?.2:l,f=t.pitch,p=f===void 0?8:f,d=r[0],y=r[1],v=r[2],_=r[3],O=(y[1]-d[1])/2,x=n.document,m=x.createElement("g",{}),g=x.createElement("polygon",{style:{points:[d,[d[0]-p,d[1]+O],[v[0]-p,d[1]+O],_],fill:i,fillOpacity:u,stroke:a,strokeOpacity:s,inset:30}}),S=x.createElement("polygon",{style:{points:[[d[0]-p,d[1]+O],y,v,[v[0]-p,d[1]+O]],fill:i,fillOpacity:u,stroke:a,strokeOpacity:s}}),I=x.createElement("polygon",{style:{points:[d,[d[0]-p,d[1]+O],y,[d[0]+p,d[1]+O]],fill:i,fillOpacity:u-.2}});return m.appendChild(g),m.appendChild(S),m.appendChild(I),m}};he("shape.interval.bar25D",e)},qa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Ya();var Ka=function(e){qa(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Bar",n}return t.getDefaultOptions=function(){return{type:"view",coordinate:{transform:[{type:"transpose"}]},children:[{type:"interval"}],scale:{y:{nice:!0}},axis:{y:{title:!1},x:{title:!1}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ue},t}(w),Xa=function(){var e=function(t,n){return function(r){var o=t.fill,i=o===void 0?"#2888FF":o,a=t.stroke,c=t.fillOpacity,u=c===void 0?1:c,l=t.strokeOpacity,s=l===void 0?.2:l,f=t.pitch,p=f===void 0?8:f,d=r[1][0]-r[0][0],y=d/2+r[0][0],v=n.document,_=v.createElement("g",{}),O=v.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[y,r[1][1]+p],[y,r[3][1]+p],[r[3][0],r[3][1]]],fill:i,fillOpacity:u,stroke:a,strokeOpacity:s,inset:30}}),x=v.createElement("polygon",{style:{points:[[y,r[1][1]+p],[r[1][0],r[1][1]],[r[2][0],r[2][1]],[y,r[2][1]+p]],fill:i,fillOpacity:u,stroke:a,strokeOpacity:s}}),m=v.createElement("polygon",{style:{points:[[r[0][0],r[0][1]],[y,r[1][1]-p],[r[1][0],r[1][1]],[y,r[1][1]+p]],fill:i,fillOpacity:u-.2}});return _.appendChild(x),_.appendChild(O),_.appendChild(m),_}};he("shape.interval.column25D",e)},Za=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Xa();var Ja=function(e){Za(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="column",n}return t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0},elementHighlight:{background:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ue},t}(w);function Qa(e){var t=function(r){var o=r.options,i=o.children,a=i===void 0?[]:i,c=o.legend;return c&&a.forEach(function(u){if(!T(u,"colorField")){var l=T(u,"yField");h(u,"colorField",function(){return l})}}),r},n=function(r){var o=r.options,i=o.annotations,a=i===void 0?[]:i,c=o.children,u=c===void 0?[]:c,l=o.scale,s=!1;return T(l,"y.key")||u.forEach(function(f,p){if(!T(f,"scale.y.key")){var d="child".concat(p,"Scale");h(f,"scale.y.key",d);var y=f.annotations,v=y===void 0?[]:y;v.length>0&&(h(f,"scale.y.independent",!1),v.forEach(function(_){h(_,"scale.y.key",d)})),!s&&a.length>0&&T(f,"scale.y.independent")===void 0&&(s=!0,h(f,"scale.y.independent",!1),a.forEach(function(_){h(_,"scale.y.key",d)}))}}),r};return A(t,n,C,E)(e)}var Va=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ie=function(e){Va(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="DualAxes",n}return t.getDefaultOptions=function(){return{type:"view",axis:{y:{title:!1,tick:!1},x:{title:!1}},scale:{y:{independent:!0,nice:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Qa},t}(w);function tu(e){var t=function(i){var a=i.options,c=a.xField,u=a.colorField;return u||h(a,"colorField",c),i},n=function(i){var a=i.options,c=a.compareField,u=a.transform,l=a.isTransposed,s=l===void 0?!0:l,f=a.coordinate;return u||(c?h(a,"transform",[]):h(a,"transform",[{type:"symmetryY"}])),!f&&s&&h(a,"coordinate",{transform:[{type:"transpose"}]}),i},r=function(i){var a=i.options,c=a.compareField,u=a.seriesField,l=a.data,s=a.children,f=a.yField,p=a.isTransposed,d=p===void 0?!0:p;if(c||u){var y=Object.values(Re(l,function(v){return v[c||u]}));s[0].data=y[0],s.push({type:"interval",data:y[1],yField:function(v){return-v[f]}}),delete a.compareField,delete a.data}return u&&(h(a,"type","spaceFlex"),h(a,"ratio",[1,1]),h(a,"direction",d?"row":"col"),delete a.seriesField),i},o=function(i){var a=i.options,c=a.tooltip,u=a.xField,l=a.yField;return c||h(a,"tooltip",{title:!1,items:[function(s){return{name:s[u],value:s[l]}}]}),i};return A(t,n,r,o,C,E)(e)}var nu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),eu=function(e){nu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="column",n}return t.getDefaultOptions=function(){return{type:"view",scale:{x:{padding:0}},animate:{enter:{type:"fadeIn"}},axis:!1,shapeField:"funnel",label:{position:"inside",transform:[{type:"contrastReverse"}]},children:[{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tu},t}(w);function ru(e){return A(C,E)(e)}var ou=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),iu=function(e){ou(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="line",n}return t.getDefaultOptions=function(){return{type:"view",scale:{y:{nice:!0}},interaction:{tooltip:{shared:!0}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"line"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return ru},t}(w),W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},W.apply(this,arguments)};function au(e){var t=function(n){var r=n.options,o=r.angleField,i=r.data,a=r.label,c=r.tooltip,u=r.colorField,l=yt(u);if(D(i)){var s=i.reduce(function(p,d){return p+d[o]},0);if(s===0){var f=i.map(function(p){var d;return W(W({},p),(d={},d[o]=1,d))});h(r,"data",f),a&&h(r,"label",W(W({},a),{formatter:function(){return 0}})),c!==!1&&h(r,"tooltip",W(W({},c),{items:[function(p,d,y){return{name:l(p,d,y),value:0}}]}))}}return n};return A(t,E)(e)}var uu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cu=function(e){uu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="pie",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"theta"},transform:[{type:"stackY",reverse:!0}],animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return au},t}(w);function su(e){return A(C,E)(e)}var lu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(e){lu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="scatter",n}return t.getDefaultOptions=function(){return{axis:{y:{title:!1},x:{title:!1}},legend:{size:!1},children:[{type:"point"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return su},t}(w);function pu(e){var t=function(n){return h(n,"options.coordinate",{type:T(n,"options.coordinateType","polar")}),n};return A(t,E)(e)}var du=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yu=function(e){du(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="radar",n}return t.getDefaultOptions=function(){return{axis:{x:{grid:!0,line:!0},y:{zIndex:1,title:!1,line:!0,nice:!0}},meta:{x:{padding:.5,align:0}},interaction:{tooltip:{style:{crosshairsLineDash:[4,4]}}},children:[{type:"line"}],coordinateType:"polar"}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return pu},t}(w),U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},U.apply(this,arguments)},vu="__stock-range__",hu="trend",_u="up",gu="down";function Ou(e){var t=function(r){var o=r.options,i=o.data,a=o.yField;return r.options.data=it(i,function(c){var u=c&&U({},c);if(Array.isArray(a)&&u){var l=a[0],s=a[1],f=a[2],p=a[3];u[hu]=u[l]<=u[s]?_u:gu,u[vu]=[u[l],u[s],u[f],u[p]]}return u}),r},n=function(r){var o=r.options,i=o.xField,a=o.yField,c=o.fallingFill,u=o.risingFill,l=a[0],s=a[1],f=a[2],p=a[3],d=yt(i);return r.options.children=it(r.options.children,function(y,v){var _=v===0;return U(U({},y),{tooltip:{title:function(O,x,m){var g=d(O,x,m);return g instanceof Date?g.toLocaleString():g},items:[{field:f},{field:p},{field:l},{field:s}]},encode:U(U({},y.encode||{}),{y:_?[f,p]:[l,s],color:function(O){return Math.sign(O[s]-O[l])}}),style:U(U({},y.style||{}),{lineWidth:_?1:10})})}),delete o.yField,r.options.legend={color:!1},c&&h(r,"options.scale.color.range[0]",c),u&&h(r,"options.scale.color.range[2]",u),r};return A(t,n,E)(e)}var mu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu=["#26a69a","#999999","#ef5350"],wu=function(e){mu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="stock",n}return t.getDefaultOptions=function(){return{type:"view",scale:{color:{domain:[-1,0,1],range:xu},y:{nice:!0}},children:[{type:"link"},{type:"link"}],axis:{x:{title:!1,grid:!1},y:{title:!1,grid:!0,gridLineDash:null}},animate:{enter:{type:"scaleInY"}},interaction:{tooltip:{shared:!0,marker:!1,groupName:!1,crosshairs:!0}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ou},t}(w);function Au(e){return A(C,E)(e)}var Eu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Su=function(e){Eu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyLine",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"line",axis:!1}],animate:{enter:{type:"growInX",duration:500}},padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Au},t}(w);function Tu(e){return A(C,E)(e)}var Pu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Du=function(e){Pu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyArea",n}return t.getDefaultOptions=function(){return{type:"view",animate:{enter:{type:"growInX",duration:500}},children:[{type:"area",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Tu},t}(w);function Fu(e){return A(C,E)(e)}var Cu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=function(e){Cu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyColumn",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval",axis:!1}],padding:0,margin:0,tooltip:!1}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Fu},t}(w),on=function(){return on=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},on.apply(this,arguments)};function $u(e){var t=function(n){var r=n.options,o=r.percent,i=r.color,a=i===void 0?[]:i;if(!o)return n;var c={scale:{color:{range:a.length?a:[]}},data:[1,o]};return Object.assign(r,on({},c)),n};return A(t,C,E)(e)}var Lu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ru=function(e){Lu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyProgress",n}return t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,tooltip:!1,children:[{interaction:{tooltip:!1},coordinate:{transform:[{type:"transpose"}]},type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return $u},t}(w),an=function(){return an=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},an.apply(this,arguments)};function Bu(e){var t=function(r){var o=r.options,i=o.radius,a=i===void 0?.8:i;return h(r,"options.coordinate.innerRadius",a),r},n=function(r){var o=r.options,i=o.percent,a=o.color,c=a===void 0?[]:a;if(!i)return r;var u={scale:{color:{range:c.length?c:[]}},data:[1,i]};return Object.assign(o,an({},u)),r};return A(t,n,C,E)(e)}var Iu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bu=function(e){Iu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="TinyRing",n}return t.getDefaultOptions=function(){return{type:"view",data:[],margin:0,padding:0,coordinate:{type:"theta"},animate:{enter:{type:"waveIn"}},interaction:{tooltip:!1},tooltip:!1,children:[{type:"interval",axis:!1,legend:!1,encode:{y:function(n){return n},color:function(n,r){return r}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Bu},t}(w);function Nu(e){return A(E)(e)}var ku=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mu=function(e){ku(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="rose",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"polar"},animate:{enter:{type:"waveIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Nu},t}(w),Wt="__start__",tt="__end__",un="__waterfall_value__",cn=function(){return cn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cn.apply(this,arguments)},zu=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function Gu(e){var t=function(r){var o=r.options,i=o.data,a=i===void 0?[]:i,c=o.yField;return a.length&&(a.reduce(function(u,l,s){var f,p=yt(c),d=p(l,s,a);if(s===0||l.isTotal)l[Wt]=0,l[tt]=d,l[un]=d;else{var y=(f=u[tt])!==null&&f!==void 0?f:p(u,s,a);l[Wt]=y,l[tt]=y+d,l[un]=u[tt]}return l},[]),Object.assign(o,{yField:[Wt,tt]})),r},n=function(r){var o=r.options,i=o.data,a=i===void 0?[]:i,c=o.xField,u=o.children,l=o.linkStyle,s=zu([],a,!0);return s.reduce(function(f,p,d){return d>0&&(p.x1=f[c],p.x2=p[c],p.y1=f[tt]),p},[]),s.shift(),u.push({type:"link",xField:["x1","x2"],yField:"y1",zIndex:-1,data:s,style:cn({stroke:"#697474"},l),label:!1,tooltip:!1}),r};return A(t,n,C,E)(e)}var Uu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wu=function(e){Uu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="waterfall",n}return t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{field:un,valueFormatter:"~s",name:"value"},axis:{y:{title:null,labelFormatter:"~s"},x:{title:null}},children:[{type:"interval",interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Gu},t}(w);function Hu(e){var t=function(n){var r=n.options,o=r.data,i=r.binNumber,a=r.binWidth,c=r.children,u=r.channel,l=u===void 0?"count":u,s=T(c,"[0].transform[0]",{});return at(a)?(Hn(s,{thresholds:Eo(Ai(o.length,a)),y:l}),n):(at(i)&&Hn(s,{thresholds:i,y:l}),n)};return A(t,C,E)(e)}var Yu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qu=function(e){Yu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Histogram",n}return t.getDefaultOptions=function(){return{type:"view",autoFit:!0,axis:{y:{title:!1},x:{title:!1}},children:[{type:"rect",transform:[{type:"binX",y:"count"}],interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Hu},t}(w);function Ku(e){var t=function(r){var o=r.options,i=o.tooltip,a=i===void 0?{}:i,c=o.colorField,u=o.sizeField;return a&&!a.field&&(a.field=c||u),r},n=function(r){var o=r.options,i=o.mark,a=o.children;return i&&(a[0].type=i),r};return A(t,n,C,E)(e)}var Xu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zu=function(e){Xu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="heatmap",n}return t.getDefaultOptions=function(){return{type:"view",legend:null,tooltip:{valueFormatter:"~s"},axis:{y:{title:null,grid:!0},x:{title:null,grid:!0}},children:[{type:"point",interaction:{elementHighlight:{background:!0}}}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ku},t}(w);function Ju(e){var t=function(n){var r=n.options.boxType,o=r===void 0?"box":r;return n.options.children[0].type=o,n};return A(t,C,E)(e)}var Qu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vu=function(e){Qu(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="box",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"box"}],axis:{y:{title:!1},x:{title:!1}},tooltip:{items:[{name:"min",channel:"y"},{name:"q1",channel:"y1"},{name:"q2",channel:"y2"},{name:"q3",channel:"y3"},{name:"max",channel:"y4"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ju},t}(w);function tc(e){var t=function(n){var r=n.options,o=r.data,i=[{type:"custom",callback:function(c){return{links:c}}}];if(D(o))o.length>0?h(r,"data",{value:o,transform:i}):delete r.children;else if(T(o,"type")==="fetch"&&T(o,"value")){var a=T(o,"transform");D(a)?h(o,"transform",a.concat(i)):h(o,"transform",i)}return n};return A(t,C,E)(e)}var nc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ec=function(e){nc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="sankey",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"sankey"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return tc},t}(w),N=function(){return N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},N.apply(this,arguments)},At=["#f0efff","#5B8FF9","#3D76DD"];function Ht(e,t,n,r){r===void 0&&(r=!0);var o=0,i=!1,a=it(e,function(c){var u,l,s=T(c,[t]);if(zi(s))return[];if(Be(s)){var f=Number(s);return isNaN(f)?[]:(u={},u[n]=c[n],u[t]=f,u)}return D(s)?(i=!0,o=Math.max(o,s.length),it(r?s.sort(function(p,d){return d-p}):s,function(p,d){var y;return y={},y[n]=c[n],y[t]=p,y.index=d,y})):(o=Math.max(1,o),l={},l[n]=c[n],l[t]=s,l)}).flat();return i?[a.map(function(c){return N({index:0},c)}),o]:[a,o]}function Yt(e,t){return new Array(e).fill("").map(function(n,r){return D(t)?t[r%t.length]:t})}function rc(e){var t=function(o){var i=o.options,a=i.color,c=i.rangeField,u=c===void 0?"ranges":c,l=i.measureField,s=l===void 0?"measures":l,f=i.targetField,p=f===void 0?"targets":f,d=i.xField,y=d===void 0?"title":d,v=i.mapField,_=i.data,O=Ht(_,u,y),x=O[0],m=O[1],g=Ht(_,s,y,!1),S=g[0],I=g[1],R=Ht(_,p,y,!1),$=R[0],L=R[1],X=T(a,[u],At[0]),G=T(a,[s],At[1]),F=T(a,[p],At[2]),b=[Yt(m,X),Yt(I,G),Yt(L,F)].flat();return o.options.children=it(o.options.children,function(P,j){var B=[x,S,$][j],V=[u,s,p][j];return N(N({},P),{data:B,encode:N(N({},P.encode||{}),{x:y,y:V,color:function(ct){var Nt=ct.index,Sn=at(Nt)?"".concat(V,"_").concat(Nt):V;return v?T(v,[V,Nt],Sn):Sn}}),style:N(N({},P.style||{}),{zIndex:function(ct){return-ct[V]}}),labels:j!==0?it(P.labels,function(ct){return N(N({},ct),{text:V})}):void 0})}),o.options.scale.color.range=b,o.options.legend.color.itemMarker=function(P){return v&&bi(v==null?void 0:v[p],P)||(P==null?void 0:P.replace(/\_\d$/,""))===p?"line":"square"},o},n=function(o){var i=o.options.layout,a=i===void 0?"horizontal":i;return a!=="horizontal"&&h(o,"options.children[2].shapeField","hyphen"),o},r=function(o){var i=o.options,a=i.range,c=a===void 0?{}:a,u=i.measure,l=u===void 0?{}:u,s=i.target,f=s===void 0?{}:s,p=i.children;return o.options.children=[c,l,f].map(function(d,y){return Y(p[y],d)}),o};return A(t,n,r,Ga,E)(e)}var oc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ic=function(e){oc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="bullet",n}return t.getDefaultOptions=function(){return{type:"view",scale:{color:{range:At}},legend:{color:{itemMarker:function(n){return n==="target"?"line":"square"}}},axis:{y:{title:!1},x:{title:!1}},children:[{type:"interval",style:{maxWidth:30},axis:{y:{grid:!0,gridLineWidth:2}}},{type:"interval",style:{maxWidth:20},transform:[{type:"stackY"}]},{type:"point",encode:{size:8,shape:"line"}}],interaction:{tooltip:{shared:!0}},coordinate:{transform:[{type:"transpose"}]}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return rc},t}(w);function ac(e){var t=function(n){var r=n.options.data;return n.options.data={value:r},n};return A(t,C,E)(e)}var uc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(e){uc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Gauge",n}return t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"gauge"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return ac},t}(w);function sc(e){var t=function(n){var r=n.options.percent;return at(r)&&(h(n,"options.data",r),delete n.options.percent),n};return A(t,C,E)(e)}var lc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fc=function(e){lc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Liquid",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"liquid"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return sc},t}(w);function pc(e){return A(C,E)(e)}var dc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),yc=function(e){dc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="WordCloud",n}return t.getDefaultOptions=function(){return{type:"view",legend:!1,children:[{type:"wordCloud"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return pc},t}(w);function vc(e){var t=function(n){var r=n.options,o=r.data;return o&&h(r,"data",{value:o}),n};return A(t,C,E)(e)}var hc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_c=function(e){hc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="treemap",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"treemap"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return vc},t}(w),J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},J.apply(this,arguments)};function gc(e){var t=function(o){var i=o.options,a=i.startAngle,c=i.maxAngle,u=i.coordinate,l=at(a)?a/(2*Math.PI)*360:-90,s=at(c)?(Number(c)+l)/180*Math.PI:Math.PI;return h(o,["options","coordinate"],J(J({},u),{endAngle:s,startAngle:a??-Math.PI/2})),o},n=function(o){var i=o.options,a=i.tooltip,c=i.xField,u=i.yField,l=yt(c),s=yt(u);return a||h(i,"tooltip",{title:!1,items:[function(f,p,d){return{name:l(f,p,d),value:s(f,p,d)}}]}),o},r=function(o){var i=o.options,a=i.markBackground,c=i.children,u=i.scale,l=i.coordinate,s=i.xField,f=T(u,"y.domain",[]);return a&&c.unshift(J({type:"interval",xField:s,yField:f[f.length-1],colorField:a.color,scale:{color:{type:"identity"}},style:{fillOpacity:a.opacity,fill:a.color?void 0:"#e0e4ee"},coordinate:J(J({},l),{startAngle:-Math.PI/2,endAngle:1.5*Math.PI}),animate:!1},a)),o};return A(t,n,r,C,E)(e)}var Oc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),mc=function(e){Oc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="radial",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"interval"}],coordinate:{type:"radial",innerRadius:.1,outerRadius:1,endAngle:Math.PI},animate:{enter:{type:"waveIn",duration:800}},axis:{y:{nice:!0,labelAutoHide:!0,labelAutoRotate:!1},x:{title:!1,nice:!0,labelAutoRotate:!1,labelAutoHide:{type:"equidistance",cfg:{minGap:6}}}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return gc},t}(w);function xc(e){return A(E)(e)}var wc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ac=function(e){wc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="CirclePacking",n}return t.getDefaultOptions=function(){return{legend:!1,type:"view",children:[{type:"pack"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return xc},t}(w),Lt=function(){return Lt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Lt.apply(this,arguments)};function Ec(e){var t=function(n){var r=n.options,o=r.xField,i=r.yField,a=r.seriesField,c=r.children,u=c==null?void 0:c.map(function(l){return Lt(Lt({},l),{xField:o,yField:i,seriesField:a,colorField:a,data:l.type==="density"?{transform:[{type:"kde",field:i,groupBy:[o,a]}]}:l.data})}).filter(function(l){return r.violinType!=="density"||l.type==="density"});return h(r,"children",u),r.violinType==="polar"&&h(r,"coordinate",{type:"polar"}),h(r,"violinType",void 0),n};return A(t,C,E)(e)}var Sc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tc=function(e){Sc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="violin",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"density",sizeField:"size",tooltip:!1},{type:"boxplot",shapeField:"violin",style:{opacity:.5,point:!1}}],animate:{enter:{type:"fadeIn"}}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Ec},t}(w),ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ft.apply(this,arguments)},Pc=function(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};function Dc(e){var t=function(i){var a=i.options,c=a.yField,u=a.children;return u.forEach(function(l,s){h(l,"yField",c[s])}),i},n=function(i){var a=i.options,c=a.yField,u=a.children,l=a.data;if(On(l))return i;var s=D(T(l,[0]))?l:[l,l];return u.forEach(function(f,p){h(f,"data",Pc([],s[p].map(function(d){return ft({groupKey:c[p]},d)}),!0))}),i},r=function(i){var a=i.options,c=a.yField,u=c[0],l=c[1],s=a.tooltip;return s||h(a,"tooltip",{items:[{field:u,value:u},{field:l,value:l}]}),i},o=function(i){var a=i.options,c=a.children,u=a.layout,l=a.coordinate.transform,s=a.paddingBottom,f=s===void 0?re:s,p=a.paddingLeft,d=p===void 0?re:p,y=a.axis;h(a,"axisText",ft(ft({},(y==null?void 0:y.x)||{}),{layout:u}));var v=c[0],_=c[1];if(u==="vertical")h(a,"direction","col"),h(a,"paddingLeft",d),h(a,"coordinate.transform",l.filter(function(S){return S.type!=="transpose"})),h(v,"paddingBottom",ee),h(_,"paddingTop",ee),h(_,"axis",{x:{position:"top"}}),h(_,"scale",{y:{range:[0,1]}});else{h(a,"paddingBottom",f),h(v,"scale",{y:{range:[0,1]}});var O=v.paddingRight,x=O===void 0?en:O,m=_.paddingLeft,g=m===void 0?en:m;h(v,"paddingRight",x),h(v,"axis",{x:{position:"right"}}),h(_,"paddingLeft",g)}return i};return A(t,n,r,o,C,E)(e)}var Fc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cc=function(e){Fc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="BidirectionalBar",n}return t.getDefaultOptions=function(){return{type:"spaceFlex",coordinate:{transform:[{type:"transpose"}]},scale:{y:{nice:!0}},direction:"row",layout:"horizontal",legend:!1,axis:{y:{title:!1},x:{title:!1,label:!1}},children:[{type:"interval"},{type:"interval"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Dc},t}(w),Q;(function(e){e.color="key",e.d="path"})(Q||(Q={}));function jc(e){var t=function(n){var r=n.options,o=r.data,i=r.setsField,a=r.sizeField;return D(o)&&(h(r,"data",{type:"inline",value:o,transform:[{type:"venn",sets:i,size:a,as:[Q.color,Q.d]}]}),h(r,"colorField",i),h(r,["children","0","encode","d"],Q.d)),h(n,"options",An(r,["sizeField","setsField"])),n};return A(t,E)(e)}var $c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lc=function(e){$c(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="venn",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"path"}],legend:{color:{itemMarker:"circle"}},encode:{color:Q.color,d:Q.d}}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return jc},t}(w);function Rc(e){var t=function(n){return n};return A(t,E)(e)}var Bc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ic=function(e){Bc(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type="Sunburst",n}return t.getDefaultOptions=function(){return{type:"view",children:[{type:"sunburst"}]}},t.prototype.getDefaultOptions=function(){return t.getDefaultOptions()},t.prototype.getSchemaAdaptor=function(){return Rc},t}(w),bc={Base:ka,Line:iu,Column:Ja,Pie:cu,Area:Ha,Bar:Ka,DualAxes:ie,Funnel:eu,Scatter:fu,Radar:yu,Rose:Mu,Stock:wu,TinyLine:Su,TinyArea:Du,TinyColumn:ju,TinyProgress:Ru,TinyRing:bu,Waterfall:Wu,Histogram:qu,Heatmap:Zu,Box:Vu,Sankey:ec,Bullet:ic,Gauge:cc,Liquid:fc,WordCloud:yc,Treemap:_c,RadialBar:mc,CirclePacking:Ac,Violin:Tc,BidirectionalBar:Cc,Venn:Lc,Mix:ie,Sunburst:Ic},sn=function(){return sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},sn.apply(this,arguments)},ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},zc=H.forwardRef(function(e,t){var n=e.chartType,r=n===void 0?"Base":n,o=ae(e,["chartType"]),i=o.containerStyle,a=i===void 0?{height:"inherit",flex:1}:i,c=o.containerAttributes,u=c===void 0?{}:c,l=o.className,s=o.loading,f=o.loadingTemplate,p=o.errorTemplate,d=ae(o,["containerStyle","containerAttributes","className","loading","loadingTemplate","errorTemplate"]),y=na(bc[r],d),v=y.chart,_=y.container;return H.useImperativeHandle(t,function(){return v.current}),M.createElement(jr,{errorTemplate:p},s&&M.createElement(Fr,{loadingTemplate:f}),M.createElement("div",sn({className:l,style:a,ref:_},u)))});export{zc as B};
